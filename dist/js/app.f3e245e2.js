(function(t){function e(e){for(var s,o,c=e[0],l=e[1],r=e[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,c=1;c<a.length;c++){var l=a[c];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0899":function(t,e,a){},"09e5":function(t,e,a){"use strict";a("3dbf")},"0aeb":function(t,e,a){t.exports=a.p+"img/formstackLogo.ed324f39.png"},"0e97":function(t,e,a){"use strict";a("5f32")},"120b":function(t,e,a){},"155b":function(t,e,a){"use strict";a("ec3b")},"1ce3":function(t,e,a){"use strict";a("91a1")},"20db":function(t,e,a){"use strict";a("5ca5")},"22de":function(t,e,a){"use strict";a("8319")},2583:function(t,e,a){"use strict";a("37c0")},"2b5c":function(t,e,a){},"32c8":function(t,e,a){"use strict";a("c271")},"339f":function(t,e,a){t.exports=a.p+"img/messagesTutorial-2.2c9a3958.png"},"34a2":function(t,e,a){"use strict";a("e9dc")},3652:function(t,e,a){},"37c0":function(t,e,a){},3984:function(t,e,a){t.exports=a.p+"img/mainTutorial-3.aa6be134.png"},"3a15":function(t,e,a){},"3d72":function(t,e,a){t.exports=a.p+"img/holdCalls.5f21240c.png"},"3dbf":function(t,e,a){},"41ef":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"4e12":function(t,e,a){"use strict";a("775b")},"4e22":function(t,e,a){},"4f1c":function(t,e,a){"use strict";a("d53e")},"52cc":function(t,e,a){},"55d9":function(t,e,a){"use strict";a("acde")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1),a("v-snackbar",{attrs:{color:t.status,right:"",timeout:t.timeout,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},n=[],o={name:"App",data:function(t){return{snackbar:!1,text:"",status:"error",timeout:2e3,newMessage:t.$pnGetMessage("onMessage")}},watch:{newMessage:function(){this.$root.$emit("getCounter"),this.$root.$emit("getMessages")}},mounted:function(){var t=this;this.$pnSubscribe({channels:["onMessage"]}),this.$root.$on("snackbar",(function(e,a){t.snackbar=!0,t.status=e,t.text=a}))}},c=o,l=(a("5c0b"),a("2877")),r=a("6544"),u=a.n(r),d=a("2db4"),m=Object(l["a"])(c,i,n,!1,null,null,null),h=m.exports;u()(m,{VSnackbar:d["a"]});a("b0c0"),a("96cf");var v=a("1da1"),f=a("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.auth?s("v-app",{attrs:{id:"inspire"}},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("HeaderContent")],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Navigation")],1),s("v-main",[s("v-container",{attrs:{fluid:""}},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("router-view")],1)],1)],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("FooterContent")],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.isMainTutorialShow,callback:function(e){t.isMainTutorialShow=e},expression:"isMainTutorialShow"}},[s("v-card",{attrs:{height:"100%"}},[s("v-toolbar",{attrs:{color:"primary"}},[s("v-btn",{on:{click:t.doneMainTutorial}},[t._v("Skip")]),s("v-spacer"),s("v-toolbar-title",{staticClass:"white--text"},[t._v("Main Tutorial")]),s("v-spacer")],1),s("v-container",{staticStyle:{height:"calc(100% - 64px)"},attrs:{fluid:""}},[s("v-fade-transition",{attrs:{mode:"out-in"}},[s("v-card",{attrs:{height:"100%"}},[1===t.step?s("v-img",{attrs:{src:a("6c43"),height:"calc(100% - 52px)",contain:""}}):t._e(),2===t.step?s("v-img",{attrs:{src:a("9d06"),height:"calc(100% - 52px)",contain:""}}):t._e(),3===t.step?s("v-img",{attrs:{src:a("3984"),height:"calc(100% - 52px)",contain:""}}):t._e(),4===t.step?s("v-img",{attrs:{src:a("e0a0"),height:"calc(100% - 52px)",contain:""}}):t._e(),5===t.step?s("v-img",{attrs:{src:a("c0a7"),height:"calc(100% - 52px)",contain:""}}):t._e(),6===t.step?s("v-img",{attrs:{src:a("5c63"),height:"calc(100% - 52px)",contain:""}}):t._e(),s("v-card-actions",{staticClass:"primary"},[t.step>1?s("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.step--}}},[s("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),s("v-spacer"),t.step<6?s("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.step++}}},[s("v-icon",[t._v("mdi-arrow-right")])],1):t._e(),6===t.step?s("v-btn",{attrs:{dark:"",icon:""},on:{click:t.doneMainTutorial}},[s("v-icon",[t._v("mdi-check")])],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.isMessageTutorialShow,callback:function(e){t.isMessageTutorialShow=e},expression:"isMessageTutorialShow"}},[s("v-card",{attrs:{height:"100%"}},[s("v-toolbar",{attrs:{color:"primary"}},[s("v-btn",{on:{click:t.doneMessageTutorial}},[t._v("Skip")]),s("v-spacer"),s("v-toolbar-title",{staticClass:"white--text"},[t._v("Main Tutorial")]),s("v-spacer")],1),s("v-container",{staticStyle:{height:"calc(100% - 64px)"},attrs:{fluid:""}},[s("v-fade-transition",{attrs:{mode:"out-in"}},[s("v-card",{attrs:{height:"100%"}},[1===t.step?s("v-img",{attrs:{src:a("ab3f"),height:"calc(100% - 52px)",contain:""}}):t._e(),2===t.step?s("v-img",{attrs:{src:a("339f"),height:"calc(100% - 52px)",contain:""}}):t._e(),3===t.step?s("v-img",{attrs:{src:a("d97d"),height:"calc(100% - 52px)",contain:""}}):t._e(),4===t.step?s("v-img",{attrs:{src:a("df0c"),height:"calc(100% - 52px)",contain:""}}):t._e(),5===t.step?s("v-img",{attrs:{src:a("d795"),height:"calc(100% - 52px)",contain:""}}):t._e(),s("v-card-actions",{staticClass:"primary"},[t.step>1?s("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.step--}}},[s("v-icon",[t._v("mdi-arrow-left")])],1):t._e(),s("v-spacer"),t.step<5?s("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){t.step++}}},[s("v-icon",[t._v("mdi-arrow-right")])],1):t._e(),5===t.step?s("v-btn",{attrs:{dark:"",icon:""},on:{click:t.doneMessageTutorial}},[s("v-icon",[t._v("mdi-check")])],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1):t._e()},g=[],b=a("5530"),C=a("2f62"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{staticClass:"header",attrs:{dark:"",color:"primary",app:"","clipped-left":"","extension-height":"110"},scopedSlots:t._u([{key:"extension",fn:function(){return[a("SubHeader")]},proxy:!0}])},[a("v-app-bar-nav-icon",{staticClass:"cursorPointer",on:{click:t.showNav}}),a("v-toolbar-title",{staticClass:"d-sm-block d-none cursorPointer pl-0",on:{click:function(e){return t.$router.push("/")}}},[a("v-img",{attrs:{src:t.logo,width:"230",contain:""}})],1),a("v-toolbar-title",{staticClass:"d-sm-none d-block cursorPointer mx-2 w-45p",on:{click:function(e){return t.$router.push("/")}}},[a("v-img",{attrs:{src:t.smallLogo,height:"40",contain:""}})],1),a("v-spacer"),a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{text:"",fab:"",small:"",dark:""},on:{click:t.goToChangeLog}},[a("v-icon",[t._v("mdi-chart-line")])],1),a("v-divider",{staticClass:"d-sm-block d-none",attrs:{inset:"",vertical:""}}),a("v-btn",{staticClass:"ma-2 py-1 d-sm-block d-none white--text text-capitalize",attrs:{color:"primary"},on:{click:t.goToProfile}},[a("v-avatar",{staticClass:"menu_avatar mr-2",attrs:{size:"24"}},[a("v-img",{attrs:{src:t.userAvatar}})],1),t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" ")],1)],1)},k=[],x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.auth&&t.currentStatus&&t.allStatus?s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{staticClass:"d-sm-flex d-none",attrs:{cols:"12",sm:"2",md:"6"}},[s("v-img",{staticClass:"d-sm-flex d-md-none",attrs:{width:"56",height:"56",contain:"",src:t.statusIcon}}),s("v-list",{staticClass:"transparent"},[s("v-list-item",{staticClass:"d-md-flex d-none"},[s("v-list-item-avatar",{attrs:{width:"56",height:"56"}},[s("v-img",{attrs:{src:t.statusIcon}})],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-wrap"},[s("v-row",{staticClass:"align-center no-gutters"},[s("v-col",{attrs:{cols:"auto py-0 px-0"}},[s("h4",{staticClass:"mb-0"},[t._v(t._s(t.currentStatus.statusName))])]),s("v-col",{staticClass:"py-0 pl-2 text-capitalize"},[s("h6",{staticClass:"mb-0 mt-1"},[0===t.currentStatus.takingCalls?s("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):s("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===t.currentStatus.takingCalls?"Not":"")+" taking Calls ")],1)])],1)],1),s("v-list-item-subtitle",{staticClass:"text-wrap",staticStyle:{"line-height":"1.2"},attrs:{id:"step-2"}},[t._v(t._s(t.currentStatus.message)),s("br"),t._v(t._s(t.currentStatus.callBackMessage))]),s("v-list-item-subtitle",{staticClass:"text-wrap"},[s("span",{staticClass:"mr-3"},[t._v("Next:")]),t.duration.days>0?[t._v(t._s(t.duration.days)+" "),s("span",{staticClass:"text-lowercase mr-3"},[t._v("days")])]:t._e(),t.duration.hours>0?[t._v(t._s(t.duration.hours)+" "),s("span",{staticClass:"text-lowercase mr-3"},[t._v("hours")])]:t._e(),t.duration.minutes>0?[t._v(t._s(t.duration.minutes)+" "),s("span",{staticClass:"text-lowercase mr-3"},[t._v("minutes")])]:t._e(),t.duration.seconds>0?[t._v(t._s(t.duration.seconds)+" "),s("span",{staticClass:"text-lowercase mr-3"},[t._v("seconds")])]:t._e()],2)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",sm:"10",md:"6"}},[s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[s("v-card",{staticClass:"py-1 px-2 dispatchBtn",attrs:{ripple:"",color:"secondary cursorPointer",disabled:null===t.defaultStatus},on:{click:function(e){t.isShowReturnDefaultStatus=!0}}},[s("div",{staticClass:"d-flex align-center justify-center"},[s("v-img",{staticClass:"mr-2 dispatchBtn-imgIcon",attrs:{src:a("86c6"),height:"36",width:"36",contain:""}}),s("p",{staticClass:"mb-0 text-uppercase text-center",staticStyle:{"line-height":"1"}},[t._v("Return to Default")])],1)])],1),s("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[s("v-card",{staticClass:"py-1 px-2",attrs:{ripple:"",color:"secondary cursorPointer"},on:{click:function(e){t.isShowStatus=!0}}},[s("div",{staticClass:"d-flex align-center justify-center"},[s("v-img",{staticClass:"mr-2 dispatchBtn-imgIcon",attrs:{src:a("d465"),height:"36",width:"36",contain:""}}),s("p",{staticClass:"mb-0 text-uppercase text-center",staticStyle:{"line-height":"1"}},[t._v("CHANGE CURRENT STATUS")])],1)])],1),s("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[s("v-card",{staticClass:"py-1 px-2",attrs:{ripple:"",color:"secondary cursorPointer"},on:{click:function(e){t.isShowHoldCall=!0}}},[s("div",{staticClass:"d-flex align-center justify-center"},[s("v-img",{staticClass:"mr-2 dispatchBtn-imgIcon",attrs:{src:a("3d72"),height:"36",width:"36",contain:""}}),s("p",{staticClass:"mb-0 text-uppercase text-center",staticStyle:{"line-height":"1"}},[t._v("HOLD MY CALLS")])],1)])],1)],1)],1),s("DispatchStatus",{attrs:{isShow:t.isShowStatus},on:{close:function(e){t.isShowStatus=!1}}}),s("ReturnToDefault",{attrs:{isShow:t.isShowReturnDefaultStatus,isUpdate:0===t.currentStatus.isDefaultStatus},on:{close:function(e){t.isShowReturnDefaultStatus=!1}}}),s("HoldCall",{attrs:{isShow:t.isShowHoldCall,isUpdate:0===t.currentStatus.isDefaultStatus},on:{close:function(e){t.isShowHoldCall=!1}}})],1):t._e()},_=[],D=(a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.isStatusList?a("DispatchStatusList",{attrs:{isReload:t.isReload},on:{close:t.close,select:t.goToEdit,updateSchedule:t.goToUpdateScheduleEvent}}):t._e(),t.isStatusList||t.isUpdate?t._e():a("DispatchStatusEdit",{attrs:{isEdit:t.isEdit,status:t.selected},on:{close:t.back,done:t.done}}),t.isUpdate?a("ScheduleEventForm",{attrs:{isShow:t.isUpdate,isEdit:t.isEdit,isFromDispatch:t.isFromDispatch,item:t.item},on:{close:t.goToList}}):t._e()],1)}),y=[],T=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" Change Current Status ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),t.allStatus?a("v-card-text",{staticClass:"py-4"},[a("v-col",{staticClass:"pa-0 text-right",attrs:{cols:"12"}},[a("v-btn",{staticClass:"secondary",on:{click:t.newStatus}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" NEW STATUS TEMPLATE ")],1)],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-data-table",{staticClass:"dispatchStatusTable",attrs:{headers:t.headers,items:t.allStatus,"item-key":"dsid","show-expand":"",expanded:t.expanded,"single-expand":"","items-per-page":5},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.updateSchedule},scopedSlots:t._u([{key:"item.iconURL",fn:function(e){return[a("v-avatar",{staticClass:"border-white avatar",attrs:{size:"32"}},[a("v-img",{attrs:{src:""+t.statusImage(e.item.takingCalls)}})],1)]}},{key:"item.takingCalls",fn:function(e){var a=e.item;return[t._v(" "+t._s(0===a.takingCalls?"Not":"")+" Taking Calls ")]}},{key:"item.action",fn:function(e){var s=e.item;return[s.dsid>20?a("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.editStatus(s)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1):t._e(),s.dsid>20?a("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.deleteStatus(s,!0)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var s=e.headers,i=e.item;return[a("td",{attrs:{colspan:s.length}},[a("v-card-text",[a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("Message: ")]),t._v(t._s(i.message))]),a("p",{staticClass:"mb-0"},[a("span",{staticClass:"font-weight-bold"},[t._v("Callback Message: ")]),t._v(t._s(i.callBackMessage))])])],1)]}}],null,!1,244891768)})],1)],1):t._e(),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Close")])],1)],1)}),I=[],w=(a("d3b7"),a("25f0"),{getUser:function(t){return s["default"].axios.get("/user/".concat(t))},updateUser:function(t){return s["default"].axios.put("/user/confirm/profile/".concat(t.id),t)},uploadProfileImage:function(t,e){var a=new FormData;return a.append("image",e),s["default"].axios.post("/uploads/".concat(t,"/image-upload"),a)},uploadCompanyImage:function(t,e){var a=new FormData;return a.append("image",e),s["default"].axios.post("/uploads/".concat(t,"/company/image-upload"),a)},getAllStatusMessages:function(t){return s["default"].axios.get("/greetingscript/all/".concat(t))},getAllStatusCallbackMessages:function(t){return s["default"].axios.get("/greetingscript/callbacks/".concat(t))},getAllTeamMembers:function(t){return s["default"].axios.get("/team/all/".concat(t))},getAllGroupTextMembers:function(t){return s["default"].axios.get("/grouptext/all/".concat(t))},addGroupTextMember:function(t){return s["default"].axios.post("/grouptext",t)},editGroupTextMember:function(t,e){return s["default"].axios.put("/grouptext/update/".concat(t),e)},deleteGroupTextMember:function(t,e){return s["default"].axios.delete("/grouptext/delete/".concat(t),{data:{groupTextID:e}})},getAllMessages:function(t){return s["default"].axios.get("message/all/".concat(t))},getUnreadMessageCounter:function(t){return s["default"].axios.get("message/unread/".concat(t))},setMarkRead:function(t,e){return s["default"].axios.put("/message/markread/".concat(t),{messageID:e})},setMarkUnRead:function(t,e){return s["default"].axios.put("/message/markunread/".concat(t),{messageID:e})},setFavorite:function(t,e){return s["default"].axios.put("/message/markfavorite/".concat(t),{messageID:e})},setUnFavorite:function(t,e){return s["default"].axios.put("/message/markunfavorite/".concat(t),{messageID:e})},setAppointment:function(t,e){return s["default"].axios.put("/message/setappointment/".concat(t),{messageID:e})},searchMessage:function(t,e){return s["default"].axios.get("/message/search/".concat(t),{params:e})},deleteMessage:function(t,e){return s["default"].axios.put("/message/delete/".concat(t),{messageID:e})},getMessageComments:function(t,e){return s["default"].axios.get("message/comments/bymessage/".concat(t,"/").concat(e))},getContactComments:function(t,e){return s["default"].axios.get("message/comments/bycontacts/".concat(t,"/").concat(e))},addComment:function(t,e){return s["default"].axios.post("message/comments/".concat(t),e)},updateComment:function(t,e){return s["default"].axios.put("message/comments/".concat(t),e)},deleteComment:function(t,e){return s["default"].axios.put("message/comments/delete/".concat(t),{id:e})},getTasks:function(t){return s["default"].axios.get("/tasks/".concat(t))},getTasksByMessage:function(t,e){return s["default"].axios.get("/tasks/".concat(t,"/").concat(e))},getTasksByContact:function(t,e){return s["default"].axios.get("/tasks/bycontact/".concat(t,"/").concat(e))},addTask:function(t){return s["default"].axios.post("/tasks",t)},editTask:function(t,e){return s["default"].axios.put("/tasks/update/".concat(t),e)},deleteTask:function(t,e){return s["default"].axios.delete("/tasks/delete/".concat(t),{data:{tasksID:e}})},setAcceptTask:function(t,e){return s["default"].axios.put("/tasks/accepttask/".concat(t),e)},markTaskRead:function(t,e){return s["default"].axios.put("/tasks/markread/".concat(t),{tasksID:e})},markTaskCompleted:function(t,e){return s["default"].axios.put("/tasks/markcomplete/".concat(t),{tasksID:e})},filterTask:function(t,e){return s["default"].axios.get("/tasks/filter/".concat(t),{params:e})},getSchedules:function(t){return s["default"].axios.get("/schedule/all/".concat(t))},getNextStatus:function(t){return s["default"].axios.get("/status/next/".concat(t))},getCurrentStatus:function(t,e){return s["default"].axios.get("/status/current/".concat(t),{params:{date:e}})},getDefaultStatus:function(t,e){return s["default"].axios.get("/status/getdefault/".concat(t),{params:{date:e}})},getAllStatus:function(t){return s["default"].axios.get("/status/all/".concat(t))},getTodayDispatchScheduleEvent:function(t,e){return s["default"].axios.get("schedule/day/".concat(t),{params:e})},createDispatchStatus:function(t){return s["default"].axios.post("status",t)},updateDispatchStatus:function(t,e){return s["default"].axios.put("status/update/".concat(t),e)},deleteDispatchStatus:function(t,e){return s["default"].axios.delete("status/delete/".concat(t),{data:{dispatchStatusID:e}})},createDispatchScheduleEvent:function(t){return s["default"].axios.post("schedule",t)},updateDispatchScheduleEvent:function(t,e){return s["default"].axios.put("schedule/update/".concat(t),e)},deleteDispatchScheduleEvent:function(t,e){return s["default"].axios.delete("schedule/delete/".concat(t),{data:{dispatchScheduleID:e}})},returnToDefaultScheduleEvent:function(t,e){return s["default"].axios.post("schedule/returntodefault/".concat(t),{dispatchScheduleID:e})},getContacts:function(t){return s["default"].axios.get("/contacts/all/".concat(t))},addContact:function(t){return s["default"].axios.post("/contacts",t)},editContact:function(t,e){return s["default"].axios.put("/contacts/update/".concat(t),e)},deleteContact:function(t,e){return s["default"].axios.delete("contacts/delete/".concat(t),{data:{contactsID:e}})},uploadContactAvatarImage:function(t,e,a){var i=new FormData;return i.append("image",a),s["default"].axios.post("uploads/contacts/".concat(t,"/").concat(e,"/image-upload"),i)},searchContact:function(t,e){return s["default"].axios.get("/contacts/search/".concat(t,"/").concat(e))},getFolders:function(t){return s["default"].axios.get("/message/getfolders/".concat(t))},createFolder:function(t){return s["default"].axios.post("/message/createfolder",t)},deleteFolder:function(t,e){return s["default"].axios.delete("/message/deletefolder/".concat(t),{data:{messageFolderID:e}})},setFoldersOrder:function(t,e){return s["default"].axios.put("/message/updatefolderorder/".concat(t),e)},getAllTags:function(t){return s["default"].axios.get("/message/alltags/".concat(t))},addTag:function(t,e,a){return s["default"].axios.post("/message/tags/".concat(t),{messageID:e,tags:a})},getTags:function(t){return s["default"].axios.get("/message/tags/".concat(t))},deleteTag:function(t){return s["default"].axios.delete("/message/tags",{data:{tagID:t}})},deleteTagsFromShowInList:function(t,e){return s["default"].axios.put("/message/tags/".concat(t),{tagID:e})},moveToFolder:function(t,e){return s["default"].axios.put("/message/movetofolder/".concat(t),e)},sendTicket:function(t){return s["default"].axios.post("/notifications/sendsupport",t)},registerPushNotification:function(t,e){return s["default"].axios.post("/notifications/".concat(t,"/register"),e)},getAllNotificationSetting:function(t){return s["default"].axios.get("/notifications/".concat(t))},updateNotification:function(t,e){return s["default"].axios.put("/notifications/".concat(t,"/updateStatusNotificationSetting"),e)},getFilterChangeLogs:function(t,e,a,i){return s["default"].axios.get("/changelog/view/".concat(t),{params:{pageNum:e,pageSize:a,viewTypes:i}})},getAllChangeLogs:function(t,e,a){return s["default"].axios.get("/changelog/view/".concat(t),{params:{pageNum:e,pageSize:a}})},addUserHashKey:function(t,e,a){return s["default"].axios.post("/formstack",{usersID:t,formstackHashKey:e,formstackHmacKey:a})},deleteUserHashKey:function(t){return s["default"].axios.delete("formstack/delete/".concat(t))}}),$={name:"DispatchStatusList",props:["isShow","isReload"],data:function(){return{loading:!1,headers:[{text:"",value:"data-table-expand"},{text:"Status Name",value:"statusName",class:"text-nowrap"},{text:"Icon",value:"iconURL",sortable:!1,class:"text-nowrap",align:"center"},{text:"",value:"takingCalls",class:"text-nowrap",align:"left"},{text:"",value:"action",sortable:!1,align:"right"}],expanded:[],singleExpand:!1,isDelete:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth","allStatus"])),mounted:function(){this.isReload&&this.reloadData()},methods:{reloadData:function(){var t=this;this.loading=!0,w.getAllStatus(this.auth.userID).then((function(e){200===e.status?t.$store.commit("setAllStatus",e.data):t.$store.commit("setAllStatus",null)})).finally((function(){t.loading=!1}))},statusImage:function(t){var e=this.$statusIconList.filter((function(e){return e.id===t}));return this.$imgLink+e[0].iconURL},close:function(){this.$emit("close")},newStatus:function(){this.$emit("select",null,!1)},editStatus:function(t){this.$emit("select",t,!0)},deleteStatus:function(t,e){var a=this;this.isDelete=e,w.deleteDispatchStatus(this.auth.userID,t.dsid.toString()).then((function(e){200===e.status&&(a.reloadData(),a.$root.$emit("snackbar","success",'Deleted the "'.concat(t.statusName,'"!')),a.isDelete=!1)}))},updateSchedule:function(t){this.isDelete||this.$emit("updateSchedule",t)}}},V=$,M=(a("4e12"),a("d6fe"),a("8212")),j=a("8336"),N=a("b0af"),O=a("99d9"),A=a("62ad"),E=a("8fea"),F=a("ce7e"),L=a("132d"),R=a("adda"),U=a("a797"),P=a("490a"),Y=a("2fa4"),B=a("71d9"),z=a("2a7f"),H=Object(l["a"])(V,T,I,!1,null,"e67cfdb6",null),G=H.exports;u()(H,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDataTable:E["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VOverlay:U["a"],VProgressCircular:P["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" "+t._s(t.isEdit?"Edit":"Create")+" Status Template ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("v-form",{ref:"form"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"position-relative py-0",attrs:{cols:"auto"}},[a("v-avatar",{staticClass:"border-white avatar",attrs:{size:"84"}},[a("v-img",{attrs:{src:t.statusIcon}})],1)],1),a("v-col",[a("v-select",{staticClass:"mw-175p",attrs:{items:t.$statusIconList,"item-text":"name","item-value":"id",label:"Availability"},model:{value:t.takingCalls,callback:function(e){t.takingCalls=e},expression:"takingCalls"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Status Name",placeholder:"Enter status name",rules:t.required},model:{value:t.statusName,callback:function(e){t.statusName=e},expression:"statusName"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.allStatusMessages,"item-text":"message","item-value":"gsid",label:"Message To Callers:"},model:{value:t.statusMessageID,callback:function(e){t.statusMessageID=e},expression:"statusMessageID"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.allStatusCallbackMessages,"item-text":"callBackMessage","item-value":"cbid",label:"When you will return the call:"},model:{value:t.statusCallbackMessageID,callback:function(e){t.statusCallbackMessageID=e},expression:"statusCallbackMessageID"}})],1)],1)],1)],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),t.isEdit?a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.update}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save ")],1):a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.create}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Create ")],1)],1)],1)},W=[],q=(a("d81d"),{name:"DispatchStatusEdit",props:["isEdit","status"],data:function(){return{loading:!1,takingCalls:0,statusName:null,statusMessageID:1,statusCallbackMessageID:1,required:[function(t){return!!t||"This field is required"}]}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","allStatus","allStatusMessages","allStatusCallbackMessages"])),{},{statusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.takingCalls}));return t.$imgLink+e[0].iconURL}}),mounted:function(){var t=this;this.status&&(this.takingCalls=this.status.takingCalls,this.allStatus.map((function(e){return e.statusName===t.status.statusName&&(t.statusName=e.statusName,t.statusMessageID=e.gsid,t.statusCallbackMessageID=e.cbid,t.takingCalls=e.takingCalls),!1})))},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getAllStatus"])),{},{statusImage:function(t){return this.$imgLink+t},reset:function(){this.takingCalls=0,this.statusName=null,this.statusMessageID=1,this.statusCallbackMessageID=1},close:function(){this.reset(),this.$emit("close")},update:function(){var t=this;if(this.$refs.form.validate()){var e={dispatchStatusID:this.status.dsid,statusName:this.statusName||this.status.statusName,greetingScriptID:this.statusMessageID,takingCalls:this.takingCalls,isDefault:!1,callBackScriptID:this.statusCallbackMessageID};this.loading=!0,w.updateDispatchStatus(this.auth.userID,e).then((function(e){200===e.status&&(t.getAllStatus(t.auth.userID),t.$root.$emit("snackbar","success","Updated the Dispatch Status!"))})).finally((function(){t.loading=!1,t.reset(),t.$emit("done")}))}},create:function(){var t=this;if(this.$refs.form.validate()){var e={usersID:this.auth.userID,statusName:this.statusName,greetingScriptID:this.statusMessageID,takingCalls:this.takingCalls,isDefault:!1,createdByUsersID:this.auth.userID,callBackScriptID:this.statusCallbackMessageID};this.loading=!0,w.createDispatchStatus(e).then((function(a){200===a.status&&(t.getAllStatus(t.auth.userID),t.$root.$emit("snackbar","success","Created the ".concat(e.statusName," Dispatch Status!")))})).finally((function(){t.loading=!1,t.reset(),t.$emit("done")}))}}})}),J=q,Q=(a("155b"),a("4bd4")),Z=a("0fd9"),X=a("b974"),tt=a("8654"),et=Object(l["a"])(J,K,W,!1,null,"44d108c3",null),at=et.exports;u()(et,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VForm:Q["a"],VIcon:L["a"],VImg:R["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[t.isEdit?a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-calendar-edit")]):a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-calendar-plus")]),t._v(" "+t._s(t.isEdit?"Edit":"Add")+" Status ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),t.event?a("v-card-text",{staticClass:"py-4"},[a("v-row",[t.isEdit||t.isFromDispatch?t._e():a("v-col",{staticClass:"pa-0 text-right",attrs:{cols:"12"}},[a("v-btn",{staticClass:"secondary",on:{click:t.newStatus}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" NEW STATUS TEMPLATE ")],1)],1),a("v-col",[a("v-select",{staticClass:"pa-0",attrs:{items:t.allStatus,"item-text":"statusName","item-value":"dsid",label:"Status","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.item;return[a("v-avatar",{staticClass:"mr-2",attrs:{size:"26"}},[a("v-img",{attrs:{src:t.statusImage(s.takingCalls)}})],1),t._v(" "+t._s(s.statusName)+" ")]}},{key:"item",fn:function(e){var s=e.item;return[a("v-avatar",{staticClass:"mr-2",attrs:{size:"26"}},[a("v-img",{attrs:{src:t.statusImage(s.takingCalls)}})],1),t._v(" "+t._s(s.statusName)+" ")]}}],null,!1,1543705948),model:{value:t.event.dispatchStatusID,callback:function(e){t.$set(t.event,"dispatchStatusID",e)},expression:"event.dispatchStatusID"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.allStatusMessages,"item-text":"message","item-value":"gsid",label:"Message To Callers:"},model:{value:t.messageID,callback:function(e){t.messageID=e},expression:"messageID"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.allStatusCallbackMessages,"item-text":"callBackMessage","item-value":"cbid",label:"When you will return the call:"},model:{value:t.callBackMessageID,callback:function(e){t.callBackMessageID=e},expression:"callBackMessageID"}})],1),a("v-col",{staticClass:" align-center align-self-center",attrs:{cols:"12"}},[a("v-row",[t.isFromDispatch?a("v-col",{staticClass:"py-0 text-center",attrs:{cols:"12",sm:"12",md:"6","align-self":"center"}},[a("h4",{staticClass:"mb-0"},[t._v("Start: Now")])]):[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("label",[t._v("Start Date")]),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1},model:{value:t.event.fromDate,callback:function(e){t.$set(t.event,"fromDate",e)},expression:"event.fromDate"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("label",[t._v("Start Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.event.fromTime,callback:function(e){t.$set(t.event,"fromTime",e)},expression:"event.fromTime"}})],1)],a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("label",[t._v("End Date")]),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1},model:{value:t.event.toDate,callback:function(e){t.$set(t.event,"toDate",e)},expression:"event.toDate"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"3"}},[a("label",[t._v("End Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.event.toTime,callback:function(e){t.$set(t.event,"toTime",e)},expression:"event.toTime"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.isValidError?a("p",{staticClass:"red--text text-center mb-0 mt-2"},[t._v("The start DateTime must be before the end DateTime.")]):t._e()]),5===t.repeat?a("v-col",{staticClass:"py-0"},[a("CustomRepeat",{directives:[{name:"show",rawName:"v-show",value:!t.isFromDispatch,expression:"!isFromDispatch"}],attrs:{event:t.event},on:{changed:function(e){t.customRRuleTemp=e}}})],1):t._e()],2)],1),t.isFromDispatch?t._e():a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.repeatList,"item-text":"name","item-value":"id",label:"Repeat","hide-details":"",disabled:t.isFromDispatch},model:{value:t.repeat,callback:function(e){t.repeat=e},expression:"repeat"}})],1)],1)],1):t._e(),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),t.isEdit?a("v-btn",{attrs:{color:"error",loading:t.isDeleteLoading,disabled:t.isDeleteLoading},on:{click:function(e){return t.deleteEvent(t.event.id)}}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-delete")]),t._v(" Delete ")],1):t._e(),t.isEdit?a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.isDisableUpdate},on:{click:t.update}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1):a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.isDisableCreate},on:{click:t.create}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" "+t._s(t.isFromDispatch?"Update":"Create")+" ")],1)],1)],1)},it=[],nt=(a("38cf"),[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]),ot="YYYY-MM-DD",ct="HH:mm:ss",lt="hh:mm A",rt="YYYY-MM-DD HH:mm:ss",ut="YYYY-MM-DD hh:mm:ss A",dt={start:"00:00",step:"00:30",end:"23:30",format:"hh:mm A"},mt={methods:{formatTime:function(t){return this.$moment(t,["hh:mm"]).format("hh:mm A")}}},ht=mt,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"custom-rrule"},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("h6",{staticClass:"primaryText text-left"},[t._v("Repeat on:")]),a("v-item-group",{attrs:{multiple:""},on:{change:t.updateRRuleCode},model:{value:t.configs.weeks,callback:function(e){t.$set(t.configs,"weeks",e)},expression:"configs.weeks"}},[a("v-item",{staticClass:"mr-2",attrs:{value:"SU"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("SUN")])]}}])}),a("v-item",{staticClass:"mr-2",attrs:{value:"MO"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Mon")])]}}])}),a("v-item",{staticClass:"mr-2",attrs:{value:"TU"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Tue")])]}}])}),a("v-item",{staticClass:"mr-2",attrs:{value:"WE"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Wed")])]}}])}),a("v-item",{staticClass:"mr-2",attrs:{value:"TH"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Thu")])]}}])}),a("v-item",{staticClass:"mr-2",attrs:{value:"FR"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Fri")])]}}])}),a("v-item",{attrs:{value:"SA"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.active,i=e.toggle;return[a("v-btn",{attrs:{small:"","active-class":"secondary","input-value":s,fab:""},on:{click:i}},[t._v("Sat")])]}}])})],1)],1),a("v-col",{staticClass:"text-center pb-0",attrs:{cols:"12"}},[a("h6",{staticClass:"primaryText text-left"},[t._v("Ends:")]),a("v-row",[a("v-col",{staticClass:"py-0 mr-6",attrs:{cols:"auto"}},[a("v-radio-group",{staticClass:"mt-0",attrs:{column:"","hide-details":""},on:{change:t.updateRRuleCode},model:{value:t.ends,callback:function(e){t.ends=e},expression:"ends"}},[a("v-radio",{attrs:{label:"Never"}}),a("v-radio",{attrs:{label:"On"}}),a("v-radio",{attrs:{label:"After"}})],1)],1),a("v-col",{staticClass:"px-2"},[1===t.ends?a("v-row",[a("v-col",{staticClass:"py-0 text-left",attrs:{cols:"6"}},[a("label",[t._v("Date")]),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1},model:{value:t.configs.now.date,callback:function(e){t.$set(t.configs.now,"date",e)},expression:"configs.now.date"}})],1),a("v-col",{staticClass:"py-0 text-left",attrs:{cols:"6"}},[a("label",[t._v("Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.configs.now.time,callback:function(e){t.$set(t.configs.now,"time",e)},expression:"configs.now.time"}})],1)],1):t._e(),2===t.ends?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{suffix:"occurrences","hide-details":"",type:"number"},model:{value:t.configs.after,callback:function(e){t.$set(t.configs,"after",e)},expression:"configs.after"}})],1)],1):t._e()],1)],1)],1)],1)},ft=[],pt={name:"CustomRepeat",props:["event"],mixins:[ht],data:function(t){return{timePickerOptions:dt,configs:{weeks:[t.$moment().format("dd").toUpperCase()],now:{date:t.$moment("".concat(t.event.fromDate," ").concat(t.event.fromTime)).add(1,"day").set("hour",0).set("minute",0).format(ot),time:t.$moment("".concat(t.event.fromDate," ").concat(t.event.fromTime)).add(1,"day").set("hour",0).set("minute",0).format(ct)},after:1},ends:0}},watch:{configs:{handler:function(){this.configs.weeks.length<1&&(this.configs.weeks=[this.$moment().format("dd").toUpperCase()]),this.updateRRuleCode()},deep:!0},event:{handler:function(){this.setConfigs()},deep:!0}},mounted:function(){this.setConfigs()},methods:{setConfigs:function(){if(this.event.data&&this.event.data.repeatCode){var t=JSON.parse(this.event.data.repeatCode);this.configs={weeks:t.BYDAY||[this.$moment().format("dd").toUpperCase()],now:{date:t.UNTIL?this.$moment(t.UNTIL).format(ot):this.$moment("".concat(this.event.fromDate," ").concat(this.event.fromTime)).add(1,"day").set("hour",0).set("minute",0).format(ot),time:t.UNTIL?this.$moment(t.UNTIL).format(ct):this.$moment("".concat(this.event.fromDate," ").concat(this.event.fromTime)).add(1,"day").set("hour",0).set("minute",0).format(ct)},after:t.COUNT||1},this.ends=t.UNTIL?1:t.COUNT?2:0}else this.updateRRuleCode()},updateRRuleCode:function(){var t={FREQ:"WEEKLY",BYDAY:this.configs.weeks};1===this.ends?t.until=this.$moment("".concat(this.configs.now.date," ").concat(this.configs.now.time),ut).utc().format():2===this.ends&&(t.count=this.configs.after),this.$emit("changed",t)}}},gt=pt,bt=(a("ea3b"),a("d903")),Ct=a("604c"),St=a("67b6"),kt=a("43a6"),xt=Object(l["a"])(gt,vt,ft,!1,null,null,null),_t=xt.exports;u()(xt,{VBtn:j["a"],VCol:A["a"],VItem:bt["a"],VItemGroup:Ct["b"],VRadio:St["a"],VRadioGroup:kt["a"],VRow:Z["a"],VTextField:tt["a"]});var Dt={name:"ScheduleEventForm",components:{CustomRepeat:_t},props:["isShow","isFromDispatch","isEdit","item"],mixins:[ht],data:function(t){return{loading:!1,isDeleteLoading:!1,timePickerOptions:dt,repeat:0,event:null,selectedStatus:null,repeatList:[{id:0,name:"Does not repeat"},{id:1,name:"Daily"},{id:2,name:"Weekly on ".concat(t.$moment().format("dddd"))},{id:3,name:"Monthly on the"},{id:4,name:"Every weekday (Monday - Friday)"},{id:5,name:"Custom"}],customRRuleTemp:null,isValidError:!1,isDisableUpdate:!1,isDisableCreate:!1,messageID:null,callBackMessageID:null,momentFormat:{stringify:function(e){return e?t.$moment(e).format("LL"):""}}}},computed:Object(b["a"])({},Object(C["c"])(["auth","allStatus","allStatusMessages","allStatusCallbackMessages"])),watch:{event:{handler:function(t){this.isValidError=this.$moment("".concat(t.fromDate," ").concat(t.fromTime)).unix()>this.$moment("".concat(t.toDate," ").concat(t.toTime)).unix(),this.isDisableCreate=this.isValidError,this.isDisableUpdate=this.isValidError},deep:!0},"event.dispatchStatusID":function(t){this.setStatusMessages(t)},isShow:function(t){t&&this.setEvent()}},mounted:function(){var t=this.$moment().set("date",1).day()+1,e=this.$moment().date(),a=["first","second","third","fourth","fifth","sixth"];this.repeatList[3].name="Monthly on the ".concat(a[parseInt((t+e)/7,10)]," ").concat(this.$moment().format("dddd")),this.setEvent()},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getSchedules","getCurrentStatus","getAllStatus"])),{},{setEvent:function(){this.event=Object(b["a"])({},this.item),this.item.data&&this.item.data.repeatCode?this.repeat=this.setRepeat(this.item.data):this.repeat=0},setStatusMessages:function(t){var e=this.allStatus.filter((function(e){return e.dsid===t}));this.messageID=e[0].gsid,this.callBackMessageID=e[0].cbid},statusImage:function(t){var e=this.$statusIconList.filter((function(e){return e.id===t}));return this.$imgLink+e[0].iconURL},close:function(){this.$emit("close")},newStatus:function(){this.$emit("createStatus")},create:function(){var t=this;this.loading=!0,this.isDisableCreate=!0;var e=this.allStatus.filter((function(e){return e.dsid===t.event.dispatchStatusID}));if(e[0].cbid===this.callBackMessageID&&e[0].gsid===this.messageID)this.createDispatchScheduleEvent(this.event.dispatchStatusID);else if(this.event.dispatchStatusID>20){var a={dispatchStatusID:e[0].dsid,statusName:e[0].statusName,greetingScriptID:this.messageID,takingCalls:e[0].takingCalls,isDefault:!1,callBackScriptID:this.callBackMessageID};w.updateDispatchStatus(this.auth.userID,a).then((function(e){200===e.status&&t.$root.$emit("snackbar","success","Updated the Dispatch Status!")})).finally((function(){t.createDispatchScheduleEvent(e[0].dsid)}))}else{var s="",i={usersID:this.auth.userID,statusName:e[0].statusName,greetingScriptID:this.messageID,takingCalls:e[0].takingCalls,isDefault:!1,createdByUsersID:this.auth.userID,callBackScriptID:this.callBackMessageID};w.createDispatchStatus(i).then((function(e){200===e.status&&(s=e.data.insertId,t.$root.$emit("snackbar","success","Created the ".concat(i.statusName," Dispatch Status!")))})).finally((function(){t.createDispatchScheduleEvent(s)}))}},update:function(){var t=this;if(this.loading=!0,this.isDisableUpdate=!0,this.isFromDispatch&&this.event.dispatchStatusID>20||this.event.data.callBackScriptID===this.callBackMessageID&&this.event.data.gsid===this.messageID)this.updateDispatchScheduleEvent(this.event.dispatchStatusID);else if(this.event.data.dispatchStatusID>20){var e={dispatchStatusID:this.event.data.dispatchStatusID,statusName:this.event.data.statusName,greetingScriptID:this.messageID,takingCalls:this.event.data.takingCalls,isDefault:!1,callBackScriptID:this.callBackMessageID};w.updateDispatchStatus(this.auth.userID,e).then((function(e){200===e.status&&t.$root.$emit("snackbar","success","Updated the Dispatch Status!")})).finally((function(){t.updateDispatchScheduleEvent(t.event.dispatchStatusID)}))}else{var a={usersID:this.auth.userID,statusName:this.event.data.statusName,greetingScriptID:this.messageID,takingCalls:this.event.data.takingCalls,isDefault:!1,createdByUsersID:this.auth.userID,callBackScriptID:this.callBackMessageID},s="";w.createDispatchStatus(a).then((function(e){200===e.status&&(s=e.data.insertId,t.$root.$emit("snackbar","success","Created the ".concat(a.statusName," Dispatch Status!")))})).finally((function(){t.updateDispatchScheduleEvent(s)}))}},createDispatchScheduleEvent:function(t){var e=this,a={usersID:this.auth.userID,dispatchStatusID:t,callBackScriptID:this.callBackMessageID,startDate:this.$moment(this.$moment("".concat(this.event.fromDate," ").concat(this.event.fromTime))).toISOString(),endDate:this.$moment(this.$moment("".concat(this.event.toDate," ").concat(this.event.toTime))).utc().toISOString(),repeatCode:this.getRepeatCode(this.repeat),isCustomRepeat:5===this.repeat?1:0};this.isFromDispatch&&(a.repeatCode=null),w.createDispatchScheduleEvent(a).then((function(t){200===t.status&&(e.getAllStatus(e.auth.userID),e.getCurrentStatus(e.auth.userID),e.getSchedules(e.auth.userID),e.close(),e.$root.$emit("snackbar","success","Created New Schedule!"))})).finally((function(){e.loading=!1,e.isDisableCreate=!1}))},updateDispatchScheduleEvent:function(t){var e=this,a={dispatchScheduleID:this.event.id,dispatchStatusID:t,callBackScriptID:this.callBackMessageID,startDate:this.$moment(this.$moment("".concat(this.event.fromDate," ").concat(this.event.fromTime))).toISOString(),endDate:this.$moment(this.$moment("".concat(this.event.toDate," ").concat(this.event.toTime))).toISOString(),repeatCode:this.getRepeatCode(this.repeat),isCustomRepeat:5===this.repeat?1:0};w.updateDispatchScheduleEvent(this.auth.userID,a).then((function(t){200===t.status&&(e.getCurrentStatus(e.auth.userID),e.getSchedules(e.auth.userID),e.getAllStatus(e.auth.userID),e.close(),e.$root.$emit("snackbar","success","Updated Schedule!"))})).finally((function(){e.loading=!1,e.isDisableUpdate=!1}))},deleteEvent:function(t){var e=this;this.isDeleteLoading=!0,w.deleteDispatchScheduleEvent(this.auth.userID,t).then((function(t){200===t.status&&(e.getCurrentStatus(e.auth.userID),e.getSchedules(e.auth.userID),e.close(),e.$root.$emit("snackbar","success","Deleted Schedule!"))})).finally((function(){e.isDeleteLoading=!1}))},getRepeatCode:function(t){var e=null;switch(t){case 1:e=JSON.stringify({FREQ:"DAILY"});break;case 2:e=JSON.stringify({FREQ:"WEEKLY",BYDAY:[this.$moment().format("dd").toUpperCase()]});break;case 3:e=JSON.stringify({FREQ:"MONTHLY",BYSETPOS:parseInt((this.$moment().set("date",1).day()+1+this.$moment().date())/7,10)+1,BYDAY:[this.$moment().format("dd").toUpperCase()]});break;case 4:e=JSON.stringify({FREQ:"WEEKLY",BYDAY:["MO","TU","WE","TH","FR"]});break;case 5:e=JSON.stringify({FREQ:this.customRRuleTemp.FREQ,BYDAY:this.customRRuleTemp.BYDAY,UNTIL:this.customRRuleTemp.until,COUNT:this.customRRuleTemp.count});break;default:break}return e},setRepeat:function(t){var e=JSON.parse(t.repeatCode),a=0,s=JSON.stringify({FREQ:"MONTHLY",BYSETPOS:parseInt((this.$moment().set("date",1).day()+1+this.$moment().date())/7,10)+1,BYDAY:[this.$moment().format("dd").toUpperCase()]}),i=JSON.stringify({FREQ:"WEEKLY",BYDAY:[this.$moment().format("dd").toUpperCase()]});switch(e.FREQ){case"DAILY":a=1;break;case"WEEKLY":a=1===t.isCustomRepeat?5:i===t.repeatCode?2:4===e.BYDAY.length?4:5;break;case"MONTHLY":a=s===t.repeatCode?3:5;break;default:break}return a}})},yt=Dt,Tt=Object(l["a"])(yt,st,it,!1,null,"6c8cac3a",null),It=Tt.exports;u()(Tt,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var wt={name:"DispatchStatus",components:{ScheduleEventForm:It,DispatchStatusEdit:at,DispatchStatusList:G},props:["isShow"],data:function(){return{isStatusList:!0,isEdit:!1,selected:null,isReload:!0,isUpdate:!1,isFromDispatch:!1,item:null}},computed:Object(b["a"])({},Object(C["c"])(["auth","currentStatus"])),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getCurrentStatus"])),{},{close:function(){this.isStatusList=!0,this.isEdit=!1,this.isUpdate=!1,this.$emit("close")},back:function(){this.isStatusList=!0,this.isReload=!1},goToList:function(){this.isStatusList=!0,this.isEdit=!1,this.isUpdate=!1,this.getCurrentStatus(this.auth.userID)},goToEdit:function(t,e){this.isStatusList=!1,this.isEdit=e,this.selected=t},goToUpdateScheduleEvent:function(t){if(this.isStatusList=!1,this.isFromDispatch=!0,this.isUpdate=!0,this.isEdit=1!==this.currentStatus.isDefaultStatus||null===this.currentStatus.repeatCode,this.isEdit)this.item={data:this.currentStatus,id:this.currentStatus.id,dispatchStatusID:t.dsid,fromDate:this.$moment(this.currentStatus.startDate).format(ot),fromTime:this.$moment(this.currentStatus.startDate).format(ct),toDate:this.$moment(this.currentStatus.endDate).format(ot),toTime:this.$moment(this.currentStatus.endDate).format(ct)};else{var e=this.$moment().format(ot),a=this.$moment(this.currentStatus.startDate),s=this.$moment(this.currentStatus.endDate),i=this.$moment.duration(s.diff(a)).asMinutes(),n=this.$moment(a).format(ct),o=this.$moment(this.$moment("".concat(e," ").concat(n))).add(i,"minutes");this.item={data:this.currentStatus,id:this.currentStatus.id,dispatchStatusID:t.dsid,fromDate:this.$moment("".concat(e," ").concat(n),rt).format(ot),fromTime:n,toDate:this.$moment(o).format(ot),toTime:this.$moment(o).format(ct)}}},done:function(){this.isStatusList=!0,this.isReload=!0}})},$t=wt,Vt=a("169a"),Mt=Object(l["a"])($t,D,y,!1,null,"f30253ec",null),jt=Mt.exports;u()(Mt,{VDialog:Vt["a"]});var Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"620"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.defaultStatus?a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" Confirm Return To Default Status ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"pb-0 pt-5"},[a("h4",{staticClass:"red--text text-center mb-6"},[t._v(" "+t._s(t.isUpdate?"Update my status to the default status":"Your status is already the default status"))]),a("v-row",[a("v-col",{staticClass:"pr-1 py-0"},[a("h6",{staticClass:"mb-2 primaryText"},[t._v("Current Status")]),a("v-divider",{staticClass:"ma-0"})],1),a("v-col",{staticClass:"pa-0 h-25p",attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"white",size:"48"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"pl-1 py-0"},[a("h6",{staticClass:"mb-2 primaryText"},[t._v("Default Status")]),a("v-divider",{staticClass:"ma-0"})],1)],1),a("v-row",[a("v-col",{staticClass:"pr-1 py-0"},[a("v-img",{staticClass:"d-sm-flex d-md-none",attrs:{width:"56",height:"56",contain:"",src:t.statusIcon}}),a("v-list",{staticClass:"transparent pa-0"},[a("v-list-item",{staticClass:"d-md-flex d-none"},[a("v-list-item-avatar",{attrs:{width:"48",height:"48"}},[a("v-img",{attrs:{src:t.statusIcon}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.currentStatus.statusName))])]),a("v-list-item-subtitle",{staticClass:"text-wrap"},[a("h6",{staticClass:"mb-0 mt-1"},[0===t.currentStatus.takingCalls?a("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):a("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===t.currentStatus.takingCalls?"Not":"")+" taking Calls ")],1)])],1)],1)],1),a("p",{staticClass:"mb-0 px-4"},[t._v(t._s(t.currentStatus.message))]),a("p",{staticClass:"px-4"},[t._v(t._s(t.currentStatus.callBackMessage))])],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"primary",size:"48"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"pl-1 py-0"},[a("v-img",{staticClass:"d-sm-flex d-md-none",attrs:{width:"56",height:"56",contain:"",src:t.defaultStatusIcon}}),a("v-list",{staticClass:"transparent pa-0"},[a("v-list-item",{staticClass:"d-md-flex d-none"},[a("v-list-item-avatar",{attrs:{width:"48",height:"48"}},[a("v-img",{attrs:{src:t.defaultStatusIcon}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.defaultStatus.statusName))])]),a("v-list-item-subtitle",{staticClass:"text-wrap"},[a("h6",{staticClass:"mb-0 mt-1"},[0===t.defaultStatus.takingCalls?a("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):a("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===t.defaultStatus.takingCalls?"Not":"")+" taking Calls ")],1)])],1)],1)],1),a("p",{staticClass:"mb-0 px-4"},[t._v(t._s(t.defaultStatus.message))]),a("p",{staticClass:"px-4"},[t._v(t._s(t.defaultStatus.callBackMessage))])],1)],1)],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),t.isUpdate?a("v-btn",{on:{click:t.close}},[t._v("Cancel")]):t._e(),t.isUpdate?a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.update}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1):a("v-btn",{attrs:{color:"secondary"},on:{click:t.close}},[t._v("OK")])],1)],1):t._e()],1)},Ot=[],At={name:"ReturnToDefault",props:["isShow","isUpdate"],data:function(){return{loading:!1,disable:!0}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","currentStatus","defaultStatus"])),{},{statusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.currentStatus.takingCalls}));return t.$imgLink+e[0].iconURL},defaultStatusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.defaultStatus.takingCalls}));return t.$imgLink+e[0].iconURL}}),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getCurrentStatus","getSchedules"])),{},{update:function(){var t=this;this.loading=!0,w.returnToDefaultScheduleEvent(this.auth.userID,this.currentStatus.id).then((function(e){200===e.status&&(t.getCurrentStatus(t.auth.userID),t.getSchedules(t.auth.userID),t.close(),t.$root.$emit("snackbar","success","Updated my status to the default status!"))})).finally((function(){t.loading=!1}))},close:function(){this.$emit("close")}})},Et=At,Ft=a("8860"),Lt=a("da13"),Rt=a("8270"),Ut=a("5d23"),Pt=Object(l["a"])(Et,Nt,Ot,!1,null,"20510a05",null),Yt=Pt.exports;u()(Pt,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VRow:Z["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"620"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" Confirm Status Change ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"pb-0 pt-5"},[a("h4",{staticClass:"red--text text-center mb-6"},[t._v("Change My Status to Hold My Calls")]),a("v-row",[a("v-col",{staticClass:"pr-1 py-0"},[a("h6",{staticClass:"mb-2 primaryText"},[t._v("Current Status")]),a("v-divider",{staticClass:"ma-0"})],1),a("v-col",{staticClass:"pa-0 h-25p",attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"white",size:"48"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"pl-1 py-0"},[a("h6",{staticClass:"mb-2 primaryText"},[t._v("Change Status To")]),a("v-divider",{staticClass:"ma-0"})],1)],1),a("v-row",[a("v-col",{staticClass:"pr-1 py-0"},[a("v-img",{staticClass:"d-sm-flex d-md-none",attrs:{width:"56",height:"56",contain:"",src:t.statusIcon}}),a("v-list",{staticClass:"transparent pa-0"},[a("v-list-item",{staticClass:"d-md-flex d-none"},[a("v-list-item-avatar",{attrs:{width:"48",height:"48"}},[a("v-img",{attrs:{src:t.statusIcon}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.currentStatus.statusName))])]),a("v-list-item-subtitle",{staticClass:"text-wrap"},[a("h6",{staticClass:"mb-0 mt-1"},[0===t.currentStatus.takingCalls?a("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):a("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===t.currentStatus.takingCalls?"Not":"")+" taking Calls ")],1)])],1)],1)],1),a("p",{staticClass:"mb-0 px-4"},[t._v(t._s(t.currentStatus.message))]),a("p",{staticClass:"px-4"},[t._v(t._s(t.currentStatus.callBackMessage))])],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"primary",size:"48"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"pr-1 py-0"},[a("v-img",{staticClass:"d-sm-flex d-md-none",attrs:{width:"56",height:"56",contain:"",src:t.holdMyCallsStatusIcon}}),a("v-list",{staticClass:"transparent pa-0"},[a("v-list-item",{staticClass:"d-md-flex d-none"},[a("v-list-item-avatar",{attrs:{width:"48",height:"48"}},[a("v-img",{attrs:{src:t.holdMyCallsStatusIcon}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap"},[a("h4",{staticClass:"mb-0"},[t._v(t._s(t.holdMyCallsInfo.statusName))])]),a("v-list-item-subtitle",{staticClass:"text-wrap"},[a("h6",{staticClass:"mb-0 mt-1"},[0===t.holdMyCallsInfo.takingCalls?a("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):a("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===t.holdMyCallsInfo.takingCalls?"Not":"")+" taking Calls ")],1)])],1)],1)],1),a("p",{staticClass:"mb-0 px-4"},[t._v(t._s(t.holdMyCallsInfo.message))]),a("p",{staticClass:"px-4"},[t._v(t._s(t.holdMyCallsInfo.callBackMessage))]),a("v-select",{staticClass:"pa-4",attrs:{items:t.holdTimeList,label:"Hold My Calls Until",dense:"","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.item;return[t._v(t._s(t.getHoldTimeLabel(a)))]}},{key:"item",fn:function(e){var a=e.item;return[t._v(t._s(t.getHoldTimeLabel(a)))]}}]),model:{value:t.holdTime,callback:function(e){t.holdTime=e},expression:"holdTime"}})],1)],1)],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.update}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1)],1)],1)],1)},zt=[],Ht={name:"HoldCall",props:["isShow","isUpdate"],data:function(){return{loading:!1,disable:!0,holdTime:30,holdTimeList:[30,60,90,120,150,180]}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","currentStatus","allStatus"])),{},{statusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.currentStatus.takingCalls}));return t.$imgLink+e[0].iconURL},holdMyCallsStatusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.holdMyCallsInfo.takingCalls}));return t.$imgLink+e[0].iconURL},holdMyCallsInfo:function(t){return t.allStatus.filter((function(t){return 10===t.dsid}))[0]}}),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getCurrentStatus","getSchedules"])),{},{getHoldTimeLabel:function(t){if(this.isUpdate)return this.$moment(this.currentStatus.endDate).add(t,"minute").format(lt);var e=this.$moment().format("mm")>30?30:0,a=this.$moment().set("minute",e).set("second",0);return this.$moment(a).add(t,"minute").format(lt)},update:function(){var t=this;if(this.loading=!0,this.isUpdate){var e={dispatchScheduleID:this.currentStatus.id,dispatchStatusID:this.holdMyCallsInfo.dsid,callBackScriptID:this.holdMyCallsInfo.callBackScriptID,startDate:this.currentStatus.startDate,endDate:this.$moment(this.currentStatus.endDate).add(this.holdTime,"minute").toISOString(),repeatCode:this.currentStatus.repeatCode,isCustomRepeat:this.currentStatus.isCustomRepeat};w.updateDispatchScheduleEvent(this.auth.userID,e).then((function(e){200===e.status&&(t.getCurrentStatus(t.auth.userID),t.getSchedules(t.auth.userID),t.close(),t.$root.$emit("snackbar","success","Updated Hold my call!"))})).finally((function(){t.loading=!1}))}else{var a=this.$moment().format("mm")>30?30:0,s=this.$moment().set("minute",a).set("second",0).toISOString(),i={usersID:this.auth.userID,dispatchStatusID:this.holdMyCallsInfo.dsid,callBackScriptID:this.holdMyCallsInfo.callBackScriptID,startDate:s,endDate:this.$moment(s).add(this.holdTime,"minute").toISOString(),repeatCode:null,isCustomRepeat:0};w.createDispatchScheduleEvent(i).then((function(e){200===e.status&&(t.getCurrentStatus(t.auth.userID),t.getSchedules(t.auth.userID),t.close(),t.$root.$emit("snackbar","success","Updated Hold my call!"))})).finally((function(){t.loading=!1}))}},close:function(){this.holdTime=30,this.$emit("close")}})},Gt=Ht,Kt=Object(l["a"])(Gt,Bt,zt,!1,null,"1731d2ce",null),Wt=Kt.exports;u()(Kt,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var qt={name:"SubHeader",components:{HoldCall:Wt,ReturnToDefault:Yt,DispatchStatus:jt},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","currentStatus","defaultStatus","schedules","nextStatus","allStatus"])),{},{statusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.currentStatus.takingCalls}));return t.$imgLink+e[0].iconURL}}),data:function(){return{isShowStatus:!1,isShowReturnDefaultStatus:!1,isShowHoldCall:!1,nextChannel:null,duration:{days:0,hours:0,minutes:0,seconds:0}}},mounted:function(){this.startCountDown()},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getCurrentStatus"])),{},{getNextChannel:function(){this.currentStatus?this.nextChannel=this.currentStatus.endDate:this.nextChannel=null},startCountDown:function(){var t=this,e=1e3;setInterval((function(){t.getNextChannel();var a=t.$moment(t.nextChannel).unix(),s=t.$moment().unix(),i=a-s,n=t.$moment.duration(1e3*i,"milliseconds");n=t.$moment.duration(n-e,"milliseconds"),i>0&&(t.duration={days:n.days(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds()})}),e)}})},Jt=qt,Qt=(a("32c8"),Object(l["a"])(Jt,x,_,!1,null,"eaaa9ee8",null)),Zt=Qt.exports;u()(Qt,{VCard:N["a"],VCol:A["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VRow:Z["a"]});var Xt={name:"HeaderContent",components:{SubHeader:Zt},data:function(t){return{logo:"".concat(t.$imgLink,"Answering-Legal_WHT.png"),smallLogo:"".concat(t.$imgLink,"ALIcon.png")}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","user"])),{},{userAvatar:function(t){return t.$imgLink+(t.user.usersImageURL||t.$avatar)}}),methods:{goToProfile:function(){"profile"!==this.$route.name&&this.$router.push({name:"profile"})},goToChangeLog:function(){"logs"!==this.$route.name&&this.$router.push({name:"logs"})},showNav:function(){this.$root.$emit("openNav")}}},te=Xt,ee=(a("7265"),a("40dc")),ae=a("5bc1"),se=Object(l["a"])(te,S,k,!1,null,"229afdd0",null),ie=se.exports;u()(se,{VAppBar:ee["a"],VAppBarNavIcon:ae["a"],VAvatar:M["a"],VBtn:j["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VSpacer:Y["a"],VToolbarTitle:z["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{dark:"",color:"primary",clipped:"",app:"",width:"200"},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-btn",{attrs:{color:"#848484",block:""},on:{click:t.logout}},[t._v("Logout")])],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[a("v-divider",{staticClass:"d-sm-none d-block"}),t.user?a("v-list-item",{staticClass:"d-sm-none d-flex",attrs:{"two-line":"",to:"profile"}},[a("v-list-item-avatar",[a("v-avatar",{staticClass:"nav_avatar",attrs:{size:"40"}},[a("v-img",{attrs:{src:t.userAvatar}})],1)],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),a("v-list-item-subtitle",[t._v(t._s(t.user.companyName))])],1)],1):t._e(),a("v-divider"),a("v-list-item",{staticClass:"d-lg-none d-flex",on:{click:function(e){t.drawer=!t.drawer}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-arrow-left-bold")])],1),a("v-list-item-content",{staticClass:"primaryText"},[a("v-list-item-title",[t._v("Close")])],1)],1),t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.to}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",["MESSAGES"===e.title&&t.count>0?a("v-badge",{attrs:{color:"red",content:t.count,inline:"",overlap:""}},[a("v-list-item-title",[t._v(t._s(e.title))])],1):a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1)},oe=[],ce={name:"Navigation",data:function(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);return{drawer:t>1264,value:null,items:[{title:"HOME",icon:"mdi-view-dashboard",to:"/"},{title:"MESSAGES",icon:"mdi-email",to:"/messages"},{title:"TASKS",icon:"mdi-notebook",to:"/tasks"},{title:"STATUS MANAGER",icon:"mdi-calendar",to:"/schedules"},{title:"CONTACTS",icon:"mdi-account",to:"/contacts"},{title:"SUPPORT",icon:"mdi-help-circle",to:"/support"},{title:"ACTIVITY FEED",icon:"mdi-chart-line",to:"/logs"},{title:"SETTINGS",icon:"mdi-cogs",to:"/settings"}],count:0}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","user","messages"])),{},{userAvatar:function(t){return t.$imgLink+(t.user.usersImageURL||t.$avatar)}}),watch:{messages:{handler:function(){this.getUnreadMessageCounter()},deep:!0}},mounted:function(){var t=this;this.$root.$on("openNav",(function(){t.drawer=!t.drawer})),this.$root.$on("getCounter",(function(){t.getUnreadMessageCounter()}))},methods:{getUnreadMessageCounter:function(){var t=this;w.getUnreadMessageCounter(this.auth.userID).then((function(e){200===e.status&&(t.count=e.data[0]["COUNT(*)"],t.$store.commit("setUnreadMessageCounter",e.data[0]["COUNT(*)"]))}))},logout:function(){this.$auth.logout()}}},le=ce,re=(a("a160"),a("4ca6")),ue=a("34c3"),de=a("f774"),me=Object(l["a"])(le,ne,oe,!1,null,"3f01e480",null),he=me.exports;u()(me,{VAvatar:M["a"],VBadge:re["a"],VBtn:j["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemIcon:ue["a"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VNavigationDrawer:de["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticClass:"footer",attrs:{app:"",color:"#848484"}},[a("span",{staticClass:"px-4"},[t._v("© "+t._s((new Date).getFullYear())+" Answering Legal")]),a("div",{staticClass:"text-center footer-contact"},[a("a",{attrs:{href:"#"}},[t._v("Terms")]),a("a",{attrs:{href:"#"}},[t._v("About Us")]),a("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])])])},fe=[],pe={name:"FooterContent"},ge=pe,be=(a("20db"),a("553a")),Ce=Object(l["a"])(ge,ve,fe,!1,null,"0e0d4230",null),Se=Ce.exports;u()(Ce,{VFooter:be["a"]});var ke={name:"Home",components:{FooterContent:Se,Navigation:he,HeaderContent:ie},data:function(){return{isMainTutorialShow:!1,isMessageTutorialShow:!1,model:0,step:1,mainTutorials:["mainTutorial-1.jpg"]}},computed:Object(b["a"])({},Object(C["c"])(["auth","isMainTutorial","isMessageTutorial"])),created:function(){var t=this;s["default"].axios.defaults.headers.common.Authorization="Bearer ".concat(this.auth.token),this.$UA.then((function(e){null!==e.channel&&null!==e.channel.id||(e.register(),e.plugins.load("html-prompt","https://aswpsdkus.com/notify/v1/ua-html-prompt.min.js",{askAgainDelay:3600}).then((function(t){return t.prompt()}))),w.registerPushNotification(t.auth.userID,{channelID:e.channel.id})})).catch((function(t){console.log(t.message)})),this.getAllTeamMembers(this.auth.userID),this.getAllGroupTextMembers(this.auth.userID),this.getAllTags(this.auth.userID),this.getCurrentStatus(this.auth.userID),this.getDefaultStatus(this.auth.userID),this.getAllStatus(this.auth.userID),this.getAllStatusMessages(this.auth.userID),this.getAllStatusCallbackMessages(this.auth.userID),this.getSchedules(this.auth.userID),this.getAllNotificationSetting(this.auth.userID)},watch:{$route:function(t){"dashboard"===t.name&&!1===this.isMainTutorial&&(this.isMainTutorialShow=!0),"message"===t.name&&!1===this.isMessageTutorial&&(this.isMessageTutorialShow=!0)}},mounted:function(){"dashboard"===this.$route.name&&!1===this.isMainTutorial&&(this.isMainTutorialShow=!0),"message"===this.$route.name&&!1===this.isMessageTutorial&&(this.isMessageTutorialShow=!0)},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getAllTeamMembers","getAllGroupTextMembers","getAllTags","getCurrentStatus","getAllStatus","getAllStatusMessages","getSchedules","getAllStatusCallbackMessages","getDefaultStatus","getAllNotificationSetting"])),{},{doneMainTutorial:function(){this.$store.commit("setMainTutorial",!0),this.isMainTutorialShow=!1,this.step=1},doneMessageTutorial:function(){this.$store.commit("setMessageTutorial",!0),this.isMessageTutorialShow=!1,this.step=1}})},xe=ke,_e=(a("22de"),a("7496")),De=a("a523"),ye=a("0789"),Te=a("f6c4"),Ie=Object(l["a"])(xe,p,g,!1,null,null,null),we=Ie.exports;u()(Ie,{VApp:_e["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VContainer:De["a"],VDialog:Vt["a"],VFadeTransition:ye["d"],VIcon:L["a"],VImg:R["a"],VMain:Te["a"],VRow:Z["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-overlay",{attrs:{value:"true",absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},Ve=[],Me={name:"login",mounted:function(){var t=this;this.$auth.isAuthenticated()?this.$router.push("/"):this.$route.hash.length>0?this.$auth.handleAuthentication().then((function(){t.$router.push("/")})):this.$auth.login()}},je=Me,Ne=(a("d6db"),Object(l["a"])(je,$e,Ve,!1,null,null,null)),Oe=Ne.exports;u()(Ne,{VOverlay:U["a"],VProgressCircular:P["a"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Empty Page(404)")])},Ee=[],Fe={name:"EmptyPage"},Le=Fe,Re=Object(l["a"])(Le,Ae,Ee,!1,null,"757676dc",null),Ue=Re.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"px-0"},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("MessageList",{attrs:{isSmall:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("TaskList",{attrs:{isSmall:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("ScheduleList",{attrs:{isSmall:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("ContactList",{attrs:{isSmall:""}})],1)],1)},Ye=[],Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("v-card",{class:{small:t.isSmall}},[a("MessageToolbar",{attrs:{isSmall:t.isSmall}}),t.isShowOverlay?a("MultiSelectMenu",{attrs:{data:t.selected},on:{reload:function(e){return t.getMessages(!0)},deleteMSG:t.deleteMSGSignal}}):t._e(),a("v-card-text",{staticClass:"message-content position-relative pa-0"},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t.isFilter&&!t.isSmall?a("div",{staticClass:"filterContent py-2 px-6"},[a("v-row",{staticClass:"align-center primary text-white",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pa-0 font-size-lg px-4"},[t.messageSearchFilter.sortBy?a("span",[t._v("Sort By: "+t._s("dateReceived"===t.messageSearchFilter.sortBy?"Date":"Type of Call")+" | ")]):t._e(),t.messageSearchFilter.searchFields.length>0?a("span",[t._v("Search: "+t._s(t.messageSearchFilter.searchFields.join().replace(",",", "))+" | ")]):t._e(),t.messageSearchFilter.searchTags.length>0?a("span",[t._v("Tags: "+t._s(t.messageSearchFilter.searchTags.join().replace(",",", ")))]):t._e()]),a("v-col",{staticClass:"pa-0",attrs:{cols:"auto"}},[a("v-card-text",{staticClass:"pr-2 pa-0"},[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.clearFilter()}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-close")])],1)],1)],1)],1)],1):t._e(),a("PerfectScrollbar",{staticClass:"scroll",class:{hasFilter:t.isFilter}},[!t.loading&&t.messages&&t.messages.length<1?a("h1",{staticClass:"emptyDesc mb-0"},[t._v("No Messages")]):t._e(),t.loading?t._e():a("v-list",{staticClass:"py-0",attrs:{"two-line":""}},[t._l(t.messages,(function(e,s){return[a("v-list-item",{key:s,staticClass:"message-item"},[a("v-list-item-action",{staticClass:"m-auto mr-4"},[a("v-checkbox",{on:{change:function(a){return t.change(e)}}})],1),a("v-list-item-icon",{staticClass:"m-auto mr-2 mb-4 align-self-center"},[1!==e.read?a("v-btn",{attrs:{icon:"","x-small":""},on:{click:function(a){return t.setMarkRead(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-checkbox-blank-circle")])],1):t._e()],1),a("v-list-item-avatar",{staticClass:"mr-2",on:{click:function(a){return t.$router.push("messages/"+e.id)}}},[a("v-img",{attrs:{src:t.getImageUrl(e.iconURL)}})],1),a("v-list-item-content",{on:{click:function(a){return t.$router.push("messages/"+e.id)}}},[a("v-list-item-title",{staticClass:"font-weight-bold message-title mb-2"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))]),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:t._s(e.message)}})],1),a("v-list-item-action",[t.isLessOneDay?a("v-list-item-action-text",[t._v(t._s(t._f("moment")(e.dateReceived,"MM/DD/YYYY hh:mm A")))]):a("v-list-item-action-text",[t._v(t._s(t._f("moment")(e.dateReceived,"hh:mm A")))]),a("v-row",[a("v-col",{staticClass:"pa-0"},[2!==t.messageSearchFilter.folderID?a("v-btn",{attrs:{small:"",icon:""},on:{click:function(a){return t.deleteMessage([e.id])}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1):t._e()],1),a("v-col",{staticClass:"py-0 pl-0"},[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return t.setFavorite(e)}}},[1!==e.favorite?a("v-icon",{attrs:{small:""}},[t._v("mdi-star-outline")]):a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-star")])],1)],1)],1)],1)],1),s<t.messages.length-1?a("v-divider",{key:"line-"+s,staticClass:"my-0"}):t._e()]}))],2)],1)],1),a("v-divider",{staticClass:"my-0"}),t.isSmall?a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"secondary pl-4",attrs:{to:"messages"}},[t._v(" VIEW MESSAGES "),a("v-icon",[t._v("mdi-chevron-right")])],1)],1):t._e()],1):t._e()},ze=[],He=(a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[t.isSmall?[t.isBack?a("v-btn",{staticClass:"mx-0",attrs:{icon:"",small:"",to:"/messages"}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-left")])],1):t._e(),a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-email")]),t._v(" Messages ")],1),a("v-spacer")]:[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-email")])],1),a("v-spacer"),a("v-spacer"),a("v-btn",{staticClass:"mr-2 ml-0",attrs:{icon:"",small:""},on:{click:function(e){t.isFilterShow=!0}}},[a("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-filter")])],1),a("v-text-field",{staticClass:"white--text",attrs:{dark:"",color:"white","hide-details":"","single-line":"",label:"Search","append-icon":"mdi-magnify",clearable:""},on:{"click:append":t.searchFunc,"click:clear":t.searchClearFunc},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFunc(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-btn",{staticClass:"mx-0 ml-2",attrs:{icon:"",small:""},on:{click:function(e){t.isShow=!0}}},[a("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-folder")])],1),a("v-divider",{staticClass:"ml-2 mr-2",attrs:{vertical:"",inset:"",dark:""}}),t.isBackToInbox?a("v-btn",{staticClass:"mx-0 mr-2",attrs:{icon:"",small:""},on:{click:t.backToInbox}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-left")])],1):t._e(),a("v-select",{staticClass:"message-folder ml-2",staticStyle:{"min-width":"120px","max-width":"120px"},attrs:{items:t.folderList,"item-text":"folderName","item-value":"id","return-object":"",small:"",dense:"","hide-details":"","single-line":"",flat:"",solo:""},on:{change:t.changeFolder},model:{value:t.selectedFolder,callback:function(e){t.selectedFolder=e},expression:"selectedFolder"}})],a("Folders",{attrs:{isShow:t.isShow,userID:t.auth.userID,isCreateFolder:!0},on:{close:t.close,save:t.close}}),a("FilterForm",{attrs:{isShow:t.isFilterShow,searchWord:t.search},on:{close:t.close,save:t.saveFilter}})],2)}),Ge=[],Ke=(a("ac1f"),a("841c"),a("2909")),We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-folder")]),t._v(" "+t._s(t.isCreateFolder?"Manage Folders":"Move To")+" ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("h6",{staticClass:"font-weight-bold text-secondary"},[t._v("Create New Folder")]),a("v-row",[a("v-col",{attrs:{md:"9"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-folder","hide-details":"","single-line":"",dense:"",label:"Folder Name"},model:{value:t.createFolderName,callback:function(e){t.createFolderName=e},expression:"createFolderName"}})],1),a("v-col",{staticClass:"text-right",attrs:{md:"3"}},[a("v-btn",{attrs:{color:"secondary",loading:t.isCreate,disabled:t.isCreateDisable},on:{click:t.createFolder}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-folder-plus")]),t._v(" Create ")],1)],1)],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-list",{attrs:{rounded:""}},[a("v-subheader",{staticClass:"font-weight-bold text-secondary mb-0"},[t._v("Folders")]),a("v-list-item",{staticClass:"folderItem",class:{selected:0===t.selected},attrs:{dense:""}},[a("v-list-item-avatar",{on:{click:function(e){return t.select({id:0})}}},[a("v-avatar",[a("v-icon",[t._v("mdi-folder")])],1)],1),a("v-list-item-content",{on:{click:function(e){return t.select({id:0})}}},[a("v-list-item-title",[t._v("Inbox")])],1)],1),a("v-list-item",{staticClass:"folderItem",class:{selected:1===t.selected},attrs:{dense:""}},[a("v-list-item-avatar",{on:{click:function(e){return t.select({id:1})}}},[a("v-avatar",[a("v-icon",[t._v("mdi-folder")])],1)],1),a("v-list-item-content",{on:{click:function(e){return t.select({id:1})}}},[a("v-list-item-title",[t._v("Favorite")])],1)],1),a("Draggable",{attrs:{"ghost-class":"ghost"},model:{value:t.folders,callback:function(e){t.folders=e},expression:"folders"}},t._l(t.folders,(function(e,s){return a("v-list-item",{key:s,staticClass:"folderItem",class:{selected:t.selected===e.id},attrs:{dense:""}},[a("v-list-item-avatar",{on:{click:function(a){return t.select(e)}}},[a("v-avatar",[a("v-icon",[t._v("mdi-folder")])],1)],1),a("v-list-item-content",{on:{click:function(a){return t.select(e)}}},[a("v-list-item-title",[t._v(t._s(e.folderName))])],1),"archive"!==e.folderName?a("v-list-item-action",[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return t.deleteFolder(e)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1):t._e()],1)})),1),a("v-divider"),a("v-list-item",{staticClass:"folderItem",class:{selected:2===t.selected},attrs:{dense:""}},[a("v-list-item-avatar",{on:{click:function(e){return t.select({id:2})}}},[a("v-avatar",[a("v-icon",[t._v("mdi-folder")])],1)],1),a("v-list-item-content",{on:{click:function(e){return t.select({id:2})}}},[a("v-list-item-title",[t._v("Trash")])],1)],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v(t._s(t.isCreateFolder?"Close":"Cancel"))]),t.isCreateFolder?t._e():a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.disable},on:{click:t.moveTo}},[t._v(" Move To ")])],1)],1)],1)},qe=[],Je=(a("c975"),a("1276"),a("2ef0")),Qe=a.n(Je),Ze=a("b76a"),Xe=a.n(Ze),ta={name:"Folders",props:["isShow","userID","messageID","isCreateFolder"],components:{Draggable:Xe.a},data:function(){return{loading:!1,disable:!0,isCreate:!1,isCreateDisable:!0,selected:null,createFolderName:"",folders:null,list:null}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),watch:{selected:function(t){this.disable=null===t},createFolderName:function(t){this.isCreateDisable=!t.length>0},isShow:function(t){t&&this.getFolders()}},mounted:function(){this.getFolders()},methods:{getFolders:function(){var t=this;w.getFolders(this.auth.userID).then((function(e){if(200===e.status)if(e.data.length>0){if(e.data[0].folderOrder){var a=e.data[0].folderOrder.split(",");t.folders=Qe.a.sortBy(e.data,(function(t){return a.indexOf(t.id.toString())}))}else t.folders=e.data;t.$store.commit("setFolders",t.folders)}else t.folders=[],t.$store.commit("setFolders",t.folders)}))},moveTo:function(){var t=this;this.loading=!0,this.disable=!0,w.moveToFolder(this.userID,{messageID:this.messageID.join(),messageFolderID:this.selected}).then((function(e){200===e.status&&(t.loading=!1,t.disable=!1,t.$emit("save"),t.$root.$emit("snackbar","success","Moved!"))})),this.setFolderOrder()},select:function(t){t.id===this.selected?this.selected=null:this.selected=t.id},createFolder:function(){var t=this;this.isCreate=!0,this.isCreateDisable=!0,w.createFolder({usersID:this.userID,folderName:this.createFolderName}).then((function(e){200===e.status&&(t.isCreate=!1,t.isCreateDisable=!1,t.createFolderName="",t.$root.$emit("snackbar","success","Create ".concat(t.createFolderName," folder!")),t.getFolders())}))},deleteFolder:function(t){var e=this;w.deleteFolder(this.userID,t.id.toString()).then((function(a){200===a.status&&(e.$root.$emit("snackbar","success","Deleted ".concat(t.folderName," folder!")),e.getFolders())}))},setFolderOrder:function(){if(this.folders){var t=this.folders.map((function(t){return t.id})).join();w.setFoldersOrder(this.auth.userID,{folderOrder:t})}},close:function(){this.setFolderOrder(),this.$emit("close")}}},ea=ta,aa=(a("4f1c"),a("1800")),sa=a("e0c7"),ia=Object(l["a"])(ea,We,qe,!1,null,"71e01468",null),na=ia.exports;u()(ia,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemTitle:Ut["d"],VRow:Z["a"],VSpacer:Y["a"],VSubheader:sa["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"620"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-filter")]),t._v(" Message Filter ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("v-checkbox",{staticClass:"pr-4",attrs:{label:"Favorite","hide-details":"","true-value":1,"false-value":null},model:{value:t.filter.isFavorite,callback:function(e){t.$set(t.filter,"isFavorite",e)},expression:"filter.isFavorite"}}),a("v-row",{staticClass:"px-2",attrs:{align:"center"}},[a("v-col",[a("h6",{staticClass:"primaryText mb-0"},[t._v("Dates ")]),a("v-spacer")],1),a("v-col",{attrs:{cols:"auto"}},[t.isDateEdit?t._e():a("v-btn",{staticClass:"mx-0 text-right",attrs:{icon:"",small:""},on:{click:function(e){t.isDateEdit=!0}}},[a("v-icon",{attrs:{small:"",color:"primary"}},[t._v("mdi-calendar-edit")])],1),!t.isDateEdit&&t.isSetRange?a("v-btn",{staticClass:"mx-0 text-right",attrs:{icon:"",small:""},on:{click:t.clearRange}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-calendar-remove")])],1):t._e(),t.isDateEdit?[a("v-btn",{staticClass:"mx-0 text-right",attrs:{icon:"",small:""},on:{click:t.saveSetRange}},[a("v-icon",{attrs:{small:"",color:"primary"}},[t._v("mdi-content-save")])],1),a("v-btn",{staticClass:"mx-0 text-right",attrs:{icon:"",small:""},on:{click:t.cancelSetRange}},[a("v-icon",{attrs:{small:"",color:"primary"}},[t._v("mdi-close")])],1)]:t._e()],2),t.isDateEdit||t.isSetRange?t._e():a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("h5",{staticClass:"text-center primaryText mb-0"},[t._v("All Date")])]),t.isDateEdit?a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"py-0"},[a("label",[t._v("Start Date")]),a("DatePicker",{attrs:{format:"MM/DD/YYYY",valueType:"YYYY-MM-DD",clearable:!1,editable:!1},model:{value:t.range.fromDate,callback:function(e){t.$set(t.range,"fromDate",e)},expression:"range.fromDate"}})],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("Start Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.range.fromTime,callback:function(e){t.$set(t.range,"fromTime",e)},expression:"range.fromTime"}})],1),a("v-col",{staticClass:"px-2 py-0",attrs:{cols:"auto"}},[a("v-icon",{staticClass:"mt-5",attrs:{color:"primary",size:"36"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("End Date")]),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1},model:{value:t.range.toDate,callback:function(e){t.$set(t.range,"toDate",e)},expression:"range.toDate"}})],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("End Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.range.toTime,callback:function(e){t.$set(t.range,"toTime",e)},expression:"range.toTime"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.isValidError?a("p",{staticClass:"red--text text-center mb-0 mt-2"},[t._v("The start DateTime must be before the end DateTime.")]):t._e()])],1)],1):t._e(),!t.isDateEdit&&t.isSetRange?a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"py-0"},[a("label",[t._v("Start Date")]),a("h4",{staticClass:"mb-0 primaryText"},[t._v(t._s(t.convertTime(t.range.fromDate,t.range.fromTime)))])]),a("v-col",{staticClass:"px-2 py-0",attrs:{cols:"auto"}},[a("v-icon",{staticClass:"mt-5",attrs:{color:"primary",size:"36"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("End Date")]),a("h4",{staticClass:"mb-0 primaryText"},[t._v(t._s(t.convertTime(t.range.toDate,t.range.toTime)))])])],1)],1):t._e()],1),a("v-divider",{staticClass:"my-0 mt-2"}),a("v-row",{staticClass:"px-2"},[a("v-col",[a("h6",{staticClass:"primaryText mb-0"},[t._v("Sort By")]),a("v-chip-group",{attrs:{column:"","active-class":"secondary--text secondary"},model:{value:t.filter.sortBy,callback:function(e){t.$set(t.filter,"sortBy",e)},expression:"filter.sortBy"}},[a("v-chip",{attrs:{filter:"",outlined:"",value:"dateReceived"}},[t._v("Date")]),a("v-chip",{attrs:{filter:"",outlined:"",value:"callTypeID"}},[t._v("Type")])],1)],1)],1),a("v-divider",{staticClass:"my-0 mt-2"}),a("v-row",{staticClass:"px-2"},[a("v-col",[a("v-expansion-panels",{attrs:{flat:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-0"},[a("h6",{staticClass:"primaryText mb-0"},[t._v("Tags")])]),a("v-expansion-panel-content",[a("v-chip-group",{attrs:{column:"",multiple:"","active-class":"secondary--text secondary"},model:{value:t.filter.searchTags,callback:function(e){t.$set(t.filter,"searchTags",e)},expression:"filter.searchTags"}},[t._l(t.allTags,(function(e,s){return[a("v-chip",{key:s,attrs:{filter:"",outlined:"",value:e.tags}},[t._v(t._s(e.tags))])]}))],2)],1)],1)],1)],1)],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"error"},on:{click:t.clearFilter}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-delete")]),t._v(" Clear ")],1),a("v-btn",{attrs:{color:"secondary"},on:{click:t.search}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-magnify")]),t._v(" Search ")],1)],1)],1)],1)},ca=[],la={name:"FilterForm",props:["isShow","searchWord"],data:function(){return{isDateEdit:!1,range:null,isValidError:!1,timePickerOptions:dt,isSetRange:!1,filter:{}}},computed:Object(b["a"])({},Object(C["c"])(["allTags","messageSearchFilter"])),watch:{isShow:function(t){t&&(this.filter=Object(b["a"])({},this.messageSearchFilter))},range:{handler:function(t){t&&(this.isValidError=this.$moment("".concat(t.fromDate," ").concat(t.fromTime)).unix()>this.$moment("".concat(t.toDate," ").concat(t.toTime)).unix())},deep:!0},isDateEdit:function(t){if(t){var e=this.$moment().format("mm")>30?30:0;this.isSetRange||(this.filter.startDate&&this.filter.endDate?this.range={fromDate:this.$moment(this.filter.startDate).format(ot),fromTime:this.$moment(this.filter.startDate).format(ct),toDate:this.$moment(this.filter.endDate).format(ot),toTime:this.$moment(this.filter.endDate).format(ct)}:this.range={fromDate:this.$moment().format(ot),fromTime:this.$moment().set("minute",e).set("second",0).format(ct),toDate:this.$moment().add(30,"minute").format(ot),toTime:this.$moment(this.$moment().set("minute",e).set("second",0)).add(30,"minute").format(ct)})}}},methods:{search:function(){var t=Object(b["a"])(Object(b["a"])({},this.filter),{},{searchWords:this.searchWord,startDate:null,endDate:null});if(this.isSetRange){var e=this.$moment(this.$moment("".concat(this.range.fromDate," ").concat(this.range.fromTime))).toISOString(),a=this.$moment(this.$moment("".concat(this.range.toDate," ").concat(this.range.toTime))).toISOString();t=Object(b["a"])(Object(b["a"])({},t),{},{startDate:e,endDate:a})}this.$store.commit("setMessageSearchFilter",t),this.$emit("save")},clearFilter:function(){var t={searchWords:null,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],isFavorite:null},e=Object(b["a"])(Object(b["a"])({},this.filter),t);this.$store.commit("setMessageSearchFilter",e),this.$emit("save")},close:function(){this.$emit("close")},convertTime:function(t,e){return this.$moment("".concat(t,"T").concat(e)).format(ut)},saveSetRange:function(){this.isDateEdit=!1,this.isSetRange=!0},cancelSetRange:function(){this.isDateEdit=!1},clearRange:function(){this.isSetRange=!1,this.isDateEdit=!1,this.range=null}}},ra=la,ua=a("ac7c"),da=a("cc20"),ma=a("ef9a"),ha=a("cd55"),va=a("49e2"),fa=a("c865"),pa=a("0393"),ga=Object(l["a"])(ra,oa,ca,!1,null,"7d544158",null),ba=ga.exports;u()(ga,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCheckbox:ua["a"],VChip:da["a"],VChipGroup:ma["a"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VExpansionPanel:ha["a"],VExpansionPanelContent:va["a"],VExpansionPanelHeader:fa["a"],VExpansionPanels:pa["a"],VIcon:L["a"],VRow:Z["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Ca={name:"MessageToolbar",components:{FilterForm:ba,Folders:na},props:{isSmall:{type:Boolean,default:!1},isBack:{type:Boolean,default:!1}},data:function(){return{search:null,isShow:!1,folderList:[{id:0,folderName:"Inbox"},{id:1,folderName:"Favorite"},{id:2,folderName:"Trash"}],selectedFolder:{id:0,folderName:"Inbox"},isBackToInbox:!1,isFilterShow:!1,searchFilter:{searchWords:null,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],folderID:0}}},watch:{folders:function(t){var e=this;this.folderList=Object(Ke["a"])(t),this.folderList.unshift({id:0,folderName:"Inbox"},{id:1,folderName:"Favorite"}),this.folderList.push({id:2,folderName:"Trash"}),this.selectedFolder=this.folderList.filter((function(t){return t.id===e.messageSearchFilter.folderID}))[0]},selectedFolder:function(t){this.isBackToInbox=0!==t.id}},computed:Object(b["a"])({},Object(C["c"])(["auth","folders","messageSearchFilter"])),methods:{searchFunc:function(){var t=Object(b["a"])(Object(b["a"])({},this.messageSearchFilter),{},{searchWords:this.search});this.$store.commit("setMessageSearchFilter",t)},searchClearFunc:function(){var t=Object(b["a"])(Object(b["a"])({},this.messageSearchFilter),{},{searchWords:null});this.$store.commit("setMessageSearchFilter",t)},changeFolder:function(t){var e=Object(b["a"])(Object(b["a"])({},this.messageSearchFilter),{},{folderID:t.id});this.$store.commit("setMessageSearchFilter",e)},saveFilter:function(){this.search=this.messageSearchFilter.searchWords,this.close()},close:function(){this.isShow=!1,this.isFilterShow=!1},backToInbox:function(){this.selectedFolder={id:0,folderName:"Inbox"};var t=Object(b["a"])(Object(b["a"])({},this.messageSearchFilter),{},{folderID:0});this.$store.commit("setMessageSearchFilter",t)}}},Sa=Ca,ka=(a("c79c"),Object(l["a"])(Sa,He,Ge,!1,null,null,null)),xa=ka.exports;u()(ka,{VBtn:j["a"],VDivider:F["a"],VIcon:L["a"],VSelect:X["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var _a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"multiMenu position-absolute"},[a("v-card-text",{staticClass:"text-center ma-auto py-1 px-1"},[a("v-btn",{staticClass:"white text-secondary text-center px-0",attrs:{depressed:"",loadingRead:t.loadingMoveTo,disabled:t.loadingMoveTo},on:{click:t.moveTo}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-folder")]),t._v(" Move To ")],1),a("v-btn",{staticClass:"white text-secondary text-center px-0",attrs:{depressed:"",loadingRead:t.loadingRead,disabled:t.loadingRead},on:{click:t.setMultiMarkRead}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-email-open")]),t._v(" Mark Read ")],1),a("v-btn",{staticClass:"white text-secondary text-center px-0",attrs:{depressed:"",loadingRead:t.loadingUnRead,disabled:t.loadingUnRead},on:{click:t.setMultiMarkUnRead}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-email")]),t._v(" Mark Unread ")],1),a("v-btn",{staticClass:"white text-secondary text-center px-0",attrs:{depressed:"",loadingRead:t.loadingTags,disabled:t.loadingTags},on:{click:t.addTags}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-tag-plus")]),t._v(" Add Tags ")],1),a("v-btn",{staticClass:"white text-secondary text-center px-0",attrs:{depressed:"",loadingRead:t.loadingDelete,disabled:t.loadingDelete},on:{click:t.deleteMessages}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-delete")]),t._v(" Trash ")],1)],1),a("Folders",{attrs:{isShow:t.isShow,userID:t.auth.userID,messageID:t.data,isCreateFolder:!1},on:{close:t.close,save:t.save}}),a("Tags",{attrs:{isShow:t.isShowTag,userID:t.auth.userID,messageID:t.data},on:{close:t.close,save:t.save}})],1)},Da=[],ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-tag-plus")]),t._v(" Add Tags ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("h6",{staticClass:"font-weight-bold text-secondary"},[t._v("Add Tags")]),a("v-combobox",{attrs:{items:t.showInTagsList,"item-text":"tags","hide-selected":"",hint:"Hit Enter to Create a Tag (Maximum of 5 tags)",multiple:"","persistent-hint":"","return-object":!1},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.attrs,i=e.item,n=e.select,o=e.selected;return[a("v-chip",t._b({attrs:{"input-value":o,close:""},on:{click:n,"click:close":function(e){return t.remove(i)}}},"v-chip",s,!1),[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag")]),a("strong",[t._v(t._s(i))])],1)]}},{key:"item",fn:function(e){e.index;var s=e.item;return[t._v(" "+t._s(s.tags)+" "),a("v-spacer"),a("v-list-item-action",{on:{click:function(t){t.stopPropagation()}}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteTag(s.tagID)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1)],1)]}}]),model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.disable},on:{click:t.addTag}},[t._v(" Add ")])],1)],1)],1)},Ta=[],Ia=(a("a434"),{name:"Tags",props:["isShow","userID","messageID","items"],data:function(){return{loading:!1,disable:!0,tags:null}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","allTags"])),{},{showInTagsList:function(){return this.allTags.filter((function(t){return 1===t.showInTagsList}))}}),watch:{tags:function(t){var e=this;t&&t.length>5?(this.$nextTick((function(){return e.tags.pop()})),this.disable=!0):this.disable=!1}},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getAllTags"])),{},{addTag:function(){var t=this;this.loading=!0,this.disable=!0,w.addTag(this.auth.userID,this.messageID.join(),this.tags.join()).then((function(e){200===e.status&&(t.loading=!1,t.disable=!1,t.getAllTags(t.auth.userID),t.$emit("reloadTags"),t.close())}))},remove:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tags=Object(Ke["a"])(this.tags)},close:function(){this.tags=null,this.$emit("close")},deleteTag:function(t){var e=this;w.deleteTagsFromShowInList(this.auth.userID,t).then((function(t){200===t.status&&e.getAllTags(e.auth.userID)}))}})}),wa=Ia,$a=(a("34a2"),a("2b5d")),Va=Object(l["a"])(wa,ya,Ta,!1,null,"db4597b2",null),Ma=Va.exports;u()(Va,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VChip:da["a"],VCombobox:$a["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VListItemAction:aa["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var ja={name:"MultiSelectMenu",components:{Tags:Ma,Folders:na},props:["data"],data:function(){return{loadingMoveTo:!1,loadingRead:!1,loadingUnRead:!1,loadingArchive:!1,loadingTags:!1,loadingDelete:!1,isShow:!1,isShowTag:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),methods:{moveTo:function(){this.isShow=!0},setMultiMarkRead:function(){var t=this;this.loadingRead=!0,w.setMarkRead(this.auth.userID,this.data.join()).then((function(e){200===e.status&&(t.loadingRead=!1,t.$root.$emit("snackbar","success","Set Mark Read!"),t.$emit("reload"))}))},setMultiMarkUnRead:function(){var t=this;this.loadingUnRead=!0,w.setMarkUnRead(this.auth.userID,this.data.join()).then((function(e){200===e.status&&(t.loadingUnRead=!1,t.$root.$emit("snackbar","success","Set Mark UnRead!"),t.$emit("reload"))}))},deleteMessages:function(){this.$emit("deleteMSG")},addTags:function(){this.isShowTag=!0},close:function(){this.isShowTag=!1,this.isShow=!1},save:function(){this.close(),this.$emit("reload")}}},Na=ja,Oa=(a("55d9"),a("c2fe"),Object(l["a"])(Na,_a,Da,!1,null,"69844b52",null)),Aa=Oa.exports;u()(Oa,{VBtn:j["a"],VCard:N["a"],VCardText:O["b"],VIcon:L["a"]});var Ea={name:"MessageList",props:{isSmall:{type:Boolean,default:!1}},components:{MultiSelectMenu:Aa,MessageToolbar:xa},data:function(){return{loading:!1,selected:[],isShowOverlay:!1,deleteMsg:null}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["user","auth","messages","messageSearchFilter"])),{},{isFilter:function(){return!(""===this.messageSearchFilter.searchFields.join()&&""===this.messageSearchFilter.searchTags.join()&&"dateReceived"===this.messageSearchFilter.sortBy&&null===this.messageSearchFilter.endDate&&null===this.messageSearchFilter.startDate&&null===this.messageSearchFilter.isFavorite)}}),watch:{selected:function(t){this.isShowOverlay=t.length>0},messageSearchFilter:{handler:function(){this.getMessages(!0)},deep:!0}},mounted:function(){this.$store.commit("setMessageSearchFilter",{searchWords:null,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],folderID:0,isFavorite:null}),this.getMessages(!0);var t=this;this.$root.$on("getMessages",(function(){t.getMessages(!0)}))},methods:{clearFilter:function(){this.$store.commit("setMessageSearchFilter",{searchWords:this.messageSearchFilter.searchWords,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],folderID:0,isFavorite:null})},getMessages:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selected=[],this.isShowOverlay=!1,e&&(this.loading=!0);var a={searchWords:this.messageSearchFilter.searchWords||null,startDate:this.messageSearchFilter.startDate||null,endDate:this.messageSearchFilter.endDate||null,sortBy:this.messageSearchFilter.sortBy||null,searchFields:""===this.messageSearchFilter.searchFields.join()?null:this.messageSearchFilter.searchFields.join(),tags:this.messageSearchFilter.searchTags.join()||null,folderID:this.messageSearchFilter.folderID,isFavorite:1===this.messageSearchFilter.folderID?1:this.messageSearchFilter.isFavorite};w.searchMessage(this.auth.userID,a).then((function(e){200===e.status?t.$store.commit("setMessages",e.data):(t.$store.commit("setMessages",null),t.$root.$emit("snackbar","error","".concat(e.status," error")))})).finally((function(){e&&(t.loading=!1)}))},getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},setFavorite:function(t){var e=this;1===t.favorite?w.setUnFavorite(this.user.id,t.id.toString()).then((function(t){200===t.status&&e.getMessages()})):w.setFavorite(this.user.id,t.id.toString()).then((function(t){200===t.status&&e.getMessages()})).finally((function(){w.moveToFolder(e.auth.userID,{messageID:t.id.toString(),messageFolderID:1})}))},setMarkRead:function(t){var e=this;w.setMarkRead(this.user.id,t.id.toString()).then((function(t){200===t.status&&e.getMessages()}))},deleteMSGSignal:function(){this.deleteMessage(this.selected)},deleteMessage:function(t){var e=this;w.moveToFolder(this.auth.userID,{messageID:t.join(),messageFolderID:2}).then((function(t){200===t.status&&(e.$root.$emit("snackbar","success","Moved to Trash!"),e.getMessages(!0))}))},isLessOneDay:function(t){return this.$moment().diff(this.$moment(t),"days")<1},change:function(t){var e=this.selected.filter((function(e){return e!==t.id}));e.length<this.selected.length?this.selected=e:this.selected.push(t.id)}}},Fa=Ea,La=(a("bfff"),a("6da7"),Object(l["a"])(Fa,Be,ze,!1,null,"7090154f",null)),Ra=La.exports;u()(La,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCheckbox:ua["a"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemActionText:Ut["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemIcon:ue["a"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSpacer:Y["a"]});var Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("v-card",{class:{small:t.isSmall}},[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[t.isSmall?[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-notebook")]),t._v(" Tasks ")],1),a("v-spacer")]:[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-notebook")]),t._v(" Tasks ")],1),a("v-spacer"),a("v-select",{staticClass:"task-filter ml-2",staticStyle:{"min-width":"200px","max-width":"200px"},attrs:{items:t.filterTaskList,"item-text":"name","item-value":"id","return-object":"",small:"",dense:"","hide-details":"","single-line":"",flat:"",solo:""},on:{change:t.changeFilter},model:{value:t.selectedFilterTask,callback:function(e){t.selectedFilterTask=e},expression:"selectedFilterTask"}})]],2),a("v-card-text",{staticClass:"task-content position-relative pa-0"},[!t.loading&&t.tasks&&t.tasks.length<1?a("h1",{staticClass:"emptyDesc mb-0"},[t._v("No Tasks")]):t._e(),a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("PerfectScrollbar",{staticClass:"mh-100"},[t._l(t.tasks,(function(e,s){return[a("v-card-text",{key:s,staticClass:"py-0 px-3"},[a("v-row",{staticClass:"task-date font-weight-bold"},[a("v-col",{staticClass:"py-1 px-6",attrs:{cols:"6"}},[t._v(t._s(t._f("moment")(1===e.isCompleted?e.dateCompleted:e.taskDueDate,"MMM DD, YYYY")))]),a("v-col",{staticClass:"py-1 px-6 text-right",attrs:{cols:"6"}},[t._v(t._s(t._f("moment")(1===e.isCompleted?e.dateCompleted:e.taskDueDate,"hh:mm A")))])],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"align-center d-flex",attrs:{cols:"auto"}},[1===e.isCompleted?a("v-icon",{attrs:{small:"",color:"green"}},[t._v("mdi-check-circle-outline")]):a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-progress-clock")])],1),a("v-col",{staticClass:"px-0 align-center d-flex"},[t._v(t._s(e.taskDescription))]),1!==e.isCompleted&&t.isCheckAssignedToOthers(e)?a("v-col",{staticClass:"px-0 text-right",attrs:{cols:"auto"}},[t._v(" "+t._s(t.getAssignedTo(e))+" ")]):t._e(),t.isCheck(e)?a("v-col",{staticClass:"px-0 text-right",attrs:{cols:"auto"}},[t._v(" Assigned By: "+t._s(e.firstName)+" "+t._s(e.lastName)+" "),a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"secondary",loading:t.loadingAccept&&s===t.ind,disabled:t.loadingAccept&&s===t.ind},on:{click:function(a){return t.setAssignToUser(e,1,s)}}},[t._v("Accept ")]),a("v-btn",{attrs:{small:"",loading:t.loadingDeny&&s===t.ind,disabled:t.loadingDeny&&s===t.ind},on:{click:function(a){return t.setAssignToUser(e,0,s)}}},[t._v("Deny ")])],1):t._e(),t.isCompleted(e)?a("v-col",{staticClass:"px-0 text-right",attrs:{cols:"auto"}},[a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"secondary",loading:t.loadingComplete&&s===t.ind,disabled:t.loadingComplete&&s===t.ind},on:{click:function(a){return t.setComplete(e,1,s)}}},[t._v("Complete ")])],1):t._e(),1===e.isCompleted?a("v-col",{staticClass:"px-0 text-right",attrs:{cols:"auto"}},[t._v(" Completed! ")]):t._e(),a("v-col",{staticClass:"pr-6 text-right",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){t.editTask(e,t.isCheck(e))}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.deleteTask(e)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1)],1)],1)],1)]}))],2)],1),a("v-divider",{staticClass:"my-0"}),t.isSmall?a("v-card-actions",[a("v-btn",{staticClass:"secondary",on:{click:t.addTask}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Task ")],1),a("v-spacer"),a("v-btn",{staticClass:"secondary pl-4",attrs:{to:"tasks"}},[t._v(" VIEW TASKS "),a("v-icon",[t._v("mdi-chevron-right")])],1)],1):a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"secondary",on:{click:t.addTask}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Task ")],1),a("v-spacer")],1),a("TaskForm",{attrs:{usersID:t.auth.usersID,isShow:t.isShow,isEdit:t.isEdit,task:t.selected},on:{close:function(e){t.isShow=!1},reloadTasks:function(e){return t.changeFilter(t.selectedFilterTask)}}}),a("TaskFilterForm",{attrs:{isShow:t.isFilterShow},on:{close:t.close,save:t.saveFilter}})],1):t._e()},Pa=[],Ya=a("ade3"),Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" "+t._s(t.isEdit?"Edit":"Add")+" Task ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("v-row",[a("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"6"}},[a("label",[t._v("Date")]),a("br"),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"6"}},[a("label",[t._v("Clock")]),a("br"),a("DatePicker",{attrs:{format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1},model:{value:t.timeValue,callback:function(e){t.timeValue=e},expression:"timeValue"}})],1)],1),a("v-textarea",{attrs:{label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("v-select",{attrs:{items:t.assignedUserList,"item-value":"id",label:"Assigned To User"},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected}},"v-chip",e.attrs,!1),[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.getImageUrl(e.item.usersImageURL)}})],1),t._v(" "+t._s(e.item.firstName)+" "+t._s(e.item.lastName)+" ")],1)]}},{key:"item",fn:function(e){return[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.getImageUrl(e.item.usersImageURL)}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))])],1)]}}]),model:{value:t.assignedToUsersID,callback:function(e){t.assignedToUsersID=e},expression:"assignedToUsersID"}}),t.isEdit?a("v-row",{attrs:{align:"center",justify:"center"}},[t.isPast?[t.isSnooze?a("v-col",[a("v-select",{attrs:{items:t.snoozeTimeList,label:"How long to snooze?",dense:"","hide-details":""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.item;return[t._v(t._s(a>0?a+" minutes":"None"))]}},{key:"item",fn:function(e){var a=e.item;return[t._v(" "+t._s(a>0?a+" minutes":"None"))]}}],null,!1,1705318231),model:{value:t.snoozeTime,callback:function(e){t.snoozeTime=e},expression:"snoozeTime"}})],1):t._e(),a("v-col",{attrs:{cols:"auto"}},[t.isSnooze?t._e():a("v-btn",{attrs:{color:"secondary",loading:t.loadingSnooze},on:{click:function(e){t.isSnooze=!0}}},[t._v("Snooze")]),t.isSnooze?a("v-btn",{staticClass:"mr-2",attrs:{loading:t.loadingSnooze},on:{click:function(e){t.isSnooze=!1}}},[t._v("Cancel")]):t._e(),t.isSnooze?a("v-btn",{attrs:{color:"secondary",loading:t.loadingSnooze},on:{click:t.snooze}},[t._v("Save")]):t._e()],1)]:t._e()],2):t._e()],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.disable},on:{click:t.save}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save ")],1)],1)],1)],1)},za=[],Ha=(a("a4d3"),a("e01a"),{name:"TaskForm",props:["isShow","usersID","isEdit","task"],mixins:[ht],data:function(t){return{loading:!1,loadingSnooze:!1,disable:!0,description:"",assignedToUsersID:null,timePickerOptions:dt,date:t.$moment().format(ot),timeValue:t.$moment().format(ct),assignedUserList:null,snoozeTime:0,snoozeTimeList:[0,15,30,45,60,75,90,105,120,135,150,165,180],isSnooze:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","user","allTeamMembers"])),{},{isPast:function(){return!!this.task&&(1!==this.task.isCompleted&&this.$moment(this.task.taskDueDate)-this.$moment()<0)}}),watch:{isShow:function(t){t&&(this.description=this.task.taskDescription,this.assignedToUsersID=this.task.assignedToUsersID||this.user.id,this.attachedToMessageID=this.task.attachedToMessageID,this.date=this.$moment(this.task.taskDueDate).format(ot),this.timeValue=this.$moment(this.task.taskDueDate).format(ct),this.attachedToContactsID=this.task.attachedToContactsID,this.assignedUserList=Qe.a.orderBy([this.user].concat(Object(Ke["a"])(this.allTeamMembers)),"firstName"),this.isSnooze=!1)},description:function(t){this.disable=0===t.length}},methods:{getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},close:function(){this.$emit("close")},save:function(){var t=this;this.loading=!0,this.disable=!0;var e={usersID:parseInt(this.auth.userID,10),taskDueDate:this.$moment("".concat(this.date," ").concat(this.timeValue)).toISOString(),taskDescription:this.description,assignedToUsersID:this.assignedToUsersID,attachedToMessageID:this.attachedToMessageID||null,attachedToContactsID:this.attachedToContactsID||null,assignedTaskAccepted:1};this.isEdit?w.editTask(this.task.tsid,e).then((function(e){200===e.status&&(t.loading=!1,t.disable=!1,t.$emit("close"),t.$emit("reloadTasks"))})):w.addTask(e).then((function(e){200===e.status&&(t.loading=!1,t.disable=!1,t.$emit("close"),t.$emit("reloadTasks"))}))},snooze:function(){var t=this.$moment(this.task.taskDueDate).toISOString(),e=this.$moment(t).add(this.snoozeTime,"minute").toISOString();this.date=this.$moment(e).format(ot),this.timeValue=this.$moment(e).format(ct),this.isSnooze=!1}}}),Ga=Ha,Ka=(a("ad5b"),a("a844")),Wa=Object(l["a"])(Ga,Ba,za,!1,null,null,null),qa=Wa.exports;u()(Wa,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VChip:da["a"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemTitle:Ut["d"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VTextarea:Ka["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"620"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-notebook")]),t._v(" Task Filter ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"error"},on:{click:t.clearFilter}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-delete")]),t._v(" Clear ")],1),a("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.filterTask()}}},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-filter")]),t._v(" Filter ")],1)],1)],1)],1)},Qa=[],Za={name:"TaskFilterForm",props:["isShow"],data:function(){return{isDateEdit:!1,filter:{}}},computed:Object(b["a"])({},Object(C["c"])(["taskFilter"])),watch:{isShow:function(t){t&&(this.filter=Object(b["a"])({},this.taskFilter))}},methods:{clearFilter:function(){var t={status:null,startDate:null},e=Object(b["a"])(Object(b["a"])({},this.filter),t);this.$store.commit("setTaskFilter",e),this.$emit("save")},filterTask:function(){this.$emit("close")},close:function(){this.$emit("close")}}},Xa=Za,ts=Object(l["a"])(Xa,Ja,Qa,!1,null,"6f272342",null),es=ts.exports;u()(ts,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var as={name:"TaskList",props:{isSmall:{type:Boolean,default:!1}},components:{TaskFilterForm:es,TaskForm:qa},data:function(){return{ind:-1,loading:!1,selected:null,isShow:!1,isEdit:!0,loadingAccept:!1,loadingDeny:!1,loadingComplete:!1,isFilterShow:!1,selectedFilterTask:{id:"",name:"All Tasks"},filterTaskList:[{name:"All Tasks",id:""},{name:"My Tasks",id:"isAssignedToMyself"},{name:"Completed Tasks",id:"isCompleted"},{name:"Past Due Tasks",id:"isPastDueTasks"}]}},computed:Object(b["a"])({},Object(C["c"])(["auth","tasks","allTeamMembers"])),watch:{selectedFolder:function(t){this.isBackToInbox=0!==t.id}},mounted:function(){this.getTasks()},methods:{getAssignedTo:function(t){if(t.assignedToUsersID.toString()!==this.auth.userID.toString()){var e=this.allTeamMembers.filter((function(e){return e.id===t.assignedToUsersID}));return"Assigned To: ".concat(e[0].firstName," ").concat(e[0].lastName)}return""},setComplete:function(t,e,a){var s=this;this.ind=a,this.loadingComplete=!0,w.markTaskCompleted(this.auth.userID,t.tsid).then((function(t){200===t.status&&(s.$root.$emit("snackbar","success","Task Completed!"),s.changeFilter(s.selectedFilterTask))})).finally((function(){s.loadingComplete=!1}))},changeFilter:function(t){var e=this;if(""!==t.id){var a=t.id,s=Object(Ya["a"])({},a,1);this.loading=!0,w.filterTask(this.auth.userID,s).then((function(t){200===t.status?e.$store.commit("setTasks",t.data):(e.$store.commit("setTasks",null),e.$root.$emit("snackbar","error","".concat(t.status," error")))})).finally((function(){e.loading=!1}))}else this.getTasks()},saveFilter:function(){this.close()},close:function(){this.isShow=!1,this.isFilterShow=!1},isCheck:function(t){return t.assignedByUsersID.toString()!==this.auth.userID.toString()&&null===t.assignedTaskAccepted},isCheckAssignedToOthers:function(t){return t.assignedToUsersID.toString()!==this.auth.userID.toString()},isCompleted:function(t){return 0!==t.assignedTaskAccepted&&1!==t.isCompleted&&t.assignedToUsersID.toString()===this.auth.userID.toString()},getTasks:function(){var t=this;this.loading=!0,w.getTasks(this.auth.userID).then((function(e){200===e.status?t.$store.commit("setTasks",e.data):(t.$store.commit("setTasks",null),t.$root.$emit("snackbar","error","".concat(e.status," error")))})).finally((function(){t.loading=!1}))},setAssignToUser:function(t,e,a){var s=this;this.ind=a;var i={tasksID:t.tsid,assignedTaskAccepted:e};e>0?this.loadingAccept=!0:this.loadingDeny=!0,w.setAcceptTask(t.assignedToUsersID,i).then((function(t){200===t.status&&(s.$root.$emit("snackbar","success","Assign Task!"),s.changeFilter(s.selectedFilterTask))})).finally((function(){e>0?s.loadingAccept=!1:s.loadingDeny=!1}))},editTask:function(t,e){var a=this;this.selected=t,this.isShow=!0,this.isEdit=!0,e&&w.markTaskRead(this.auth.userID,t.tsid).then((function(t){200===t.status&&a.$root.$emit("snackbar","success","Read Task!")}))},addTask:function(){this.selected={usersID:this.auth.userID,description:"",taskDescription:"",assignedToUsersID:null,attachedToMessageID:null,reminder:!1,taskDueDate:(new Date).toISOString(),attachedToContactsID:null},this.isShow=!0,this.isEdit=!1},deleteTask:function(t){var e=this;w.deleteTask(this.auth.userID,t.tsid).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","task deleted")})).finally((function(){e.changeFilter(e.selectedFilterTask)}))}}},ss=as,is=(a("829b"),Object(l["a"])(ss,Ua,Pa,!1,null,"7857a425",null)),ns=is.exports;u()(is,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{class:{small:t.isSmall}},[a("ScheduleToolbar",{attrs:{isSmall:""}}),a("v-card-text",{staticClass:"schedule-content position-relative pa-0"},[a("PerfectScrollbar",{staticClass:"mh-100 he-100"},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("ScheduleViewer",{attrs:{isSmall:t.isSmall},on:{editSchedule:t.editSchedule}})],1)],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-btn",{staticClass:"secondary",on:{click:t.createSchedule}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-plus")]),t._v(" NEW ")],1),a("v-spacer"),a("v-btn",{staticClass:"secondary pl-4",attrs:{to:"schedules"}},[t._v(" VIEW STATUS MANAGER "),a("v-icon",[t._v("mdi-chevron-right")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.isNewStatus?a("DispatchStatusEdit",{attrs:{isEdit:!1},on:{close:function(e){t.isNewStatus=!1},done:function(e){t.isNewStatus=!1}}}):a("ScheduleEventForm",{attrs:{isShow:t.isShow,isEdit:t.isEdit,isFromDispatch:!1,item:t.event},on:{createStatus:function(e){t.isNewStatus=!0},close:t.close}})],1)],1)},cs=[],ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative schedule-toolbar",attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-calendar")]),t._v(" Status Manager ")],1),t.isSmall?t._e():a("v-spacer"),t.isSmall?t._e():a("v-checkbox",{staticClass:"pr-4",attrs:{label:"Show Default Status",dark:"",dense:"","hide-details":""},model:{value:t.isAll,callback:function(e){t.isAll=e},expression:"isAll"}}),t.isSmall?t._e():a("v-btn",{staticClass:"secondary mr-4",on:{click:t.createStatus}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Status Templates ")],1),t.isSmall?t._e():a("v-btn",{staticClass:"secondary",on:{click:t.createSchedule}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-plus")]),t._v(" NEW ")],1)],1)},rs=[],us={name:"ScheduleToolbar",props:{isSmall:{type:Boolean,default:!1}},data:function(){return{isAll:!0}},watch:{isAll:function(t){this.$root.$emit("showAllEvents",t)}},mounted:function(){this.today={year:this.$moment().format("YYYY"),month:this.$moment().format("MMMM"),day:this.$moment().format("D"),week:this.$moment().format("ddd")}},methods:{createSchedule:function(){this.$emit("createSchedule","".concat(this.today.year,"-").concat(this.today.month,"-").concat(this.today.day))},createStatus:function(){this.$emit("createStatus")}}},ds=us,ms=(a("d37a"),Object(l["a"])(ds,ls,rs,!1,null,null,null)),hs=ms.exports;u()(ms,{VBtn:j["a"],VCheckbox:ua["a"],VIcon:L["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.today?a("v-card",{class:{"elevation-0 small":t.isSmall},staticStyle:{height:"100%"}},[t.isSmall?t._e():a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative align-center",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center primary text-white text-center"},[t._v(t._s(t._f("moment")(t.$moment(),"M/DD/YYYY ")))]),a("v-spacer")],1),t.isSmall?a("v-card-text",{staticClass:"schedule-header py-1 px-6 text-center font-weight-bold"},[t._v(t._s(t.today.month)+" "+t._s(t.today.week)+" "+t._s(t.today.day))]):t._e(),t.todaySchedules&&t.todaySchedules.length<1?a("h1",{staticClass:"emptyDesc mb-0",staticStyle:{color:"rgba(0, 0, 0, 0.6)"}},[t._v("No Schedules")]):t._e(),t.todaySchedules?a("v-list",{staticClass:"py-0 transparent",attrs:{"two-line":""}},[t._l(t.todaySchedules,(function(e,s){return[t.isShowAll||1!==e.isDefaultStatus?a("v-list-item",{key:s,staticClass:"message-item",on:{click:function(a){return t.editSchedule(e)}}},[a("v-list-item-avatar",{staticClass:"mr-2",attrs:{size:"56"}},[a("v-img",{attrs:{src:t.getImageUrl(e.takingCalls)}})],1),a("v-list-item-content",{staticClass:"ml-2"},[a("v-list-item-title",{staticClass:"text-wrap mb-2"},[a("v-row",{staticClass:"align-center"},[a("v-col",{staticClass:"primaryText",attrs:{cols:"auto py-0"}},[a("h5",{staticClass:"mb-0"},[t._v(t._s(e.statusName))])]),a("v-col",{staticClass:"py-0 pl-0 text-capitalize"},[a("h6",{staticClass:"mb-0 mt-0"},[0===e.takingCalls?a("v-icon",{attrs:{"x-small":"",color:"red"}},[t._v("mdi-circle")]):a("v-icon",{attrs:{"x-small":"",color:"green"}},[t._v("mdi-circle")]),t._v(" "+t._s(0===e.takingCalls?"Not":"")+" taking Calls ")],1)]),a("v-col",{staticClass:"py-0 pl-0 text-capitalize text-right"},[a("p",{staticClass:"mb-0",staticStyle:{"font-size":"0.75em"}},[t._v(t._s(t.getDate(e)))]),a("p",{staticClass:"mb-0 font-weight-bold",staticStyle:{"font-size":"0.85em"}},[t._v(t._s(t._f("moment")(e.startDate,"h:mm A"))+" - "+t._s(t._f("moment")(e.endDate,"h:mm A")))])])],1)],1),a("v-list-item-subtitle",[t._v(t._s(e.message))]),a("v-list-item-subtitle",[t._v(t._s(e.callBackMessage))]),a("v-list-item-subtitle",[t._v(t._s(t._f("moment")(e.startDate,"M/D/YY hh:mm A"))+" ~ "+t._s(t._f("moment")(e.endDate,"M/D/YY hh:mm A")))])],1),a("v-list-item-action",[1!==e.isDefaultStatus?a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.editSchedule(e)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1):t._e()],1)],1):t._e(),s<t.todaySchedules.length-1&&(t.isShowAll||1!==e.isDefaultStatus)?a("v-divider",{key:"line-"+s,staticClass:"my-0"}):t._e()]}))],2):t._e()],1):t._e()},fs=[],ps={name:"ScheduleViewer",props:["isSmall"],data:function(){return{today:null,isShowAll:!0}},computed:Object(b["a"])({},Object(C["c"])(["auth","schedules","todaySchedules"])),watch:{schedules:{handler:function(){this.getTodayDispatchScheduleEvent(this.auth.userID)},deep:!0}},mounted:function(){this.today={year:this.$moment().format("YYYY"),month:this.$moment().format("MMMM"),day:this.$moment().format("D"),week:this.$moment().format("ddd")},this.getTodayDispatchScheduleEvent(this.auth.userID)},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getTodayDispatchScheduleEvent"])),{},{getImageUrl:function(t){var e=this.$statusIconList.filter((function(e){return e.id===t}));return this.$imgLink+e[0].iconURL},editSchedule:function(t){1===t.isDefaultStatus?this.$emit("onlyShow",t):this.$emit("editSchedule",t)},getDate:function(t){var e=this.$moment(t.startDate).format("M/D/YY"),a=this.$moment(t.endDate).format("M/D/YY");return e===a?e:"".concat(e," - ").concat(a)}})},gs=ps,bs=(a("9c49"),Object(l["a"])(gs,vs,fs,!1,null,"8b6f68c8",null)),Cs=bs.exports;u()(bs,{VBtn:j["a"],VCard:N["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VRow:Z["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Ss={name:"ScheduleList",props:{isSmall:{type:Boolean,default:!1}},components:{DispatchStatusEdit:at,ScheduleEventForm:It,ScheduleViewer:Cs,ScheduleToolbar:hs},data:function(){return{loading:!1,selected:null,isShow:!1,isEdit:!0,event:null,isNewStatus:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth","schedules"])),methods:{getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},editSchedule:function(t){this.isShow=!0,this.isEdit=!0,this.event={data:t,id:t.id,dispatchStatusID:t.dispatchStatusID,fromDate:this.$moment(t.startDate).format(ot),fromTime:this.$moment(t.startDate).format(ct),toDate:this.$moment(t.endDate).format(ot),toTime:this.$moment(t.endDate).format(ct)}},createSchedule:function(){this.isShow=!0,this.isEdit=!1;var t=this.$moment().format("mm")>30?30:0;this.event={dispatchStatusID:3,fromDate:this.$moment().format(ot),fromTime:this.$moment().set("minute",t).set("second",0).format(ct),toDate:this.$moment().add(30,"minute").format(ot),toTime:this.$moment(this.$moment().set("minute",t).set("second",0)).add(30,"minute").format(ct)}},close:function(){this.isShow=!1,this.isEdit=!0}}},ks=Ss,xs=(a("c6e5"),Object(l["a"])(ks,os,cs,!1,null,"208f9cca",null)),_s=xs.exports;u()(xs,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VOverlay:U["a"],VProgressCircular:P["a"],VSpacer:Y["a"]});var Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("v-card",[a("ContactToolbar",{attrs:{isSmall:""},on:{loading:t.setLoading}}),a("ContactListContent",{attrs:{isSmall:"",loading:t.loading}}),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-btn",{staticClass:"secondary",on:{click:t.addNewContact}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" ADD CONTACT ")],1),a("v-spacer"),a("v-btn",{staticClass:"secondary pl-4",attrs:{to:"contacts"}},[t._v(" VIEW CONTACTS "),a("v-icon",[t._v("mdi-chevron-right")])],1)],1),a("ContactAddEditForm",{attrs:{isShow:t.isShow,newContact:t.contactInfo,isEdit:!1,isMessage:!1},on:{close:function(e){t.isShow=!1},reCreate:t.addNewContact}})],1):t._e()},ys=[],Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.contactInfo?a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v(t._s(t.isEdit?"mdi-account-edit":"mdi-account-plus"))]),t._v(" "+t._s(t.isEdit?"Edit":"Add")+" Contact ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4 pb-2"},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account",dense:"",label:"First Name",rules:t.required},model:{value:t.contactInfo.firstName,callback:function(e){t.$set(t.contactInfo,"firstName",e)},expression:"contactInfo.firstName"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account",dense:"",label:"Last Name",rules:t.required},model:{value:t.contactInfo.lastName,callback:function(e){t.$set(t.contactInfo,"lastName",e)},expression:"contactInfo.lastName"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email",dense:"",label:"Email",rules:t.emailRule},model:{value:t.contactInfo.email,callback:function(e){t.$set(t.contactInfo,"email",e)},expression:"contactInfo.email"}})],1),a("v-col",{attrs:{sm:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-earth","hide-details":"",dense:"",label:"Address"},model:{value:t.contactInfo.address1,callback:function(e){t.$set(t.contactInfo,"address1",e)},expression:"contactInfo.address1"}})],1),a("v-col",{attrs:{sm:"6",cols:"12"}},[a("v-text-field",{attrs:{"hide-details":"",dense:""},model:{value:t.contactInfo.address2,callback:function(e){t.$set(t.contactInfo,"address2",e)},expression:"contactInfo.address2"}})],1),a("v-col",{attrs:{sm:"4",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-city-variant","hide-details":"",dense:"",label:"City"},model:{value:t.contactInfo.city,callback:function(e){t.$set(t.contactInfo,"city",e)},expression:"contactInfo.city"}})],1),a("v-col",{attrs:{sm:"4",cols:"12"}},[a("v-select",{staticClass:"ma-0",attrs:{"prepend-inner-icon":"mdi-city-variant",items:t.items,"item-text":"name","item-value":"abbreviation","single-line":"","hide-details":"",dense:"",label:"State"},model:{value:t.contactInfo.state,callback:function(e){t.$set(t.contactInfo,"state",e)},expression:"contactInfo.state"}})],1),a("v-col",{attrs:{sm:"4",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-postage-stamp","hide-details":"",dense:"",label:"Zip"},model:{value:t.contactInfo.zip,callback:function(e){t.$set(t.contactInfo,"zip",e)},expression:"contactInfo.zip"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-domain","hide-details":"",dense:"",label:"Company Name"},model:{value:t.contactInfo.companyName,callback:function(e){t.$set(t.contactInfo,"companyName",e)},expression:"contactInfo.companyName"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-cellphone-iphone","hide-details":"",dense:"",label:"Cell Phone Number"},model:{value:t.contactInfo.cellPhone,callback:function(e){t.$set(t.contactInfo,"cellPhone",e)},expression:"contactInfo.cellPhone"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-phone","hide-details":"",dense:"",label:"Business Phone Number"},model:{value:t.contactInfo.homePhone,callback:function(e){t.$set(t.contactInfo,"homePhone",e)},expression:"contactInfo.homePhone"}})],1)],1)],1)],1),t.existContacts.length>0?a("v-divider",{staticClass:"my-0"}):t._e(),t.existContacts.length>0?a("v-card-text",{staticClass:"pb-2"},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-select",{attrs:{items:t.existContacts,"item-value":"id",label:"Selected Contact","hide-details":"","return-object":""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.item;return[a("v-avatar",{staticClass:"mr-2",attrs:{size:"26"}},[a("v-img",{attrs:{src:t.getImageUrl(s.imageURL)}})],1),t._v(" "+t._s(s.firstName)+" "+t._s(s.lastName)+" ")]}},{key:"item",fn:function(e){var s=e.item;return[a("v-avatar",{staticClass:"mr-2",attrs:{size:"26"}},[a("v-img",{attrs:{src:t.getImageUrl(s.imageURL)}})],1),t._v(" "+t._s(s.firstName)+" "+t._s(s.lastName)+" ")]}}],null,!1,2868348284),model:{value:t.selectedContact,callback:function(e){t.selectedContact=e},expression:"selectedContact"}})],1),a("v-col",{attrs:{cols:"auto"}},[t.existContacts.length>0?a("v-btn",{staticClass:"pb-0",attrs:{color:"secondary",loading:t.loadingMerge,disabled:t.loadingMerge},on:{click:t.merge}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Merge ")],1):t._e()],1)],1)],1):t._e(),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),t.isEdit?[a("v-btn",{staticClass:"white--text",attrs:{color:"red",loading:t.loadingDelete,disabled:t.loadingDelete},on:{click:t.deleteContact}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-remove")]),t._v(" Delete ")],1),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.save}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save ")],1)]:[a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.add}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Add ")],1)]],2)],1):t._e()],1)},Is=[],ws={name:"ContactAddEditForm",props:["isShow","newContact","isMessage","isEdit"],data:function(){return{loading:!1,loadingMerge:!1,items:nt,contactInfo:null,existContacts:null,selectedContact:null,loadingDelete:!1,required:[function(t){return!!t||"This field is required"}],emailRule:[function(t){return!!t||"This field is required"},function(t){return/\S+@\S+\.\S+/.test(t)||"This is email field"}]}},watch:{isShow:function(t){t&&(this.contactInfo=this.isEdit?Object(b["a"])({},this.contact):Object(b["a"])({},this.newContact),this.isCheckMerge())}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","contact","contacts"])),{},{userAvatar:function(t){return"".concat(t.$imgLink).concat(t.info.iconURL||t.$avatar)}}),methods:{isCheckMerge:function(){var t=this;this.isMessage||this.isEdit?this.existContacts=this.contacts.filter((function(e){return e.id===t.contactInfo.id||e.firstName===t.contactInfo.firstName||e.lastName===t.contactInfo.lastName||e.email===t.contactInfo.email||t.contactInfo.cellPhone&&e.cellPhone===t.contactInfo.cellPhone})):this.existContacts=Object(Ke["a"])(this.contacts),this.existContacts.length>0&&(this.selectedContact=this.existContacts[0])},getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},close:function(){this.$emit("close")},save:function(){var t=this;this.$refs.form.validate()&&(this.loading=!0,w.editContact(this.contact.id,this.contactInfo).then((function(e){200===e.status&&(t.$root.$emit("getContacts"),t.$store.commit("setContact",e.data),t.close())})).finally((function(){t.loading=!1})))},deleteContact:function(){var t=this;this.loadingDelete=!0,w.deleteContact(this.auth.userID,this.contact.id).then((function(e){200===e.status&&(t.$store.commit("setContact"),t.$root.$emit("getContacts"),t.close())})).finally((function(){t.loadingDelete=!1}))},add:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e={address1:this.contactInfo.address1||null,address2:this.contactInfo.address2||null,callTypesID:this.contactInfo.callTypesID,cellPhone:this.contactInfo.cellPhone||null,city:this.contactInfo.city||null,createdByUsersID:this.auth.userID,email:this.contactInfo.email,firstName:this.contactInfo.firstName,homePhone:this.contactInfo.homePhone||null,lastName:this.contactInfo.lastName,notes:this.contactInfo.notes||null,state:this.contactInfo.state||null,usersID:this.contactInfo.usersID,workPhone:this.contactInfo.workPhone||null,zip:this.contactInfo.zip||null},a=this.contacts.filter((function(t){return t.firstName===e.firstName&&t.lastName===e.lastName&&t.email===e.email&&t.address1===e.address1&&t.address2===e.address2&&t.state===e.state&&t.city===e.city&&t.homePhone===e.homePhone&&t.workPhone===e.workPhone&&t.cellPhone===e.cellPhone})).length>0;a?(this.$root.$emit("snackbar","success","You already have this contact!"),this.close(),this.$root.$emit("getContacts"),setTimeout((function(){t.$emit("reCreate"),t.loading=!1}),1e3)):w.addContact(e).then((function(e){200===e.status&&(t.close(),t.$root.$emit("getContacts"),t.$root.$emit("snackbar","success","New Contact Added."),setTimeout((function(){t.$emit("reCreate")}),1e3))})).finally((function(){t.loading=!1}))}},merge:function(){var t=this;if(this.$refs.form.validate()){this.loadingMerge=!0;var e=Object(b["a"])(Object(b["a"])(Object(b["a"])({},this.selectedContact),this.contactInfo),{},{id:this.selectedContact.id});w.editContact(e.id,e).then((function(e){200===e.status&&(t.$store.commit("setContact",e.data),t.$root.$emit("snackbar","success","Contact Merged."),t.$root.$emit("getContacts"),t.close())})).finally((function(){t.loadingMerge=!1}))}}}},$s=ws,Vs=Object(l["a"])($s,Ts,Is,!1,null,null,null),Ms=Vs.exports;u()(Vs,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDialog:Vt["a"],VDivider:F["a"],VForm:Q["a"],VIcon:L["a"],VImg:R["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[t.isSmall?[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-account")]),t._v(" Contacts ")],1)]:[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-account")]),t._v(" Contacts ")],1),a("v-spacer"),a("v-spacer"),a("v-text-field",{staticClass:"white--text",attrs:{dark:"",color:"white","hide-details":"","single-line":"",label:"Search","append-icon":"mdi-magnify",clearable:""},on:{"click:append":t.getContacts,"click:clear":function(e){return t.getContacts("clear")}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getContacts(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-btn",{staticClass:"mx-0 ml-2",attrs:{icon:"",small:""},on:{click:t.addNewContact}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-plus")])],1)],a("ContactAddEditForm",{attrs:{isShow:t.isShow,newContact:t.contactInfo,isEdit:!1,isMessage:!1},on:{close:function(e){t.isShow=!1},reCreate:t.addNewContact}})],2)},Ns=[],Os=(a("ddb0"),{name:"ContactToolbar",components:{ContactAddEditForm:Ms},props:{isSmall:{type:Boolean,default:!1}},data:function(){return{search:"",isShow:!1,contactInfo:null}},computed:Object(b["a"])({},Object(C["c"])(["auth","contact","contacts"])),mounted:function(){var t=this;this.getContacts(),this.$root.$on("getContacts",(function(){t.getContacts()}))},methods:{getContacts:function(t){var e=this,a="clear"!==t&&this.search&&this.search.length>0?this.search:null;this.$emit("loading",!0),w.searchContact(this.auth.userID,a).then((function(t){if(200===t.status){var a=Qe.a.sortBy(t.data,(function(t){return t.firstName.toLowerCase()}));e.$store.commit("setContacts",a),e.setContact(a)}else e.$store.commit("setContacts",null)})).catch((function(){e.$store.commit("setContacts",null)})).finally((function(){e.$emit("loading",!1)}))},setContact:function(t){var e=this;if(t&&t.length>0)if(this.contactList=Qe.a.groupBy(t,(function(t){return t.firstName.toLowerCase().charAt(0)})),this.keys=Qe.a.keys(this.contactList),this.contact){var a=this.contacts.filter((function(t){return t.id===e.contact.id}));0===a.length&&this.$store.commit("setContact",this.contactList[this.keys[0]][0])}else this.$store.commit("setContact",this.contactList[this.keys[0]][0]);else this.$store.commit("setContact",null)},addNewContact:function(){this.isShow=!0,this.contactInfo={usersID:this.auth.userID,firstName:null,lastName:null,email:null,homePhone:null,cellPhone:null,workPhone:null,notes:null,address1:null,address2:null,city:null,state:null,zip:null,callTypesID:1}}}}),As=Os,Es=Object(l["a"])(As,js,Ns,!1,null,"780c09af",null),Fs=Es.exports;u()(Es,{VBtn:j["a"],VIcon:L["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",{staticClass:"contact-content position-relative pa-0 he-100",class:{small:t.isSmall},staticStyle:{"border-right":"1px solid rgba(0,0,0,.12)"}},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("PerfectScrollbar",{staticClass:"mh-100 he-100"},[!t.loading&&t.keys&&t.keys.length<1?a("h1",{staticClass:"emptyDesc mb-0"},[t._v("No Contacts")]):t._e(),a("v-list",{staticClass:"py-0",attrs:{"two-line":""}},[t._l(t.keys,(function(e,s){return[a("p",{key:s,staticClass:"contact-char mb-0 py-1 px-4 text-uppercase"},[t._v(t._s(e))]),t._l(t.contactList[e],(function(s,i){return[a("v-list-item",{key:e+"-"+i,staticClass:"contact-item",class:{selected:t.contact&&s.id===t.contact.id&&!t.isSmall},on:{click:function(e){return t.goToContact(s)}}},[a("v-list-item-avatar",{staticClass:"mr-2"},[a("v-img",{attrs:{src:t.getImageUrl(s.imageURL)}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"font-weight-bold contact-title mb-2"},[t._v(t._s(s.firstName)+" "+t._s(s.lastName))]),a("v-list-item-subtitle",{staticClass:"text--primary"},[t._v(t._s(s.address1)+" "+t._s(s.address2)+" "+t._s(s.city))])],1)],1),a("v-divider",{key:"line-"+e+i,staticClass:"my-0"})]}))]}))],2)],1)],1)},Rs=[],Us={name:"ContactListContent",props:{isSmall:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data:function(){return{contactList:null,keys:[]}},computed:Object(b["a"])({},Object(C["c"])(["auth","contact","contacts"])),watch:{contacts:{handler:function(){this.setContactListData()},deep:!0}},methods:{getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},setContactListData:function(){this.contactList=Qe.a.groupBy(this.contacts,(function(t){return t.firstName.toLowerCase().charAt(0)})),this.keys=Qe.a.keys(this.contactList)},goToContact:function(t){this.$store.commit("setContact",t),"contacts"!==this.$route.name&&this.$router.push("/contacts")}}},Ps=Us,Ys=(a("2583"),Object(l["a"])(Ps,Ls,Rs,!1,null,"62a3f97c",null)),Bs=Ys.exports;u()(Ys,{VCardText:O["b"],VDivider:F["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VOverlay:U["a"],VProgressCircular:P["a"]});var zs={name:"ContactList",components:{ContactAddEditForm:Ms,ContactListContent:Bs,ContactToolbar:Fs},data:function(){return{isShow:!1,contactInfo:null,loading:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),methods:{setLoading:function(t){this.loading=t},addNewContact:function(){this.isShow=!0,this.contactInfo={usersID:this.auth.userID,firstName:null,lastName:null,email:null,homePhone:null,cellPhone:null,workPhone:null,notes:null,address1:null,address2:null,city:null,state:null,zip:null,callTypesID:1}}}},Hs=zs,Gs=Object(l["a"])(Hs,Ds,ys,!1,null,null,null),Ks=Gs.exports;u()(Gs,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VDivider:F["a"],VIcon:L["a"],VSpacer:Y["a"]});var Ws={name:"home",components:{ContactList:Ks,ScheduleList:_s,TaskList:ns,MessageList:Ra},data:function(){return{isEdit:!1}},methods:{cancel:function(){this.isEdit=!this.isEdit}}},qs=Ws,Js=Object(l["a"])(qs,Pe,Ye,!1,null,"33c5dee8",null),Qs=Js.exports;u()(Js,{VCol:A["a"],VRow:Z["a"]});var Zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12"}},[a("router-view")],1)},Xs=[],ti=(a("5319"),a("4c53"),a("b0af3")),ei=a("c1df"),ai=a.n(ei),si={auth:null,user:null,currentStatus:null,defaultStatus:null,allGroupTextMembers:null,allTeamMembers:null,allTags:null,messages:null,unReadMsgCounter:0,folders:null,tasks:null,contacts:null,contact:null,schedules:null,nextStatus:null,todaySchedules:null,allStatus:null,allStatusMessages:null,allStatusCallbackMessages:null,messageSearchFilter:{searchWords:null,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],folderID:0,isFavorite:null},taskFilter:{},allNotificationSetting:null,isMainTutorial:!1,isMessageTutorial:!1},ii={auth:function(t){return t.auth},user:function(t){return t.user},currentStatus:function(t){return t.currentStatus},defaultStatus:function(t){return t.defaultStatus},allTeamMembers:function(t){return t.allTeamMembers},allGroupTextMembers:function(t){return t.allGroupTextMembers},messages:function(t){return t.messages},unReadMsgCounter:function(t){return t.unReadMsgCounter},folders:function(t){return t.folders},messageSearchFilter:function(t){return t.messageSearchFilter},taskFilter:function(t){return t.taskFilter},tasks:function(t){return t.tasks},contacts:function(t){return t.contacts},contact:function(t){return t.contact},allTags:function(t){return t.allTags},schedules:function(t){return t.schedules},nextStatus:function(t){return t.nextStatus},todaySchedules:function(t){return t.todaySchedules},allStatus:function(t){return t.allStatus},allStatusMessages:function(t){return t.allStatusMessages},allStatusCallbackMessages:function(t){return t.allStatusCallbackMessages},allNotificationSetting:function(t){return t.allNotificationSetting},isMainTutorial:function(t){return t.isMainTutorial},isMessageTutorial:function(t){return t.isMessageTutorial}},ni={getUser:function(t,e){var a=t.commit;w.getUser(e).then((function(t){200===t.status&&t.data.length>0&&a("setUser",t.data[0])})).catch((function(){a("setUser",null)}))},getCurrentStatus:function(t,e){var a=t.commit,s=ai.a.utc(ai()().toISOString()).format(rt).replace(" ","T");w.getCurrentStatus(e,s).then((function(t){if(200===t.status&&t.data.length>0){var e=ai()().format(ot),s=Object(b["a"])({},t.data[0]),i=ai()(t.data[0].startDate),n=ai()(t.data[0].endDate),o=ai()(t.data[0].startDate).format(ct),c=ai.a.duration(n.diff(i)).asMinutes();s.startDate=ai()("".concat(e," ").concat(o)).toISOString(),s.endDate=ai()("".concat(s.startDate)).add(c,"minutes").toISOString(),a("setCurrentStatus",s)}else a("setCurrentStatus",null)})).catch((function(t){console.log(t.messages),a("setCurrentStatus",null)}))},getDefaultStatus:function(t,e){var a=t.commit,s=ai.a.utc(ai()().toISOString()).format(rt).replace(" ","T");w.getDefaultStatus(e,s).then((function(t){200===t.status&&t.data.length>0?a("setDefaultStatus",t.data[0]):a("setDefaultStatus",null)})).catch((function(t){console.log(t.messages),a("setDefaultStatus",null)}))},getAllTags:function(t,e){var a=t.commit;w.getAllTags(e).then((function(t){200===t.status?a("setAllTags",t.data):a("setAllTags",null)})).catch((function(t){console.log(t.messages),a("setAllTags",null)}))},getAllTeamMembers:function(t,e){var a=t.commit;w.getAllTeamMembers(e).then((function(t){200===t.status?a("setAllTeamMembers",Qe.a.orderBy(t.data,"firstName")):a("setAllTeamMembers",null)})).catch((function(t){console.log(t.messages),a("setAllTeamMembers",null)}))},getAllGroupTextMembers:function(t,e){var a=t.commit;w.getAllGroupTextMembers(e).then((function(t){200===t.status?a("setGroupTextMembers",t.data):a("setGroupTextMembers",null)})).catch((function(t){console.log(t.messages),a("setGroupTextMembers",null)}))},getMessages:function(t,e){var a=t.commit;w.getMessages(e).then((function(t){200===t.status?a("setMessages",t.data):a("setMessages",null)})).catch((function(t){console.log(t.messages),a("setMessages",null)}))},getTasks:function(t,e){var a=t.commit;w.getTasks(e).then((function(t){200===t.status?a("setTasks",t.data):a("setTasks",null)})).catch((function(t){console.log(t.messages),a("setTasks",null)}))},getContacts:function(t,e){var a=t.commit,s=e.search.length>0?e.search:null;w.searchContact(e.userID,s).then((function(t){if(200===t.status){var e=Qe.a.orderBy(t.data,["firstName"],["asc"]);a("setContacts",Qe.a.groupBy(e,(function(t){return t.firstName.charAt(0)})))}else a("setContacts",null)})).catch((function(t){console.log(t.messages),a("setContacts",null)}))},getNextStatus:function(t,e){var a=t.commit;w.getNextStatus(e).then((function(t){200===t.status?a("setNextStatus",t.data):a("setNextStatus",null)})).catch((function(t){console.log(t.messages),a("setNextStatus",null)}))},getSchedules:function(t,e){var a=t.commit;w.getSchedules(e).then((function(t){if(200===t.status){var e=t.data.sort((function(t,e){return new Date(t.scheduledFrom)-new Date(e.scheduledFrom)}));a("setSchedules",e)}else a("setSchedules",null)})).catch((function(t){console.log(t.messages),a("setSchedules",null)}))},getTodayDispatchScheduleEvent:function(t,e){var a=t.commit,s=ai()().set("hour",0).set("minute",0).set("second",0).toISOString(),i=ai()().format(ot),n={startDate:ai.a.utc(s).format(rt).replace(" ","T"),endDate:ai.a.utc(s).add(1,"day").format(rt).replace(" ","T")};w.getTodayDispatchScheduleEvent(e,n).then((function(t){if(200===t.status){var e=t.data.sort((function(t,e){return new Date(t.startDate)-new Date(e.startDate)})),s=e.map((function(t){var e=Object(b["a"])({},t),a=ai()(t.startDate),s=ai()(t.endDate),n=ai()(t.startDate).format(ct),o=ai.a.duration(s.diff(a)).asMinutes();return e.startDate=ai()("".concat(i," ").concat(n)).toISOString(),e.endDate=ai()("".concat(e.startDate)).add(o,"minutes").toISOString(),e}));a("setTodaySchedules",s)}else a("setTodaySchedules",null)})).catch((function(t){console.log(t.messages),a("setTodaySchedules",null)}))},getAllStatus:function(t,e){var a=t.commit;w.getAllStatus(e).then((function(t){200===t.status?a("setAllStatus",t.data):a("setAllStatus",null)})).catch((function(t){console.log(t.messages),a("setAllStatus",null)}))},getAllStatusMessages:function(t,e){var a=t.commit;w.getAllStatusMessages(e).then((function(t){200===t.status?a("setAllStatusMessages",t.data):a("setAllStatusMessages",null)})).catch((function(t){console.log(t.messages),a("setAllStatusMessages",null)}))},getAllStatusCallbackMessages:function(t,e){var a=t.commit;w.getAllStatusCallbackMessages(e).then((function(t){200===t.status?a("setAllStatusCallbackMessages",t.data):a("setAllStatusCallbackMessages",null)})).catch((function(t){console.log(t.messages),a("setAllStatusCallbackMessages",null)}))},getAllNotificationSetting:function(t,e){var a=t.commit;w.getAllNotificationSetting(e).then((function(t){200===t.status?a("setAllNotificationSetting",t.data):a("setAllNotificationSetting",null)})).catch((function(t){console.log(t.messages),a("setAllNotificationSetting",null)}))}},oi={setAuth:function(t,e){t.auth=e},setUser:function(t,e){t.user=e||null},setGroupTextMembers:function(t,e){t.allGroupTextMembers=e||null},setAllTeamMembers:function(t,e){t.allTeamMembers=e||null},setAllTags:function(t,e){t.allTags=e||null},setCurrentStatus:function(t,e){t.currentStatus=e||null},setDefaultStatus:function(t,e){t.defaultStatus=e||null},setMessages:function(t,e){t.messages=e||null},setUnreadMessageCounter:function(t,e){t.unReadMsgCounter=e||0},setTasks:function(t,e){t.tasks=e||null},setContacts:function(t,e){t.contacts=e||null},setContact:function(t,e){t.contact=e||null},setFolders:function(t,e){t.folders=e||null},setMessageSearchFilter:function(t,e){t.messageSearchFilter=e},setTaskFilter:function(t,e){t.taskFilter=e||null},setSchedules:function(t,e){t.schedules=e||null},setNextStatus:function(t,e){t.nextStatus=e||null},setTodaySchedules:function(t,e){t.todaySchedules=e||null},setAllStatus:function(t,e){t.allStatus=e||null},setAllStatusMessages:function(t,e){t.allStatusMessages=e||null},setAllStatusCallbackMessages:function(t,e){t.allStatusCallbackMessages=e||null},setAllNotificationSetting:function(t,e){t.allNotificationSetting=e||null},setMainTutorial:function(t,e){t.isMainTutorial=e||!1},setMessageTutorial:function(t,e){t.isMessageTutorial=e||!1},clearAll:function(t){t.auth=null,t.user=null,t.currentStatus=null,t.defaultStatus=null,t.allGroupTextMembers=null,t.allTeamMembers=null,t.allTags=null,t.messages=null,t.unReadMsgCounter=0,t.folders=null,t.tasks=null,t.contacts=null,t.contact=null,t.schedules=null,t.nextStatus=null,t.todaySchedules=null,t.allStatus=null,t.allStatusMessages=null,t.allStatusCallbackMessages=null,t.messageSearchFilter={searchWords:null,endDate:null,startDate:null,sortBy:"dateReceived",searchFields:[],searchTags:[],folderID:0,isFavorite:null},t.taskFilter={},t.allNotificationSetting=null}},ci=a("bfa9"),li=new ci["a"]({key:"answering",storage:window.localStorage}),ri=li;s["default"].use(C["a"]);var ui=new C["a"].Store({state:si,actions:ni,mutations:oi,getters:ii,plugins:[ri.plugin]}),di=ui,mi=!1,hi="https://webappdev.answeringmobile.com",vi="aQXh1e7oKgF0EdEEWi9eZfza4uI8qkL3",fi="https://devapi.answeringmobile.com",pi=new ti["a"].WebAuth({domain:"dev-p2qq100m.auth0.com",clientID:vi,redirectUri:"".concat(hi,"/login"),audience:fi,responseType:"token id_token",scope:"openid profile"}),gi=new s["default"]({computed:{expiresAt:{get:function(){return localStorage.getItem("expires_at")},set:function(t){var e=JSON.stringify(1e3*t+(new Date).getTime());localStorage.setItem("expires_at",e)}},authenticated:{get:function(){return di.state.auth},set:function(t){di.commit("setAuth",t)}}},methods:{login:function(){pi.authorize()},logout:function(){return new Promise((function(t,e){localStorage.removeItem("expires_at"),di.commit("clearAll"),mi&&s["default"].prototype.$mixpanel.track("Logged In",{genre:"hip-hop","duration in seconds":42}),pi.logout({returnTo:"".concat(hi),clientID:vi})}))},isAuthenticated:function(){return(new Date).getTime()<this.expiresAt},handleAuthentication:function(){var t=this;return new Promise((function(e,a){pi.parseHash((function(i,n){n&&n.accessToken&&n.idToken?(t.expiresAt=n.expiresIn,t.authenticated={token:n.accessToken,userID:n.idTokenPayload.sub.replace("auth0|","")},s["default"].axios.defaults.headers.common.Authorization="Bearer ".concat(n.accessToken),w.getUser(n.idTokenPayload.sub.replace("auth0|","")).then((function(t){200===t.status&&t.data.length>0&&(di.commit("setUser",t.data[0]),mi&&(s["default"].prototype.$mixpanel.identify(t.data[0].id),s["default"].prototype.$mixpanel.people.set({$email:t.data[0].email,"Sign up date":ai()().toISOString(),USER_ID:"".concat(t.data[0].firstName," ").concat(t.data[0].lastName),credits:150}),s["default"].prototype.$mixpanel.track("Logged In",{genre:"hip-hop","duration in seconds":42})),e())})).catch((function(){di.commit("setUser",null)}))):i&&(t.logout(),a(i))}))}))}}});s["default"].use(gi);var bi=gi,Ci={mounted:function(){mi&&this.$mixpanel.track("Schedule",{genre:"hip-hop","duration in seconds":42})}},Si=Ci,ki=Object(l["a"])(Si,Zs,Xs,!1,null,null,null),xi=ki.exports;u()(ki,{VCol:A["a"]});var _i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"schedule"},[a("ScheduleToolbar",{attrs:{isSmall:!1},on:{createSchedule:t.createSchedule,createStatus:t.createStatus}}),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12",lg:"12",xl:"6"}},[a("v-card-text",[a("ScheduleViewer",{attrs:{isSmall:!1},on:{editSchedule:t.editSchedule,onlyShow:t.onlyShow}})],1)],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12",xl:"6"}},[a("v-card-text",[a("Calendar",{on:{selectDate:t.selectDate}})],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.isOnlyShow?a("DefaultScheduleForm",{attrs:{item:t.event},on:{close:t.closeDefaultScheduleForm}}):t._e(),!t.isOnlyShow&&t.isNewStatus?a("DispatchStatusEdit",{attrs:{isEdit:!1},on:{close:function(e){t.isFromToolbar?t.close():t.isNewStatus=!1},done:function(e){t.isFromToolbar?t.close():t.isNewStatus=!1}}}):t._e(),t.isOnlyShow||t.isNewStatus?t._e():a("ScheduleEventForm",{attrs:{isShow:t.isShow,isEdit:t.isEdit,isFromDispatch:!1,item:t.event},on:{close:t.close,createStatus:function(e){t.isNewStatus=!0}}})],1)],1)},Di=[],yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("FullCalendar",{ref:"fullCalendar",staticClass:"calendar",attrs:{defaultView:"dayGridMonth",header:t.header,plugins:t.calendarPlugins,weekends:t.calendarWeekends,events:t.calendarEvents,displayEventTime:!1,validRange:t.validRange,selectable:"true",editable:"true"},on:{select:t.selectRange,eventClick:t.clickEvent,eventResize:t.changeEvent,eventDrop:t.changeEvent}})},Ti=[],Ii=a("dc09"),wi=a("88e1"),$i=a("a7c0"),Vi=a("19bc"),Mi=a("f88c"),ji=a("221c"),Ni={name:"Calendar",components:{FullCalendar:Ii["a"]},data:function(t){return{calendarPlugins:[wi["d"],$i["a"],Vi["a"],Mi["a"],ji["a"]],calendarWeekends:!0,header:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listDay"},calendarEvents:[],validRange:{start:t.$moment().format(ot)},isShowAll:!0}},computed:Object(b["a"])({},Object(C["c"])(["auth","schedules"])),watch:{schedules:{handler:function(){this.setEvents()},deep:!0}},mounted:function(){var t=this;this.setEvents(),this.$root.$on("showAllEvents",(function(e){t.isShowAll=e,t.setEvents()}))},methods:{setEvents:function(){var t=this,e=this.schedules;this.isShowAll||(e=this.schedules.filter((function(t){return 1!==t.isDefaultStatus}))),this.calendarEvents=e.map((function(e,a){var s={},i=e.repeatCode?JSON.parse(e.repeatCode):null,n=t.$moment(e.startDate),o=t.$moment(e.endDate);if(s.title="".concat(e.statusName," ").concat(t.$moment(e.startDate).format("hh:mm A")," ~ ").concat(t.$moment(e.endDate).format("hh:mm A")),s.groupId="group ".concat(a+1),s.color=1===e.isDefaultStatus?"#103c65":8===e.dsid?"#2699FB":"red",s.textColor="white",s.data=Object(b["a"])({},e),s.editable=0===e.isDefaultStatus,i&&i.FREQ){var c=t.$moment.duration(o.diff(n)).asMinutes();s.duration="".concat(parseInt(c/60,10)>10?parseInt(c/60,10):"0".concat(parseInt(c/60,10)),":").concat(c%60>10?c%60:"0".concat(c%60)),s.rrule=t.setRepeatEvent(i,e)}else s.start=n.format(rt),s.end=o.format(rt);return s}))},setRepeatEvent:function(t,e){return{freq:t.FREQ,byweekday:t.BYDAY||null,bysetpos:t.BYSETPOS||null,bymonth:parseInt(t.BYMONTH,10)||null,bymonthday:parseInt(t.BYMONTHDAY,10)||null,interval:1,dtstart:this.$moment(e.startDate).format(rt),until:t.UNTIL?this.$moment(t.UNTIL).format(rt):null,count:t.COUNT?parseInt(t.COUNT,10):null}},selectRange:function(t){this.$emit("selectDate",t,!1)},clickEvent:function(t){1===t.event.extendedProps.data.isDefaultStatus?this.$emit("selectDate",t,!0,!1,!0):this.$emit("selectDate",t,!0)},changeEvent:function(t){this.$emit("selectDate",t,!0,!0)}}},Oi=Ni,Ai=(a("e3cc"),Object(l["a"])(Oi,yi,Ti,!1,null,null,null)),Ei=Ai.exports,Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" Status Details ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"pb-0 pt-5 default_schedule_form"},[a("v-row",[a("v-col",[a("v-select",{staticClass:"pa-0",attrs:{items:t.allStatus,"item-text":"statusName","item-value":"dsid",label:"Status","hide-details":"",readonly:""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.item;return[a("v-avatar",{staticClass:"mr-2",attrs:{size:"26"}},[a("v-img",{attrs:{src:t.statusImage(s.takingCalls)}})],1),t._v(" "+t._s(s.statusName)+" ")]}}]),model:{value:t.item.data.dispatchStatusID,callback:function(e){t.$set(t.item.data,"dispatchStatusID",e)},expression:"item.data.dispatchStatusID"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Message To Callers:",rows:"2",readonly:""},model:{value:t.item.data.message,callback:function(e){t.$set(t.item.data,"message",e)},expression:"item.data.message"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-textarea",{attrs:{value:t.getCallbackMessage,label:"When you will return the call:",rows:"2",readonly:""}})],1)],1),a("v-row",{staticClass:"pb-4",attrs:{align:"center"}},[a("v-col",{staticClass:"py-0"},[a("label",[t._v("Start Date")]),a("DatePicker",{staticClass:"primaryText",attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1,disabled:""},model:{value:t.item.fromDate,callback:function(e){t.$set(t.item,"fromDate",e)},expression:"item.fromDate"}})],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("Start Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1,disabled:""},model:{value:t.item.fromTime,callback:function(e){t.$set(t.item,"fromTime",e)},expression:"item.fromTime"}})],1),a("v-col",{staticClass:"pa-0 h-25p",attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"primary",size:"36"}},[t._v("mdi-arrow-right-bold")])],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("End Date")]),a("DatePicker",{attrs:{valueType:"YYYY-MM-DD",format:"MM/DD/YYYY",clearable:!1,editable:!1,disabled:""},model:{value:t.item.toDate,callback:function(e){t.$set(t.item,"toDate",e)},expression:"item.toDate"}})],1),a("v-col",{staticClass:"py-0"},[a("label",[t._v("End Time")]),a("DatePicker",{attrs:{"time-picker-options":t.timePickerOptions,format:"hh:mm A",valueType:"HH:mm:ss",type:"time",clearable:!1,editable:!1,disabled:""},model:{value:t.item.toTime,callback:function(e){t.$set(t.item,"toTime",e)},expression:"item.toTime"}})],1)],1)],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary"},on:{click:t.close}},[t._v("OK")])],1)],1)},Li=[],Ri={name:"DefaultScheduleForm",props:["item"],data:function(){return{timePickerOptions:dt}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","allStatus","allStatusMessages","allStatusCallbackMessages"])),{},{getCallbackMessage:function(){var t=this;return this.allStatusCallbackMessages.filter((function(e){return e.cbid===t.item.data.callBackScriptID}))[0].callBackMessage}}),methods:{close:function(){this.$emit("close")},statusImage:function(t){var e=this.$statusIconList.filter((function(e){return e.id===t}));return this.$imgLink+e[0].iconURL}}},Ui=Ri,Pi=(a("b753"),Object(l["a"])(Ui,Fi,Li,!1,null,null,null)),Yi=Pi.exports;u()(Pi,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VTextarea:Ka["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var Bi={name:"Schedule",components:{DefaultScheduleForm:Yi,DispatchStatusEdit:at,ScheduleEventForm:It,ScheduleViewer:Cs,Calendar:Ei,ScheduleToolbar:hs},data:function(){return{isShow:!1,isEdit:!1,event:null,isChangeEvent:!1,isOnlyShow:!1,isNewStatus:!1,isFromToolbar:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),mounted:function(){this.getSchedules(this.auth.userID)},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getSchedules"])),{},{close:function(){this.isShow=!1,this.isFromToolbar=!1,this.isChangeEvent&&this.schedule.revert()},closeDefaultScheduleForm:function(){var t=this;this.isShow=!1,setTimeout((function(){t.isOnlyShow=!1}),150)},createStatus:function(){this.isShow=!0,this.isEdit=!1,this.isNewStatus=!0,this.isFromToolbar=!0},createSchedule:function(){this.isShow=!0,this.isEdit=!1,this.isNewStatus=!1,this.isFromToolbar=!1;var t=this.$moment().format("mm")>30?30:0;this.event={data:{},dispatchStatusID:3,fromDate:this.$moment().format(ot),fromTime:this.$moment().set("minute",t).set("second",0).format(ct),toDate:this.$moment().add(30,"minute").format(ot),toTime:this.$moment(this.$moment().set("minute",t).set("second",0)).add(30,"minute").format(ct)}},editSchedule:function(t){this.isShow=!0,this.isEdit=!0,this.event={data:t,id:t.id,dispatchStatusID:t.dispatchStatusID,fromDate:this.$moment(t.startDate).format(ot),fromTime:this.$moment(t.startDate).format(ct),toDate:this.$moment(t.endDate).format(ot),toTime:this.$moment(t.endDate).format(ct)}},onlyShow:function(t){this.isOnlyShow=!0,this.schedule=t,this.isEdit=!1,this.isChangeEvent=!1,this.isShow=!0,this.event={data:t,id:t.id,dispatchStatusID:t.dispatchStatusID,fromDate:this.$moment(t.startDate).format(ot),fromTime:this.$moment(t.startDate).format(ct),toDate:this.$moment(t.endDate).format(ot),toTime:this.$moment(t.endDate).format(ct)}},selectDate:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isOnlyShow=s,this.schedule=t,this.isEdit=e,this.isChangeEvent=a,this.isShow=!0,this.isEdit)this.event={data:t.event.extendedProps.data,id:t.event.extendedProps.data.id,dispatchStatusID:t.event.extendedProps.data.dispatchStatusID,fromDate:this.$moment(t.event.start).format(ot),fromTime:this.$moment(t.event.start).format(ct),toDate:this.$moment(t.event.end).format(ot),toTime:this.$moment(t.event.end).format(ct)};else if(t.startStr===this.$moment().format(ot)){var i=this.$moment().format("mm")>30?30:0;this.event={dispatchStatusID:3,fromDate:this.$moment().format(ot),fromTime:this.$moment().set("minute",i).set("second",0).format(ct),toDate:this.$moment().add(30,"minute").format(ot),toTime:this.$moment(this.$moment().set("minute",i).set("second",0)).add(30,"minute").format(ct)}}else this.event={dispatchStatusID:3,fromDate:this.$moment(t.start).format(ot),fromTime:this.$moment(t.start).format(ct),toDate:this.$moment(t.start).add(30,"minute").format(ot),toTime:this.$moment(t.end).add(30,"minute").format(ct)}}})},zi=Bi,Hi=Object(l["a"])(zi,_i,Di,!1,null,"b5853f98",null),Gi=Hi.exports;u()(Hi,{VCard:N["a"],VCardText:O["b"],VCol:A["a"],VDialog:Vt["a"],VRow:Z["a"]});var Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"support"},[a("SupportToolbar"),a("v-card-text",{staticClass:"text-center"},[a("h2",{staticClass:"primaryText text-uppercase"},[t._v("Create New Ticket")])]),a("v-card-text",[a("h6",{staticClass:"mb-0 mt-1 primaryText"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account")]),t._v(" "+t._s(t.user.firstName)+" "+t._s(t.user.lastName)+" ")],1),a("h6",{staticClass:"primaryText mb-6"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-email")]),t._v(" "+t._s(t.user.email)+" ")],1),a("v-select",{attrs:{label:"What can we help you with?",items:t.subjectList,dense:"","hide-details":""},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}}),a("v-textarea",{attrs:{label:"Please describe your issue",rows:"6"},model:{value:t.describe,callback:function(e){t.describe=e},expression:"describe"}})],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading||t.isSent},on:{click:t.submit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" "+t._s(t.isSent?"Sent":"Submit ticket")+" ")],1)],1)],1)},Wi=[],qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:"","extension-height":"128"},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-row",[a("v-col",{staticClass:"text-center pa-0",attrs:{cols:"12"}},[a("v-divider",{staticClass:"mt-0",attrs:{color:"white"}}),a("h6",{staticClass:"mb-2"},[t._v("Have questions? Our team is here to help.")]),a("v-divider",{staticClass:"white mb-0",attrs:{color:"white"}})],1),a("v-col",{staticClass:"text-center px-0 btn",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mx-4",attrs:{color:"secondary",fab:"",outlined:""},on:{click:t.goToFAQ}},[t._v(" FAQ ")]),a("v-btn",{staticClass:"mx-4",attrs:{color:"secondary",fab:"",outlined:""},on:{click:t.goToZendesk}},[a("v-icon",[t._v("mdi-tag-outline")])],1)],1)],1)]},proxy:!0}])},[a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-help-circle")]),t._v(" Support ")],1)],1)},Ji=[],Qi={name:"SupportToolbar",methods:{goToFAQ:function(){window.open("https://www.answeringlegal.com/answering-legal-faq/","_blank")},goToZendesk:function(){window.open("https://answeringlegalhelp.zendesk.com","_blank")}}},Zi=Qi,Xi=(a("7c01"),a("1ce3"),Object(l["a"])(Zi,qi,Ji,!1,null,"0687c81e",null)),tn=Xi.exports;u()(Xi,{VBtn:j["a"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VRow:Z["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var en={components:{SupportToolbar:tn},data:function(){return{loading:!1,subject:"Billing",subjectList:["Billing","Call Forwarding","Account Set Up","Mobile App","Request Cancellation","General Inquiry"],describe:"",isSent:!1}},computed:Object(b["a"])({},Object(C["c"])(["auth","user"])),methods:{submit:function(){var t=this;this.loading=!0;var e={messageID:null,message:this.describe,subject:this.subject,usersID:this.auth.userID};w.sendTicket(e).then((function(e){200===e.status&&(t.$root.$emit("snackbar","success","Ticket Created!"),t.isSent=!0)})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.loading=!1}))}}},an=en,sn=Object(l["a"])(an,Ki,Wi,!1,null,null,null),nn=sn.exports;u()(sn,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VDivider:F["a"],VIcon:L["a"],VSelect:X["a"],VSpacer:Y["a"],VTextarea:Ka["a"]});var on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("v-card",{staticClass:"contacts"},[a("ContactToolbar",{on:{loading:t.setLoading}}),a("v-row",{staticClass:"mx-0 pa-0 contact-body"},[a("v-col",{staticClass:"pa-0 border he-100 d-none d-sm-block",attrs:{cols:t.contacts&&t.contacts.length>0?6:12}},[a("ContactListContent",{attrs:{loading:t.loading}})],1),a("v-col",{staticClass:"d-block d-sm-none h-auto",attrs:{cols:"12"}},[a("ContactListSelectBox")],1),t.contact?a("v-col",{staticClass:"px-0 py-0 he-100",attrs:{cols:"12",sm:"6"}},[a("PerfectScrollbar",{staticClass:"mh-100"},[a("ContactDetails",{staticClass:"pb-2",attrs:{info:t.contact,loading:t.loading}}),a("v-divider",{staticClass:"mb-0"}),a("ContactTask",{attrs:{contactID:t.contact.id}}),a("v-divider",{staticClass:"mb-0"}),a("ContactComment",{attrs:{contactID:t.contact.id}})],1)],1):t._e()],1)],1):t._e()},cn=[],ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.info?a("v-card-text",{staticClass:"py-0"},[a("v-list",{staticClass:"transparent"},[a("v-list-item",{staticClass:"px-0"},[a("v-btn",{staticClass:"upload_contactAvatar primary position-absolute z-index-6",attrs:{"x-small":"",icon:"",dark:"",loading:t.isAvatarLoading},on:{click:t.clickAvatar}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-list-item-avatar",{staticClass:"mr-3",attrs:{size:"60"}},[a("v-img",{attrs:{src:t.userAvatar}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.info.firstName)+" "+t._s(t.info.lastName))]),a("v-list-item-subtitle",[t._v(t._s(t.info.address1)+" "+t._s(t.info.address2)+" "+t._s(t.info.city))])],1),a("v-list-item-action",[a("v-btn",{attrs:{color:"secondary"},on:{click:t.edit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-edit")]),t._v(" Edit ")],1)],1)],1)],1),a("v-list",{staticClass:"transparent px-0 py-0"},[a("v-list-item",[a("v-icon",{attrs:{left:"",large:"",color:"secondary"}},[t._v("mdi-domain")]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"primaryText font-weight-bold"},[t._v(t._s(t.info.companyName))]),a("v-list-item-subtitle",[t._v("Company Name")])],1)],1),a("v-list-item",[a("v-icon",{attrs:{left:"",large:"",color:"secondary"}},[t._v("mdi-cellphone-iphone")]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"primaryText font-weight-bold"},[t._v(t._s(t.info.cellPhone))]),a("v-list-item-subtitle",[t._v("Cell Phone")])],1)],1),a("v-list-item",[a("v-icon",{attrs:{left:"",large:"",color:"secondary"}},[t._v("mdi-phone")]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"primaryText font-weight-bold"},[t._v(t._s(t.info.homePhone))]),a("v-list-item-subtitle",[t._v("Business Phone")])],1)],1)],1),a("ContactAddEditForm",{attrs:{isShow:t.isShow,newContact:null,isEdit:t.isEdit,isMessage:!1},on:{close:function(e){t.isShow=!1}}}),a("input",{ref:"fileInput",staticClass:"d-none",attrs:{type:"file",accept:"image/png, image/jpeg, image/bmp"},on:{change:t.select}})],1):t._e()},rn=[],un={name:"ContactDetails",components:{ContactAddEditForm:Ms},props:["info"],data:function(){return{isShow:!1,isEdit:!0,isAvatarLoading:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","contact"])),{},{userAvatar:function(t){return"".concat(t.$imgLink).concat(t.info.imageURL||t.$avatar)}}),methods:{edit:function(){this.isShow=!0,this.isEdit=!0},clickAvatar:function(){this.$refs.fileInput.click()},select:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){var s=new FileReader;s.readAsDataURL(a[0]),s.addEventListener("load",(function(){e.uploadAvatar(a[0])}))}},uploadAvatar:function(t){var e=this;this.isAvatarLoading=!0,w.uploadContactAvatarImage(this.auth.userID,this.info.id,t).then((function(t){200===t.status&&(e.$store.commit("setContact",Object.assign(e.info,{imageURL:t.data.imageUrl})),e.$root.$emit("getContacts"))})).finally((function(){e.isAvatarLoading=!1}))}}},dn=un,mn=(a("e306"),Object(l["a"])(dn,ln,rn,!1,null,"ab895fe8",null)),hn=mn.exports;u()(mn,{VBtn:j["a"],VCardText:O["b"],VIcon:L["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"]});var vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",{staticClass:"px-3 py-0"},[a("v-card-actions",[a("p",{staticClass:"mb-0 primaryText"},[t._v("Tasks")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",attrs:{small:""},on:{click:t.addTask}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-file-document-box-plus-outline")]),t._v(" Add Task ")],1)],1),a("v-divider",{staticClass:"mb-1 mt-0"}),a("div",{staticClass:"scroll position-relative"},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t._l(t.tasks,(function(e,s){return a("v-card-text",{key:s,staticClass:"pa-0"},[a("p",{staticClass:"task-date text-right px-6 ma-0"},[t._v(t._s(t._f("moment")(e.taskDueDate,"MMM DD, YYYY hh:mm A")))]),a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-1 align-center d-flex"},[1===e.isCompleted?a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"}},[t._v("mdi-check-circle-outline")]):a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"secondary"}},[t._v("mdi-progress-clock")]),t._v(" "+t._s(e.taskDescription)+" ")],1),a("v-col",{staticClass:"pa-1 text-right",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.editTask(e)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.deleteTask(e)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1)],1)],1)],1)}))],2),a("TaskForm",{attrs:{usersID:t.auth.usersID,isShow:t.isShow,isEdit:t.isEdit,task:t.selectTask},on:{close:function(e){t.isShow=!1},reloadTasks:t.getTasks}})],1)},fn=[],pn={name:"ContactTask",components:{TaskForm:qa},props:["contactID"],data:function(){return{isShow:!1,isEdit:!1,selectTask:null,loading:!0,tasks:null}},computed:Object(b["a"])({},Object(C["c"])(["auth","user","allTeamMembers"])),watch:{contactID:function(t){this.getTasks(t)}},mounted:function(){this.getTasks()},methods:{getTasks:function(){var t=this;this.loading=!0,w.getTasksByContact(this.auth.userID,this.contactID).then((function(e){200===e.status&&(t.tasks=e.data),t.loading=!1}))},editTask:function(t){this.selectTask=t,this.isEdit=!0,this.isShow=!0},addTask:function(){this.selectTask={usersID:this.auth.userID,description:"",taskDescription:"",assignedToUsersID:this.user.id,attachedToMessageID:null,reminder:!1,taskDueDate:(new Date).toISOString(),attachedToContactsID:this.contactID},this.isEdit=!1,this.isShow=!0},deleteTask:function(t){var e=this;w.deleteTask(this.auth.userID,t.tsid).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","task deleted")})).finally((function(){e.getTasks()}))}}},gn=pn,bn=(a("09e5"),Object(l["a"])(gn,vn,fn,!1,null,"19691f24",null)),Cn=bn.exports;u()(bn,{VBtn:j["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSpacer:Y["a"]});var Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.contacts?a("div",[a("v-select",{attrs:{value:t.contact,items:t.contacts,chips:"","item-value":"id","return-object":"","hide-details":""},on:{change:t.change},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",t._b({attrs:{"input-value":e.selected}},"v-chip",e.attrs,!1),[a("v-avatar",{attrs:{left:""}},[a("v-img",{attrs:{src:t.getImageUrl(e.item.imageURL)}})],1),t._v(" "+t._s(e.item.firstName)+" "+t._s(e.item.lastName)+" ")],1)]}},{key:"item",fn:function(e){return["object"!==typeof e.item?[a("v-subheader",[t._v(t._s(e.item.key))])]:[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.getImageUrl(e.item.imageURL)}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.item.firstName)+" "+t._s(e.item.lastName))]),a("v-list-item-subtitle",{staticClass:"text--primary"},[t._v(t._s(e.item.address1)+" "+t._s(e.item.address2)+" "+t._s(e.item.city))])],1)]]}}],null,!1,2101467632)})],1):t._e()},kn=[],xn={name:"ContactListSelectBox",data:function(){return{loading:!1,keys:[],selected:null}},computed:Object(b["a"])({},Object(C["c"])(["auth","contact","contacts"])),mounted:function(){this.setContactListData()},methods:{getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)},setContactListData:function(){this.contactList=Qe.a.groupBy(this.contacts,(function(t){return t.firstName.charAt(0)})),this.keys=Qe.a.keys(this.contactList)},change:function(t){this.$store.commit("setContact",t)}}},_n=xn,Dn=Object(l["a"])(_n,Sn,kn,!1,null,"53fce9fc",null),yn=Dn.exports;u()(Dn,{VAvatar:M["a"],VChip:da["a"],VImg:R["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VSelect:X["a"],VSubheader:sa["a"]});var Tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card-text",{staticClass:"px-3 py-0"},[a("v-card-actions",[a("p",{staticClass:"mb-0 primaryText"},[t._v("Comments")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",attrs:{small:""},on:{click:t.addComment}},[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-comment-plus-outline")]),t._v(" Add Comment ")],1)],1),a("v-divider",{staticClass:"mb-1 mt-0"}),a("div",{staticClass:"scroll position-relative"},[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),t._l(t.comments,(function(e,s){return a("v-card-text",{key:s,staticClass:"pa-0"},[a("p",{staticClass:"contact-date text-right px-6 ma-0"},[t._v(t._s(t._f("moment")(e.dateCreated,"MMM DD, YYYY hh:mm A")))]),a("v-row",{staticClass:"ma-0"},[a("v-col",{staticClass:"pa-1 align-center d-flex"},[t._v(" "+t._s(e.comment)+" ")]),a("v-col",{staticClass:"pa-1 text-right",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.editComment(e)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.deleteComment(e)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1)],1)],1)],1)}))],2),a("CommentForm",{attrs:{isShow:t.isShowComment,isEdit:t.isEdit,content:t.selectComment,contactID:t.contactID},on:{close:function(e){t.isShowComment=!1},reloadComments:t.getComments}})],1)},In=[],wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[t._v(" "+t._s(t.isEdit?"Edit":"Add")+" Comment ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("h6",[t._v("Comment")]),a("v-textarea",{attrs:{color:"secondary",rows:"2","hide-details":"",dense:""},on:{keyup:t.updateComment},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),t.isEdit?a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.disable},on:{click:t.editComment}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1):a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.disable},on:{click:t.addComment}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save ")],1)],1)],1)],1)},$n=[],Vn={name:"CommentForm",props:["isShow","isEdit","messageID","contactID","content"],data:function(){return{loading:!1,disable:!0,comment:""}},computed:Object(b["a"])({},Object(C["c"])(["auth","user","allTeamMembers"])),watch:{isShow:function(t){t&&this.isEdit&&(this.comment=this.content.comment)}},methods:{updateComment:function(){this.disable=""===this.comment},addComment:function(){var t=this;this.loading=!0,this.disable=!0;var e={comment:this.comment,attachedToMessagesID:this.messageID||null,attachedToContactsID:this.contactID||null};w.addComment(this.auth.userID,e).then((function(e){200===e.status&&(t.$root.$emit("snackbar","success","created the comment!"),t.$emit("reloadComments"),t.close())}))},editComment:function(){var t=this;this.loading=!0,this.disable=!0;var e={id:this.content.cmtid,comment:this.comment,attachedToMessagesID:this.messageID||null,attachedToContactsID:this.contactID||null};w.updateComment(this.auth.userID,e).then((function(e){200===e.status&&(t.$root.$emit("snackbar","success","updated the comment"),t.$emit("reloadComments"),t.close())}))},close:function(){this.comment="",this.loading=!1,this.disable=!0,this.$emit("close")}}},Mn=Vn,jn=Object(l["a"])(Mn,wn,$n,!1,null,null,null),Nn=jn.exports;u()(jn,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VSpacer:Y["a"],VTextarea:Ka["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var On={name:"ContactComment",components:{CommentForm:Nn},props:["contactID"],data:function(){return{isShowComment:!1,isEdit:!1,selectComment:null,comments:"",loading:!0}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),watch:{contactID:function(){this.getComments()}},mounted:function(){this.getComments()},methods:{getComments:function(){var t=this;this.loading=!0,w.getContactComments(this.auth.userID,this.contactID).then((function(e){200===e.status&&(t.loading=!1,t.comments=e.data)}))},addComment:function(){this.isEdit=!1,this.isShowComment=!0},editComment:function(t){this.isEdit=!0,this.isShowComment=!0,this.selectComment=t},deleteComment:function(t){var e=this;w.deleteComment(this.auth.userID,t.cmtid).then((function(a){200===a.status&&(e.$root.$emit("snackbar","success",'"'.concat(t.comment,' "comment deleted!')),e.getComments())}))}}},An=On,En=(a("8104"),Object(l["a"])(An,Tn,In,!1,null,"18e65778",null)),Fn=En.exports;u()(En,{VBtn:j["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSpacer:Y["a"]});var Ln={name:"Contacts",components:{ContactComment:Fn,ContactListSelectBox:yn,ContactTask:Cn,ContactDetails:hn,ContactListContent:Bs,ContactToolbar:Fs},data:function(){return{comments:[],isShowComment:!1,loading:!0}},computed:Object(b["a"])({},Object(C["c"])(["auth","contact","contacts"])),mounted:function(){mi&&this.$mixpanel.track("Contacts",{genre:"hip-hop","duration in seconds":42})},methods:{setLoading:function(t){this.loading=t}}},Rn=Ln,Un=(a("5dea"),Object(l["a"])(Rn,on,cn,!1,null,"f8a75ff4",null)),Pn=Un.exports;u()(Un,{VCard:N["a"],VCol:A["a"],VDivider:F["a"],VRow:Z["a"]});var Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12"}},[a("TaskList")],1)},Bn=[],zn={components:{TaskList:ns},mounted:function(){mi&&this.$mixpanel.track("Tasks",{genre:"hip-hop","duration in seconds":42})}},Hn=zn,Gn=Object(l["a"])(Hn,Yn,Bn,!1,null,null,null),Kn=Gn.exports;u()(Gn,{VCol:A["a"]});var Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12"}},[a("router-view")],1)},qn=[],Jn={mounted:function(){mi&&this.$mixpanel.track("Messages",{genre:"hip-hop","duration in seconds":42})}},Qn=Jn,Zn=Object(l["a"])(Qn,Wn,qn,!1,null,null,null),Xn=Zn.exports;u()(Zn,{VCol:A["a"]});var to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.message?a("v-card",{staticClass:"messageContent"},[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-btn",{staticClass:"mx-0",attrs:{icon:"",small:"",to:"/messages"}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-arrow-left")])],1),a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center"},[t._v(" "+t._s(t.message.firstName)+" "+t._s(t.message.lastName)+" ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",small:""},on:{click:function(e){return t.prevMsg()}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-chevron-left")])],1),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",small:""},on:{click:function(e){return t.nextMsg()}}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-chevron-right")])],1)],1),a("PerfectScrollbar",{staticClass:"message-body"},[a("v-row",{staticClass:"mx-0",staticStyle:{height:"30%"}},[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Caller Information")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",attrs:{disabled:t.isDisableAddContactButton},on:{click:t.addContact}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" Add Contact ")],1),a("v-btn",{staticClass:"secondary",attrs:{disabled:t.isTicketSent},on:{click:function(e){t.isCreateTicket=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-ticket")]),t._v(" "+t._s(t.isTicketSent?"Ticket Created":"Create Ticket")+" ")],1),a("v-btn",{staticClass:"secondary",attrs:{loading:t.loadingAppointment,disabled:t.loadingAppointment},on:{click:t.setAppointment}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-account")]),t._v(" "+t._s(1===t.message.setAppointment?t.getBtnName(t.message):"Set Appointment")+" ")],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pb-0"},[a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("DATE RECEIVED: ")]),t._v(t._s(t._f("moment")(t.message.dateOfCall,"MM/DD/YY hh:mm A")))]),a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("CALLER NAME: ")]),t._v(t._s(t.message.firstName)+" "+t._s(t.message.lastName))]),a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("PHONE: ")]),t._v(t._s(t.message.phone))]),a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("EMAIL: ")]),t._v(t._s(t.message.email)+" "),a("v-btn",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.message.email,expression:"message.email",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{icon:"",flab:"",small:""}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-content-copy")])],1)],1),a("p",[a("span",{staticClass:"font-weight-bold"},[t._v("NEW CLIENT? : ")]),t._v(t._s(0===t.message.newClient?"No":"Yes"))])]),a("v-col",{staticClass:"text-center justify-end align-center",attrs:{cols:"auto"}},[a("v-avatar",{staticClass:"nav_avatar",attrs:{size:"56"}},[a("v-img",{attrs:{src:t.userIcon}})],1),a("p",{staticClass:"pt-2"},[t._v(t._s(t.message.longName))])],1)],1),a("v-divider",{staticClass:"mt-0"}),a("v-row",t._l(t.message.questions,(function(e,s){return a("v-col",{key:s,staticClass:"py-0",attrs:{cols:"6"}},[a("p",{key:s,staticClass:"mb-1"},[a("span",{staticClass:"font-weight-bold"},[t._v(t._s(e.question))]),t._v(" "+t._s(e.answer))])])})),1)],1)],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Message")])]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("p",[t._v(t._s(t.message.message))])])],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Tasks")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",on:{click:t.addTask}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file-document-box-plus-outline")]),t._v(" Add Task ")],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"position-relative"},[a("v-overlay",{attrs:{value:t.isLoadingTasks,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"24"}})],1),t._l(t.tasks,(function(e,s){return[a("v-row",{key:s,staticClass:"mb-2"},[a("v-col",{staticClass:"task-content align-center d-flex px-2 py-2 border position-relative"},[1===e.isCompleted?a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green"}},[t._v("mdi-check-circle-outline ")]):a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"secondary"}},[t._v("mdi-progress-clock")]),a("span",{staticClass:"task-due-date position-absolute"},[t._v(t._s(t._f("moment")(e.taskDueDate,"MMM DD, YYYY hh:mm A")))]),t._v(" "+t._s(e.taskDescription)+" ")],1),a("v-col",{staticClass:"mr-auto pa-2",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.deleteTask(e)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1),a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.editTask(e)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1)],1)],1)]}))],2)],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Tags")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",on:{click:function(e){t.isShowTag=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag-plus")]),t._v(" Add Tag ")],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"position-relative"},[a("v-overlay",{attrs:{value:t.isLoadingTags,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"24"}})],1),t._l(t.tags,(function(e,s){return[a("v-chip",{key:s,staticClass:"mr-2",attrs:{close:""},on:{"click:close":function(a){return t.deleteTag(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-tag")]),a("strong",[t._v(t._s(e.tags))])],1)]}))],2)],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Comments")]),a("v-spacer"),a("v-btn",{staticClass:"secondary",on:{click:function(e){return t.addComment()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-comment-plus-outline")]),t._v(" Add Comment ")],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"position-relative"},[a("v-overlay",{attrs:{value:t.isLoadingComments,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"24"}})],1),t._l(t.comments,(function(e,s){return[a("v-row",{key:s,staticClass:"mb-2"},[a("v-col",{staticClass:"task-content align-center d-flex px-2 py-0 border position-relative"},[a("span",{staticClass:"task-due-date position-absolute"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName)+" - "+t._s(t._f("moment")(e.dateCreated,"MMM DD, YYYY hh:mm A")))]),t._v(" "+t._s(e.comment)+" ")]),a("v-col",{staticClass:"mr-auto px-2 py-0",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.deleteComment(e)}}},[a("v-icon",{attrs:{small:"",color:"red"}},[t._v("mdi-delete")])],1),a("v-btn",{attrs:{icon:"",flab:"",small:""},on:{click:function(a){return t.editComment(e)}}},[a("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("mdi-pencil")])],1)],1)],1)]}))],2)],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-card-actions",[a("h5",{staticClass:"mb-0 message-title"},[t._v("Call Details")]),a("v-spacer")],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"pb-0"},[t._v("Message ID: "+t._s(t.message.ctiMessageID||t.message.id))]),a("v-card-text",{staticClass:"py-0"},[t._v("Caller ID: "+t._s(t.message.callerID))]),a("v-card-text",{staticClass:"pt-0"},[t._v("Receptionist ID: "+t._s(t.message.ctiReceptionistID))])],1)],1)],1),a("ContactAddEditForm",{attrs:{isShow:t.isShowContact,newContact:t.contactInfo,isEdit:!1,isMessage:!0},on:{close:function(e){t.isShowContact=!1}}}),a("Tags",{attrs:{isShow:t.isShowTag,userID:t.auth.userID,messageID:[t.message.id]},on:{close:function(e){t.isShowTag=!1},reloadTags:t.getTags}}),a("TaskForm",{attrs:{usersID:t.auth.usersID,isShow:t.isShowTask,isEdit:t.isEditTask,task:t.selectTask},on:{close:function(e){t.isShowTask=!1},reloadTasks:t.getTasks}}),a("CommentForm",{attrs:{isShow:t.isShowComment,isEdit:t.isEditComment,messageID:t.message.id,content:t.selectComment},on:{close:function(e){t.isShowComment=!1},reloadComments:t.getComments}}),a("CreateTicket",{attrs:{isShow:t.isCreateTicket,message:t.message},on:{sent:t.sentTicket,close:function(e){t.isCreateTicket=!1}}})],1):t._e()},eo=[],ao=(a("c740"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("v-dialog",{attrs:{persistent:"","max-width":"540"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"m-auto d-flex justify-center ml-6"},[a("v-icon",{attrs:{left:"",color:"white"}},[t._v("mdi-help-circle")]),t._v(" Create New Ticket ")],1),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.close}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),a("v-card-text",{staticClass:"py-4"},[a("h6",{staticClass:"mt-1 primaryText"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account")]),t._v(" "+t._s(t.message.firstName)+" "+t._s(t.message.lastName)+" ")],1),a("h6",{staticClass:"primaryText mb-7"},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-email")]),t._v(" "+t._s(t.message.email)+" ")],1),a("v-text-field",{attrs:{label:"Subject",value:"Issue regarding message ID# "+(t.message.ctiMessageID||t.message.id),disabled:"",readonly:"",dense:""}}),a("v-textarea",{attrs:{label:"Please describe your issue",rows:"6",dense:"","hide-details":""},model:{value:t.describe,callback:function(e){t.describe=e},expression:"describe"}})],1),a("v-divider",{staticClass:"my-0"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.submit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" Send ")],1)],1)],1)],1):t._e()}),so=[],io={name:"CreateTicket",props:["isShow","message"],data:function(){return{loading:!1,describe:""}},computed:Object(b["a"])({},Object(C["c"])(["auth"])),methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.loading=!0;var e={messageID:this.message.ctiMessageID||this.message.id,message:this.describe,subject:"Issue regarding message ID# ".concat(this.message.id),usersID:this.auth.userID};w.sendTicket(e).then((function(e){200===e.status&&(t.$root.$emit("snackbar","success","Ticket Created!"),t.$emit("sent"))})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.loading=!1}))}}},no=io,oo=(a("a303"),Object(l["a"])(no,ao,so,!1,null,"621a0d1b",null)),co=oo.exports;u()(oo,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VDialog:Vt["a"],VDivider:F["a"],VIcon:L["a"],VSpacer:Y["a"],VTextField:tt["a"],VTextarea:Ka["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var lo={name:"MessageContent",components:{ContactAddEditForm:Ms,CreateTicket:co,CommentForm:Nn,TaskForm:qa,Tags:Ma},data:function(){return{loadingAppointment:!1,message:null,tags:null,tasks:null,isShowTag:!1,isShowTask:!1,isEditTask:!1,selectTask:null,isShowContact:!1,contactInfo:null,isDisableAddContactButton:!1,comments:[],selectComment:null,isShowComment:!1,isEditComment:!1,isCreateTicket:!1,isTicketSent:!1,isLoadingTasks:!1,isLoadingTags:!1,isLoadingComments:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","user","messages","allTeamMembers"])),{},{userIcon:function(t){return t.$imgLink+(t.message.iconURL||t.$avatar)}}),watch:{"$route.params.id":function(){this.getInformation()}},mounted:function(){var t=this;this.$root.$emit("getCounter");var e=this.messages.filter((function(e){return e.id===Number(t.$route.params.id)}));e.length>0&&(this.message=Object(b["a"])({},e[0])),this.isDisableAddContactButton=1===this.message.isContact,this.message&&1!==this.message&&w.setMarkRead(this.auth.userID,this.message.id.toString()),this.getTags(),this.getTasks(),this.getComments(),this.$root.$on("addContacts",(function(){t.isDisableAddContactButton=!0}))},methods:{getBtnName:function(t){if(null===t.followUp&&null===t.resultAppointment)return"Sent";if(null===t.resultAppointment){var e=t.followUp.length-1;return t.followUp["followUp".concat(e)]}return this.$moment(t.resultAppointment).format("MM/DD/YYYY h:mm a")},getInformation:function(){var t=this;this.$root.$emit("getCounter");var e=this.messages.filter((function(e){return e.id===Number(t.$route.params.id)}));e.length>0&&(this.message=Object(b["a"])({},e[0])),this.isDisableAddContactButton=1===this.message.isContact,this.message&&1!==this.message&&w.setMarkRead(this.auth.userID,this.message.id.toString()),this.getTags(),this.getTasks(),this.getComments()},prevMsg:function(){var t=this,e=this.messages.findIndex((function(e){return e.id===Number(t.$route.params.id)}))-1;-1===e&&(e=this.messages.length-1),this.$router.push("/messages/".concat(this.messages[e].id))},nextMsg:function(){var t=this,e=this.messages.findIndex((function(e){return e.id===Number(t.$route.params.id)}))+1;e===this.messages.length&&(e=0),this.$router.push("/messages/".concat(this.messages[e].id))},onCopy:function(){this.$root.$emit("snackbar","success","Copy to Clipboard!")},addContact:function(){this.isShowContact=!0,this.contactInfo={usersID:this.auth.userID,firstName:this.message.firstName||null,lastName:this.message.lastName||null,email:this.message.email||null,homePhone:null,cellPhone:this.message.phone||null,workPhone:null,notes:null,address1:null,address2:null,city:null,state:null,zip:null,callTypesID:this.message.callTypesID||null}},setAppointment:function(){var t=this;this.loadingAppointment=!0,w.setAppointment(this.auth.userID,this.message.id).then((function(e){200===e.status&&(t.message.setAppointment=1,t.loadingAppointment=!1)}))},getTags:function(){var t=this;this.isLoadingTags=!0,w.getTags(this.message.id.toString()).then((function(e){200===e.status&&(t.tags=e.data)})).finally((function(){t.isLoadingTags=!1}))},deleteTag:function(t){var e=this;w.deleteTag(t.tagID.toString()).then((function(a){200===a.status&&(e.tags.splice(e.tags.indexOf(t),1),e.tags=Object(Ke["a"])(e.tags))}))},getTasks:function(){var t=this;this.isLoadingTasks=!0,w.getTasksByMessage(this.auth.userID,this.message.id.toString()).then((function(e){200===e.status&&(t.tasks=e.data)})).finally((function(){t.isLoadingTasks=!1}))},editTask:function(t){this.selectTask=t,this.isShowTask=!0,this.isEditTask=!0},addTask:function(){this.selectTask={usersID:this.auth.userID,description:"",taskDescription:"",assignedToUsersID:this.user.id,attachedToMessageID:this.message.id.toString(),taskDueDate:(new Date).toISOString(),isCompleted:!1},this.isShowTask=!0,this.isEditTask=!1},deleteTask:function(t){var e=this;w.deleteTask(this.auth.userID,t.tsid).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","task deleted")})).finally((function(){e.getTasks()}))},getComments:function(){var t=this;this.isLoadingComments=!0,w.getMessageComments(this.auth.userID,this.message.id).then((function(e){200===e.status&&(t.comments=e.data)})).finally((function(){t.isLoadingComments=!1}))},addComment:function(){this.isShowComment=!0,this.isEditComment=!1},editComment:function(t){this.selectComment=t,this.isShowComment=!0,this.isEditComment=!0},deleteComment:function(t){var e=this;w.deleteComment(this.auth.userID,t.cmtid).then((function(a){200===a.status&&(e.$root.$emit("snackbar","success",'"'.concat(t.comment,' "comment deleted!')),e.getComments())}))},sentTicket:function(){this.isCreateTicket=!1,this.isTicketSent=!0}}},ro=lo,uo=(a("7b6d"),Object(l["a"])(ro,to,eo,!1,null,"09d222fa",null)),mo=uo.exports;u()(uo,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VChip:da["a"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VImg:R["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSpacer:Y["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"px-4"},[a("v-col",{attrs:{cols:"12"}},[a("GroupText")],1),a("v-col",{attrs:{cols:"12"}},[a("Integrations")],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center"},[t._v(" Notification Dashboard ")])],1),a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-row",{staticClass:"px-3"},[a("v-col",{attrs:{sm:"12",md:"4",cols:"12"}},[a("MessageNotificationForm")],1),a("v-col",{attrs:{sm:"12",md:"4",cols:"12"}},[a("TaskNotificationForm")],1),a("v-col",{attrs:{sm:"12",md:"4",cols:"12"}},[a("ScheduleNotificationForm"),a("SupportNotificationForm")],1)],1)],1)],1)],1)},vo=[],fo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[s("v-spacer"),s("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[t._v(" Integrations ")]),s("v-spacer")],1),s("v-divider",{staticClass:"ma-0"}),s("v-form",{ref:"integrationForm",staticClass:"py-0 px-4"},[s("v-row",{attrs:{align:"center"}},[s("v-col",{attrs:{sm:"auto",cols:"12"}},[s("v-img",{attrs:{src:a("0aeb"),width:"250",contain:""}})],1),s("v-col",[s("v-text-field",{attrs:{label:"Shared Secret",rules:t.required,readonly:!t.isEditable},model:{value:t.formstackHashKey,callback:function(e){t.formstackHashKey=e},expression:"formstackHashKey"}})],1),s("v-col",[s("v-text-field",{attrs:{label:"HMAC Key",rules:t.required,readonly:!t.isEditable},model:{value:t.formstackHmacKey,callback:function(e){t.formstackHmacKey=e},expression:"formstackHmacKey"}})],1),s("v-col",{attrs:{sm:"auto",cols:"12"}},[s("v-row",{attrs:{align:"center",justify:"center"}},[!t.isEdit&&t.user.formstackHashKey&&t.user.formstackHashKey.length>0&&t.user.formstackHmacKey&&t.user.formstackHmacKey.length>0?s("v-col",{attrs:{cols:"auto"}},[s("v-btn",{attrs:{icon:"",color:"secondary"},on:{click:function(e){t.isEdit=!0,t.isEditable=!0}}},[s("v-icon",[t._v("mdi-pencil")])],1),s("v-btn",{attrs:{icon:"",color:"red",loading:t.loading,disabled:t.loading},on:{click:t.deleteKey}},[s("v-icon",[t._v("mdi-delete")])],1)],1):t._e(),null===t.user.formstackHashKey&&null===t.user.formstackHmacKey?s("v-col",{staticClass:"text-center",attrs:{sm:"auto",cols:"6"}},[s("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:t.save}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save ")],1)],1):t._e(),t.isEdit?s("v-col",{attrs:{cols:"auto"}},[s("v-btn",{staticClass:"mr-4",attrs:{color:"secondary",loading:t.isEditLoading,disabled:t.isEditLoading},on:{click:t.editKey}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update ")],1),s("v-btn",{staticClass:"white--text",attrs:{color:"red",loading:t.loading,disabled:t.loading},on:{click:t.cancel}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),t._v(" Close ")],1)],1):t._e()],1)],1)],1)],1)],1)},po=[],go={name:"Integrations",data:function(){return{loading:!1,formstackHashKey:null,formstackHmacKey:null,isEdit:!1,isEditable:!0,isEditLoading:!1,required:[function(t){return!!t||"This field is required"}]}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth","user"])),{},{statusIcon:function(t){var e=t.$statusIconList.filter((function(e){return e.id===t.takingCalls}));return t.$imgLink+e[0].iconURL}}),mounted:function(){this.formstackHashKey=this.user.formstackHashKey,this.formstackHmacKey=this.user.formstackHmacKey,this.isEditable=null===this.formstackHashKey&&null===this.formstackHmacKey},methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getUser"])),{},{cancel:function(){this.isEdit=!1,this.isEditable=!1,this.formstackHashKey=this.user.formstackHashKey,this.formstackHmacKey=this.user.formstackHmacKey},save:function(){var t=this;this.$refs.integrationForm.validate()&&(this.loading=!0,w.addUserHashKey(this.auth.userID,this.formstackHashKey,this.formstackHmacKey).then((function(e){200===e.status?(t.$root.$emit("snackbar","success","Add User Hash Key!"),t.getUser(t.auth.userID)):t.$root.$emit("snackbar","error","".concat(e.status," error"))})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.loading=!1})))},editKey:function(){var t=this;this.$refs.integrationForm.validate()&&(this.isEditLoading=!0,w.addUserHashKey(this.auth.userID,this.formstackHashKey,this.formstackHmacKey).then((function(e){200===e.status?(t.$root.$emit("snackbar","success","Updated User Hash Key!"),t.getUser(t.auth.userID)):t.$root.$emit("snackbar","error","".concat(e.status," error"))})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.isEditLoading=!1,t.isEditable=!1,t.isEdit=!1})))},deleteKey:function(){var t=this;this.loading=!0,w.deleteUserHashKey(this.auth.userID).then((function(e){200===e.status?(t.$root.$emit("snackbar","success","Deleted User Hash Key!"),t.getUser(t.auth.userID),t.formstackHashKey=null,t.formstackHmacKey=null):t.$root.$emit("snackbar","error","".concat(e.status," error"))})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.loading=!1,t.isEditable=!0,t.isEdit=!1}))}})},bo=go,Co=Object(l["a"])(bo,fo,po,!1,null,null,null),So=Co.exports;u()(Co,{VBtn:j["a"],VCard:N["a"],VCol:A["a"],VDivider:F["a"],VForm:Q["a"],VIcon:L["a"],VImg:R["a"],VRow:Z["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"primary text-white z-index-1 position-relative",attrs:{dense:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"ma-auto d-flex justify-center ml-6"},[t._v(" Group Text Members ")]),a("v-spacer"),a("v-btn",{staticClass:"mx-0",attrs:{icon:"",text:"",small:""},on:{click:t.addMember}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-multiple-plus")])],1)],1),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"pa-0"},[t.isAddForm?[a("v-form",{ref:"addFrom",staticClass:"pt-4 px-4"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"pt-0 font-weight-bold text--primary",attrs:{cols:"12"}},[t._v("Create Group Text Member")]),a("v-col",{staticClass:"pt-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{staticClass:"pt-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Phone Number",rules:t.required,type:"number",maxlength:"11"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-col",{staticClass:"text-right py-0",attrs:{cols:"4"}},[a("v-btn",{staticClass:"mx-1",on:{click:t.closeAddForm}},[t._v("Cancel")]),a("v-btn",{staticClass:"mx-1",attrs:{loading:t.loading,disabled:t.loading,color:"primary"},on:{click:t.add}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Add ")],1)],1)],1)],1),a("v-divider",{staticClass:"ma-0"})]:t._e(),a("v-list",{attrs:{dense:""}},[t._l(t.allGroupTextMembers,(function(e,s){return[[a("v-list-item",{key:"list_"+s},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"contact-title text-capitalize"},[a("h6",[t._v(t._s(e.name))])]),a("v-list-item-subtitle",{staticClass:"text--primary"},[t._v("Phone: "+t._s(e.phone))])],1),a("v-list-item-action",[a("v-row",[a("v-col",{staticClass:"pa-0"},[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(a){return t.editMember(e,s)}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-edit")])],1)],1),a("v-col",{staticClass:"py-0"},[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(a){return t.deleteMember(e)}}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-delete")])],1)],1)],1)],1)],1)],[t.opened===s?a("GroupTextEdit",{key:"form_"+s,attrs:{info:e},on:{close:t.closeEdit}}):t._e()],s+1<t.allGroupTextMembers.length?a("v-divider",{key:s,staticClass:"ma-0"}):t._e()]}))],2)],2)],1)},xo=[],_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",staticClass:"pa-0"},[a("v-row",{staticClass:"align-center",attrs:{justify:"center"}},[a("v-col",{staticClass:"pb-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.member.name,callback:function(e){t.$set(t.member,"name",e)},expression:"member.name"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Phone Number",rules:t.required},model:{value:t.member.phone,callback:function(e){t.$set(t.member,"phone",e)},expression:"member.phone"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"2"}},[a("v-btn",{staticClass:"mx-1",attrs:{small:"",icon:"",loading:t.loading,disabled:t.loading,color:"primary"},on:{click:t.update}},[a("v-icon",[t._v("mdi-content-save")])],1),a("v-btn",{staticClass:"mx-1",attrs:{small:"",icon:""},on:{click:t.cancel}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1)],1)},Do=[],yo={name:"GroupTextEdit",props:["info"],data:function(){return{isEditForm:!1,loading:!1,name:null,phone:null,member:{},required:[function(t){return!!t||"Phone Number is required"}]}},watch:{info:{handler:function(){this.member=Object(b["a"])({},this.info)},deep:!0}},mounted:function(){this.member=Object(b["a"])({},this.info)},computed:Object(b["a"])({},Object(C["c"])(["auth","allGroupTextMembers"])),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getAllGroupTextMembers"])),{},{update:function(){var t=this;if(this.$refs.form.validate()){this.loading=!0;var e={name:this.member.name,phone:this.member.phone,groupTextID:this.member.id};w.editGroupTextMember(this.auth.userID,e).then((function(e){200===e.status&&t.getAllGroupTextMembers(t.auth.userID)})).finally((function(){t.loading=!1,t.cancel()}))}},cancel:function(){this.$emit("close")}})},To=yo,Io=Object(l["a"])(To,_o,Do,!1,null,"702992d4",null),wo=Io.exports;u()(Io,{VBtn:j["a"],VCol:A["a"],VForm:Q["a"],VIcon:L["a"],VRow:Z["a"],VTextField:tt["a"]});var $o={name:"GroupText",components:{GroupTextEdit:wo},data:function(){return{isAddForm:!1,isEdit:!1,loading:!1,name:null,phone:null,opened:null,required:[function(t){return!!t||"Phone number is required"}]}},computed:Object(b["a"])({},Object(C["c"])(["auth","allGroupTextMembers"])),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])(["getAllGroupTextMembers"])),{},{addMember:function(){this.name=null,this.phone=null,this.isAddForm=!0,this.isEdit=!1,this.opened=null},closeAddForm:function(){this.name=null,this.phone=null,this.isAddForm=!1,this.isEdit=!1,this.opened=null},add:function(){var t=this;if(this.$refs.addFrom.validate()){this.loading=!0;var e={usersID:this.auth.userID,name:this.name,phone:this.phone};w.addGroupTextMember(e).then((function(e){200===e.status&&t.getAllGroupTextMembers(t.auth.userID),t.isAddForm=!1,t.loading=!1}))}},editMember:function(t,e){this.isAddForm=!1,this.isEdit=!0,this.opened=e},closeEdit:function(){this.isEdit=!1,this.opened=null},deleteMember:function(t){var e=this;w.deleteGroupTextMember(this.auth.userID,t.id).then((function(t){200===t.status&&e.getAllGroupTextMembers(e.auth.userID)}))}})},Vo=$o,Mo=Object(l["a"])(Vo,ko,xo,!1,null,"2b2e848b",null),jo=Mo.exports;u()(Mo,{VBtn:j["a"],VCard:N["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VForm:Q["a"],VIcon:L["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"],VRow:Z["a"],VSpacer:Y["a"],VTextField:tt["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[t._v(" Tasks Notification ")]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("h5",{staticClass:"mb-0 primaryText"},[t._v("My Tasks")])])],1),a("v-divider"),a("v-row",t._l(t.myTaskNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)})),1),a("v-row",{staticClass:"pt-4"},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("h5",{staticClass:"mb-0 primaryText"},[t._v("Tasks assigned to other users")])])],1),a("v-divider"),a("v-row",t._l(t.otherTaskNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)})),1)],1)],1)},Oo=[],Ao={name:"TaskNotificationForm",data:function(){return{isAll:!0,myTaskNotifications:[],otherTaskNotifications:[]}},computed:Object(b["a"])({},Object(C["c"])(["auth","allNotificationSetting"])),mounted:function(){this.myTaskNotifications=this.allNotificationSetting.filter((function(t){return"My Tasks"===t.type})),this.otherTaskNotifications=this.allNotificationSetting.filter((function(t){return"Task assigned to other users"===t.type}))},methods:{changeNotification:function(t){var e=this;w.updateNotification(this.auth.userID,{typeNotificationID:t.typeNotificationID,isStatusOn:t.isStatusOn?1:0}).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","Updated the Notification Setting!")})).catch((function(t){e.$root.$emit("snackbar","error",t.message)}))}}},Eo=Ao,Fo=a("b73d"),Lo=Object(l["a"])(Eo,No,Oo,!1,null,"841039c8",null),Ro=Lo.exports;u()(Lo,{VCard:N["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:A["a"],VDivider:F["a"],VRow:Z["a"],VSwitch:Fo["a"]});var Uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[t._v(" Schedule Notification ")]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-row",t._l(t.scheduleNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)})),1)],1)],1)},Po=[],Yo={name:"ScheduleNotificationForm",data:function(){return{scheduleNotifications:[]}},computed:Object(b["a"])({},Object(C["c"])(["auth","allNotificationSetting"])),mounted:function(){this.scheduleNotifications=this.allNotificationSetting.filter((function(t){return"Schedule Notification"===t.groupName}))},methods:{changeNotification:function(t){var e=this;w.updateNotification(this.auth.userID,{typeNotificationID:t.typeNotificationID,isStatusOn:t.isStatusOn?1:0}).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","Updated the Notification Setting!")})).catch((function(t){e.$root.$emit("snackbar","error",t.message)}))}}},Bo=Yo,zo=Object(l["a"])(Bo,Uo,Po,!1,null,"7737c798",null),Ho=zo.exports;u()(zo,{VCard:N["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:A["a"],VDivider:F["a"],VRow:Z["a"],VSwitch:Fo["a"]});var Go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[t._v(" Support Notification ")]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-row",t._l(t.supportNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)})),1)],1)],1)},Ko=[],Wo={name:"SupportNotificationForm",data:function(){return{supportNotifications:[],notifications:{isNew:!0,isExisting:!0,isGeneral:!0,isUrgent:!0,isJudge:!0,isCourt:!0,isFamily:!0,isInsurance:!0,isJail:!0,isSpanish:!0,isSolicitation:!0,isMiscellaneous:!0}}},computed:Object(b["a"])({},Object(C["c"])(["auth","allNotificationSetting"])),mounted:function(){this.supportNotifications=this.allNotificationSetting.filter((function(t){return"Support Notification"===t.groupName}))},methods:{changeNotification:function(t){var e=this;w.updateNotification(this.auth.userID,{typeNotificationID:t.typeNotificationID,isStatusOn:t.isStatusOn?1:0}).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","Updated the Notification Setting!")})).catch((function(t){e.$root.$emit("snackbar","error",t.message)}))}}},qo=Wo,Jo=Object(l["a"])(qo,Go,Ko,!1,null,"c9416e90",null),Qo=Jo.exports;u()(Jo,{VCard:N["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:A["a"],VDivider:F["a"],VRow:Z["a"],VSwitch:Fo["a"]});var Zo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[t._v(" Message Notification ")]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"py-0"},[a("h5",{staticClass:"mb-0 primaryText"},[t._v("New Message")])]),a("v-col",{staticClass:"py-0",attrs:{cols:"auto"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:"All"},on:{change:t.changeAllNotification},model:{value:t.isAll,callback:function(e){t.isAll=e},expression:"isAll"}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}}),t._l(t.newMessageNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)}))],2),a("v-row",{staticClass:"pt-4"},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("h5",{staticClass:"mb-0 primaryText"},[t._v("Set Appointment")])])],1),a("v-divider"),a("v-row",t._l(t.setAppointmentNotifications,(function(e){return a("v-col",{key:e.typeNotificationID,staticClass:"pt-0",attrs:{cols:"12"}},[a("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",dense:"",color:"green",label:""+e.subType},on:{change:function(a){return t.changeNotification(e)}},model:{value:e.isStatusOn,callback:function(a){t.$set(e,"isStatusOn",a)},expression:"notification.isStatusOn"}})],1)})),1)],1)],1)},Xo=[],tc=(a("4160"),a("159b"),{name:"MessageNotificationForm",data:function(){return{isAll:!0,newMessageNotifications:[],setAppointmentNotifications:[]}},computed:Object(b["a"])({},Object(C["c"])(["auth","allNotificationSetting"])),watch:{newMessageNotifications:{handler:function(t){var e=Qe.a.filter(t,(function(t){return!t.isStatusOn}));this.isAll=e.length<=0},deep:!0},isAll:function(t){var e=this;t&&this.newMessageNotifications.forEach((function(t){!1===t.isStatusOn&&(t.isStatusOn=!0,e.changeNotification(t))}))}},mounted:function(){this.newMessageNotifications=this.allNotificationSetting.filter((function(t){return"New Message"===t.type})),this.setAppointmentNotifications=this.allNotificationSetting.filter((function(t){return"Set Appointment"===t.type}))},methods:{changeAllNotification:function(t){var e=this;t||this.newMessageNotifications.forEach((function(t){!0===t.isStatusOn&&(t.isStatusOn=!1,e.changeNotification(t))}))},changeNotification:function(t){var e=this;w.updateNotification(this.auth.userID,{typeNotificationID:t.typeNotificationID,isStatusOn:t.isStatusOn?1:0}).then((function(t){200===t.status&&e.$root.$emit("snackbar","success","Updated the Notification Setting!")})).catch((function(t){e.$root.$emit("snackbar","error",t.message)}))}}}),ec=tc,ac=Object(l["a"])(ec,Zo,Xo,!1,null,"50fb2609",null),sc=ac.exports;u()(ac,{VCard:N["a"],VCardText:O["b"],VCardTitle:O["c"],VCol:A["a"],VDivider:F["a"],VRow:Z["a"],VSwitch:Fo["a"]});var ic={name:"profile",data:function(){return{loading:!1}},components:{Integrations:So,MessageNotificationForm:sc,SupportNotificationForm:Qo,ScheduleNotificationForm:Ho,TaskNotificationForm:Ro,GroupText:jo},computed:Object(b["a"])({},Object(C["c"])(["auth"])),mounted:function(){var t=this;mi&&this.$mixpanel.track("Settings",{genre:"hip-hop","duration in seconds":42}),this.loading=!0,w.getAllNotificationSetting(this.auth.userID).then((function(e){200===e.status?t.$store.commit("setAllNotificationSetting",e.data):t.$store.commit("setAllNotificationSetting",null)})).catch((function(e){console.log(e.messages),t.$store.commit("setAllNotificationSetting",null)})).finally((function(){t.loading=!1}))}},nc=ic,oc=Object(l["a"])(nc,ho,vo,!1,null,"25c7379e",null),cc=oc.exports;u()(oc,{VCard:N["a"],VCol:A["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VToolbar:B["a"],VToolbarTitle:z["a"]});var lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{sm:"6",cols:"12"}},[a("v-select",{attrs:{items:t.filterList,label:"Filter",multiple:"","hide-details":"","prepend-inner-icon":"mdi-filter"},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{on:{click:t.setAll}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v(t._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Select All")])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1),t.isLoading?a("v-progress-linear",{attrs:{indeterminate:"",size:"64"}}):t._e(),a("v-expansion-panels",{attrs:{multiple:""}},t._l(t.logList,(function(e,s){return a("v-expansion-panel",{key:s},[a("v-expansion-panel-header",[a("p",{staticClass:"mb-0"},[t._v("Update made by: "+t._s(e.changesMade))])]),a("v-expansion-panel-content",[a("p",{staticClass:"text-uppercase"},[t._v("update made: "+t._s(t._f("moment")(e.dateChangesMade,"YYYY-MM-DD hh:mm:ss A")))]),a("p",{staticClass:"text-uppercase"},[t._v("update made by: "+t._s(e.changesMade))]),a("p",{staticClass:"text-uppercase"},[t._v("method: "+t._s(e.changedFromApp))])])],1)})),1)],1)},rc=[],uc=(a("fb6a"),{name:"index",data:function(){return{search:"",logList:[],itemsPerPageArray:[10,25,50],pageNumber:1,pageSize:10,isLoading:!1,filter:["Messages","Contacts","Tasks","Profile","Settings","Schedule"],filterList:["Messages","Contacts","Tasks","Profile","Settings","Schedule"]}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["auth"])),{},{likesAllFilters:function(){return this.filter.length===this.filterList.length},likesSomeFilters:function(){return this.filter.length>0&&!this.likesAllFilters},icon:function(){return this.likesAllFilters?"mdi-checkbox-marked":this.likesSomeFilters?"mdi-minus-box":"mdi-checkbox-blank-outline"},numberOfPages:function(){return Math.ceil(this.logList.length/this.pageSize)}}),watch:{filter:function(t,e){0===t.length&&1===e.length&&(this.filter=Object(Ke["a"])(e)),this.getChangeLogs()},pageNumber:function(){this.getChangeLogs()},pageSize:function(){this.getChangeLogs()}},mounted:function(){mi&&this.$mixpanel.track("Change Logs",{genre:"hip-hop","duration in seconds":42}),this.getChangeLogs()},methods:{getChangeLogs:function(){var t=this;this.isLoading=!0,6===this.filter.length?w.getAllChangeLogs(this.auth.userID,this.pageNumber,this.pageSize).then((function(e){200===e.status&&(t.logList=e.data)})).finally((function(){t.isLoading=!1})):w.getFilterChangeLogs(this.auth.userID,this.pageNumber,this.pageSize,this.filter.join()).then((function(e){200===e.status&&(t.logList=e.data)})).finally((function(){t.isLoading=!1}))},setAll:function(){var t=this;this.$nextTick((function(){t.likesAllFilters||(t.filter=t.filterList.slice())}))},nextPage:function(){this.pageNumber+1<=this.numberOfPages&&(this.pageNumber+=1)},formerPage:function(){this.pageNumber-1>=1&&(this.pageNumber-=1)},updateItemsPerPage:function(t){this.pageSize=t}}}),dc=uc,mc=a("8e36"),hc=Object(l["a"])(dc,lc,rc,!1,null,"5322a715",null),vc=hc.exports;u()(hc,{VCol:A["a"],VDivider:F["a"],VExpansionPanel:ha["a"],VExpansionPanelContent:va["a"],VExpansionPanelHeader:fa["a"],VExpansionPanels:pa["a"],VIcon:L["a"],VListItem:Lt["a"],VListItemAction:aa["a"],VListItemContent:Ut["b"],VListItemTitle:Ut["d"],VProgressLinear:mc["a"],VRow:Z["a"],VSelect:X["a"]});var fc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"px-4"},[a("v-col",{attrs:{sm:"12",md:"5",lg:"4",xl:"3",cols:"12"}},[a("BannerCard"),a("TeamMembers")],1),a("v-col",{attrs:{sm:"12",md:"7",lg:"8",xl:"9",cols:"12"}},[a("EditProfileForm",{attrs:{isEdit:t.isEdit},on:{cancel:t.cancel}})],1)],1)},pc=[],gc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-12 text-center"},[a("v-card-text",{staticClass:"company_content position-relative",style:{"background-image":"url("+t.companyImage+")"}},[a("div",{staticClass:"position-relative py-4"},[a("v-avatar",{staticClass:"border-white avatar",attrs:{size:"120"}},[a("v-img",{attrs:{src:t.userAvatar}})],1),a("v-btn",{staticClass:"upload_avatar",attrs:{"x-small":"",fab:"",dark:"",color:"primary",loading:t.isAvatarLoading},on:{click:t.clickAvatar}},[a("v-icon",[t._v("mdi-camera")])],1)],1),a("v-btn",{staticClass:"upload_company_bg position-absolute",attrs:{"x-small":"",fab:"",dark:"",color:"primary",loading:t.isCompanyLoading},on:{click:t.clickCompany}},[a("v-icon",[t._v("mdi-camera")])],1),a("input",{ref:"fileInput",staticClass:"d-none",attrs:{type:"file",accept:"image/png, image/jpeg, image/bmp"},on:{change:t.select}})],1),a("v-card-actions",{staticClass:"primary text-white"},[a("v-card-text",{staticClass:"pa-0"},[a("h5",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),a("h6",[t._v(t._s(t.user.companyName))])])],1)],1)},bc=[],Cc={name:"BannerCard",data:function(){return{isAvatar:!1,isAvatarLoading:!1,isCompanyLoading:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(C["c"])(["user"])),{},{userAvatar:function(t){return t.$imgLink+(t.user.usersImageURL||t.$avatar)},companyImage:function(t){return t.$imgLink+(t.user.companyImageURL||t.$company)}}),methods:{clickAvatar:function(){this.isAvatar=!0,this.$refs.fileInput.click()},clickCompany:function(){this.isAvatar=!1,this.$refs.fileInput.click()},select:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){var s=new FileReader;s.readAsDataURL(a[0]),s.addEventListener("load",(function(){e.isAvatar?e.uploadAvatar(a[0]):e.uploadCompany(a[0])}))}},uploadAvatar:function(t){var e=this,a=this;this.isAvatarLoading=!0,w.uploadProfileImage(this.user.id,t).then((function(t){200===t.status?(a.user.usersImageURL=t.data.imageUrl,e.$store.commit("setUser",e.user),e.$root.$emit("snackbar","success","User Avatar Uploaded!")):e.$root.$emit("snackbar","error","".concat(t.status," error"))})).catch((function(t){e.$root.$emit("snackbar","error",t.message)})).finally((function(){e.isAvatarLoading=!1}))},uploadCompany:function(t){var e=this,a=this;this.isCompanyLoading=!0,w.uploadCompanyImage(this.user.id,t).then((function(t){200===t.status?(a.user.companyImageURL=t.data.imageUrl,e.$store.commit("setUser",e.user),e.$root.$emit("snackbar","success","User Company Image Uploaded!")):e.$root.$emit("snackbar","error","".concat(t.status," error"))})).catch((function(t){e.$root.$emit("snackbar","error",t.message)})).finally((function(){e.isCompanyLoading=!1}))}}},Sc=Cc,kc=(a("0e97"),Object(l["a"])(Sc,gc,bc,!1,null,"1fa7758d",null)),xc=kc.exports;u()(kc,{VAvatar:M["a"],VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VIcon:L["a"],VImg:R["a"]});var _c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.userInfo?a("v-card",[a("v-card-actions",[a("v-spacer"),t.isEdit?[a("v-btn",{staticClass:"mr-2",attrs:{disabled:t.loading},on:{click:t.close}},[t._v("Cancel")]),1===t.user.isPending?a("v-btn",{attrs:{disabled:1===t.user.isPending}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" Requested Sent ")],1):a("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"primary"},on:{click:t.confirm}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-send")]),t._v(" Request Update ")],1)]:[a("v-btn",{attrs:{color:"primary"},on:{click:t.close}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-edit")]),t._v(" Edit ")],1)]],2),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",[a("v-overlay",{attrs:{value:t.loading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-row",[a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account","hide-details":"",dense:"",label:"First Name",disabled:!t.isEdit},model:{value:t.userInfo.firstName,callback:function(e){t.$set(t.userInfo,"firstName",e)},expression:"userInfo.firstName"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-account","hide-details":"",dense:"",label:"Last Name",disabled:!t.isEdit},model:{value:t.userInfo.lastName,callback:function(e){t.$set(t.userInfo,"lastName",e)},expression:"userInfo.lastName"}})],1),a("v-col",{attrs:{md:"6",lg:"3",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-earth","hide-details":"",dense:"",label:"Address",disabled:!t.isEdit},model:{value:t.userInfo.address1,callback:function(e){t.$set(t.userInfo,"address1",e)},expression:"userInfo.address1"}})],1),a("v-col",{attrs:{md:"6",lg:"3",cols:"12"}},[a("v-text-field",{attrs:{"hide-details":"",dense:"",disabled:!t.isEdit},model:{value:t.userInfo.address2,callback:function(e){t.$set(t.userInfo,"address2",e)},expression:"userInfo.address2"}})],1),a("v-col",{attrs:{md:"4",lg:"2",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-city-variant","hide-details":"",dense:"",label:"City",disabled:!t.isEdit},model:{value:t.userInfo.city,callback:function(e){t.$set(t.userInfo,"city",e)},expression:"userInfo.city"}})],1),a("v-col",{attrs:{md:"4",lg:"2",cols:"12"}},[a("v-select",{attrs:{"prepend-inner-icon":"mdi-city-variant",items:t.items,"item-text":"name","item-value":"abbreviation","hide-details":"",dense:"",label:"State",disabled:!t.isEdit},model:{value:t.userInfo.state,callback:function(e){t.$set(t.userInfo,"state",e)},expression:"userInfo.state"}})],1),a("v-col",{attrs:{md:"4",lg:"2",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-postage-stamp","hide-details":"",dense:"",label:"Zip",disabled:!t.isEdit},model:{value:t.userInfo.zip,callback:function(e){t.$set(t.userInfo,"zip",e)},expression:"userInfo.zip"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-email","hide-details":"",dense:"",label:"Email",disabled:!t.isEdit},model:{value:t.userInfo.email,callback:function(e){t.$set(t.userInfo,"email",e)},expression:"userInfo.email"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-domain","hide-details":"",dense:"",label:"Company Name",disabled:!t.isEdit},model:{value:t.userInfo.companyName,callback:function(e){t.$set(t.userInfo,"companyName",e)},expression:"userInfo.companyName"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-cellphone-iphone","hide-details":"",dense:"",label:"Cell Phone Number",disabled:!t.isEdit},model:{value:t.userInfo.cellPhone,callback:function(e){t.$set(t.userInfo,"cellPhone",e)},expression:"userInfo.cellPhone"}})],1),a("v-col",{attrs:{md:"6",lg:"6",cols:"12"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"mdi-phone-classic","hide-details":"",dense:"",label:"Business Phone Number",disabled:!t.isEdit},model:{value:t.userInfo.mainPhone,callback:function(e){t.$set(t.userInfo,"mainPhone",e)},expression:"userInfo.mainPhone"}})],1)],1)],1)],1):t._e()},Dc=[],yc={name:"EditProfileForm",props:["isEdit"],data:function(){return{userInfo:null,loading:!1,items:nt}},computed:Object(b["a"])({},Object(C["c"])(["user"])),mounted:function(){this.userInfo=Object(b["a"])({},this.user)},methods:{close:function(){this.userInfo=Object(b["a"])({},this.user),this.$emit("cancel")},confirm:function(){var t=this;this.loading=!0,w.updateUser(this.userInfo).then((function(e){200===e.status?(t.$store.commit("setUser",Object(b["a"])(Object(b["a"])({},t.userInfo),{},{isPending:1})),t.$root.$emit("snackbar","success","User Info Updated!")):t.$root.$emit("snackbar","error","".concat(e.status," error"))})).catch((function(e){t.$root.$emit("snackbar","error",e.message)})).finally((function(){t.loading=!1,t.close()}))}}},Tc=yc,Ic=Object(l["a"])(Tc,_c,Dc,!1,null,"2ccfd214",null),wc=Ic.exports;u()(Ic,{VBtn:j["a"],VCard:N["a"],VCardActions:O["a"],VCardText:O["b"],VCol:A["a"],VDivider:F["a"],VIcon:L["a"],VOverlay:U["a"],VProgressCircular:P["a"],VRow:Z["a"],VSelect:X["a"],VSpacer:Y["a"],VTextField:tt["a"]});var $c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mt-4"},[a("v-card-title",[t._v(" Team Members ")]),a("v-divider",{staticClass:"ma-0"}),a("v-card-text",{staticClass:"pa-0"},[a("v-list",{attrs:{dense:"","two-line":""}},t._l(t.allTeamMembers,(function(e){return a("v-list-item",{key:e.title,staticClass:"widget-content"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.getImageUrl(e.usersImageURL)}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"contact-title text-capitalize"},[a("h6",{staticClass:"font-weight-bold"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))])]),a("v-list-item-subtitle",{staticClass:"text--secondary"},[a("p",{staticClass:"mb-1"},[a("strong",[t._v("Email:")]),t._v(" "+t._s(e.email))]),a("p",{staticClass:"mb-1"},[a("strong",[t._v("Main Phone:")]),t._v(" "+t._s(e.mainPhone))]),a("p",{staticClass:"mb-1"},[a("strong",[t._v("Cell Phone:")]),t._v(" "+t._s(e.cellPhone))])])],1)],1)})),1)],1)],1)},Vc=[],Mc={name:"TeamMembers",data:function(){return{showTeamMember:!0}},computed:Object(b["a"])({},Object(C["c"])(["user","allTeamMembers"])),methods:{getImageUrl:function(t){return"".concat(this.$imgLink).concat(t||this.$avatar)}}},jc=Mc,Nc=Object(l["a"])(jc,$c,Vc,!1,null,"6adda09e",null),Oc=Nc.exports;u()(Nc,{VCard:N["a"],VCardText:O["b"],VCardTitle:O["c"],VDivider:F["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:Rt["a"],VListItemContent:Ut["b"],VListItemSubtitle:Ut["c"],VListItemTitle:Ut["d"]});var Ac={name:"profile",components:{TeamMembers:Oc,EditProfileForm:wc,BannerCard:xc},data:function(){return{isEdit:!1,isNotificationEdit:!1}},mounted:function(){mi&&this.$mixpanel.track("Profile",{genre:"hip-hop","duration in seconds":42})},methods:{cancel:function(){this.isEdit=!this.isEdit},cancelNotification:function(){this.isNotificationEdit=!this.isNotificationEdit}}},Ec=Ac,Fc=Object(l["a"])(Ec,fc,pc,!1,null,"af778b28",null),Lc=Fc.exports;u()(Fc,{VCol:A["a"],VRow:Z["a"]}),s["default"].use(f["a"]);var Rc=[{path:"/login",name:"login",component:Oe},{path:"/",component:we,children:[{path:"",name:"dashboard",component:Qs},{path:"tasks",name:"tasks",component:Kn},{path:"schedules",component:xi,children:[{path:"",name:"schedule",component:Gi}]},{path:"support",name:"support",component:nn},{path:"contacts",name:"contacts",component:Pn},{path:"messages",component:Xn,children:[{path:"",name:"message",component:Ra},{path:":id",name:"messageContent",component:mo,props:!0}]},{path:"settings",name:"settings",component:cc},{path:"logs",name:"logs",component:vc},{path:"profile",name:"profile",component:Lc},{path:"*",name:"error",component:Ue}]}],Uc=new f["a"]({mode:"history",base:"/",routes:Rc,scrollBehavior:function(){return window.scrollTo({top:0,behavior:"smooth"})}});Uc.beforeEach(function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e,a,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"login"===e.name||Uc.app.$auth.isAuthenticated()?s():Uc.app.$auth.login();case 1:case"end":return t.stop()}}),t)})));return function(e,a,s){return t.apply(this,arguments)}}());var Pc=Uc,Yc=a("ce5b"),Bc=a.n(Yc);a("bf40");s["default"].use(Bc.a);var zc=new Bc.a({theme:{themes:{light:{primary:"#103C65",secondary:"#2699FB",accent:"#848484"}}}}),Hc=a("2ead"),Gc=a.n(Hc);s["default"].use(Gc.a);var Kc=a("bc3a"),Wc=a.n(Kc),qc=a("a7fe"),Jc=a.n(qc);s["default"].use(Jc.a,Wc.a),s["default"].axios.defaults.baseURL="https://devapi.answeringmobile.com/1/",s["default"].axios.defaults.headers.common["Content-Type"]="application/json",s["default"].axios.defaults.headers.common["Access-Control-Allow-Origin"]="*";var Qc=a("ec45");a("411c");s["default"].use(Qc["a"]);var Zc=a("4eb5"),Xc=a.n(Zc);Xc.a.config.autoSetContainer=!0,s["default"].use(Xc.a);var tl=a("9c6e");s["default"].use(tl["a"],{subscribeKey:"sub-c-ac88303e-40ca-11eb-a73a-1eec528e8f1f"});var el=a("a4a1"),al=a.n(el);a("f6b9");s["default"].use(al.a);a("d5e8"),a("5363");s["default"].prototype.$mixpanel=a("94ba"),mi&&s["default"].prototype.$mixpanel.init("02423df8de57d7a659cfaf6a03187a03",{api_host:"https://api-eu.mixpanel.com"},""),s["default"].prototype.$imgLink="https://alappimages.s3.amazonaws.com/",s["default"].prototype.$avatar="defaultProfile.png",s["default"].prototype.$company="defaultProfileBack.png",s["default"].prototype.$auth=bi,s["default"].prototype.$UA=UA,s["default"].prototype.$statusIconList=[{id:0,name:"Not Taking Calls",iconURL:"unavailable.png"},{id:1,name:"Taking Calls",iconURL:"takingCalls.png"}],s["default"].config.productionTip=!1,new s["default"]({router:Pc,store:di,vuetify:zc,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"5c63":function(t,e,a){t.exports=a.p+"img/mainTutorial-6.94701b8b.png"},"5ca5":function(t,e,a){},"5dea":function(t,e,a){"use strict";a("d7d9")},"5f32":function(t,e,a){},6142:function(t,e,a){},6215:function(t,e,a){},6330:function(t,e,a){},"6b60":function(t,e,a){},"6c43":function(t,e,a){t.exports=a.p+"img/mainTutorial-1.2b353ad5.png"},"6da7":function(t,e,a){"use strict";a("aef5")},"6e7b":function(t,e,a){},7018:function(t,e,a){},"71cf":function(t,e,a){},7265:function(t,e,a){"use strict";a("71cf")},"775b":function(t,e,a){},"7b6d":function(t,e,a){"use strict";a("52cc")},"7c01":function(t,e,a){"use strict";a("6330")},8104:function(t,e,a){"use strict";a("3a15")},"829b":function(t,e,a){"use strict";a("0899")},8319:function(t,e,a){},"86c6":function(t,e,a){t.exports=a.p+"img/returnToDefault.30cd7f92.png"},"91a1":function(t,e,a){},"9c0c":function(t,e,a){},"9c49":function(t,e,a){"use strict";a("6215")},"9d06":function(t,e,a){t.exports=a.p+"img/mainTutorial-2.7dec1bf3.png"},"9f09":function(t,e,a){},a160:function(t,e,a){"use strict";a("120b")},a303:function(t,e,a){"use strict";a("41ef")},ab3f:function(t,e,a){t.exports=a.p+"img/messagesTutorial-1.8b3b1c7f.png"},acde:function(t,e,a){},ad5b:function(t,e,a){"use strict";a("7018")},aef5:function(t,e,a){},b753:function(t,e,a){"use strict";a("efaa")},bfff:function(t,e,a){"use strict";a("6142")},c0a7:function(t,e,a){t.exports=a.p+"img/mainTutorial-5.814a35a3.png"},c1f3:function(t,e,a){},c271:function(t,e,a){},c2fe:function(t,e,a){"use strict";a("6e7b")},c6e5:function(t,e,a){"use strict";a("4e22")},c79c:function(t,e,a){"use strict";a("2b5c")},d37a:function(t,e,a){"use strict";a("9f09")},d465:function(t,e,a){t.exports=a.p+"img/changeStatus.2fd112c7.png"},d53e:function(t,e,a){},d6db:function(t,e,a){"use strict";a("e67a")},d6fe:function(t,e,a){"use strict";a("6b60")},d795:function(t,e,a){t.exports=a.p+"img/messagesTutorial-5.e2539689.png"},d7d9:function(t,e,a){},d97d:function(t,e,a){t.exports=a.p+"img/messagesTutorial-3.e2a7b12d.png"},d99a:function(t,e,a){},df0c:function(t,e,a){t.exports=a.p+"img/messagesTutorial-4.5bea26bc.png"},e0a0:function(t,e,a){t.exports=a.p+"img/mainTutorial-4.bca50432.png"},e306:function(t,e,a){"use strict";a("3652")},e3cc:function(t,e,a){"use strict";a("d99a")},e67a:function(t,e,a){},e9dc:function(t,e,a){},ea3b:function(t,e,a){"use strict";a("c1f3")},ec3b:function(t,e,a){},efaa:function(t,e,a){}});
//# sourceMappingURL=app.f3e245e2.js.map